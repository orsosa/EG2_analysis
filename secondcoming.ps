%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: secondcoming.dvi
%%Pages: 34
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Helvetica-Bold Times-Bold Times-Italic
%%+ Courier Times-BoldItalic
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSCommandLine: dvips -o
%+ /claspc1/home/freyberg/tex/recsis/secondcoming.ps secondcoming.dvi
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 1997.11.03:1129
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Roman
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (secondcoming.dvi)
@start /Fa 180[58 2[58 2[49 1[53 67[{ TeXBase1Encoding ReEncodeFont }4
79.999924 /Times-Roman rf /Fb 2 88 df<7000000000000000FC00000000000000FF
000000000000007FC00000000000001FF000000000000007FC00000000000001FF000000
000000007FC00000000000001FF000000000000007FE00000000000001FF800000000000
007FE00000000000001FF800000000000003FE00000000000000FF800000000000003FE0
0000000000000FF800000000000003FF00000000000000FFC00000000000003FF0000000
0000000FFC00000000000001FF000000000000007FC00000000000001FF0000000000000
07FC00000000000001FF000000000000007FC00000000000001FE00000000000001FE000
00000000007FC0000000000001FF00000000000007FC0000000000001FF0000000000000
7FC0000000000001FF0000000000000FFC0000000000003FF0000000000000FFC0000000
000003FF0000000000000FF80000000000003FE0000000000000FF80000000000003FE00
00000000001FF80000000000007FE0000000000001FF80000000000007FE000000000000
1FF00000000000007FC0000000000001FF00000000000007FC0000000000001FF0000000
0000007FC0000000000000FF00000000000000FC0000000000000070000000000000003B
3878B44C>62 D<FFFFFF8003FFFFFC0007FFFFFFFFFF8007FFFFFC0007FFFFFFFFFF0007
FFFFF80007FFFF03FFC000001FFE0000007FE001FF0000000FF80000003F8001FF000000
0FF80000001F0001FF0000000FF80000001E0001FF0000000FF80000001C0001FF000000
07F80000001C0000FF00000007F8000000180000FF00000007F8000000300000FF000000
0FF8000000700000FF0000000FF8000000600000FF0000001FF8000000C00000FF000000
1FF8000000C00000FF00000037F8000001800000FF00000037F8000001800000FF000000
67F8000003000000FF000000E7F8000003000000FF000000C7F8000006000000FF000001
87F800000E000000FF00000187FC00000C000000FF80000307FC000018000000FF800003
07FC0000180000007F80000603FC0000300000007F80000603FC0000300000007F80000C
03FC0000600000007F80001C03FC0000E00000007F80001803FC0000C00000007F800030
03FC0001800000007F80003003FC0001800000007F80006003FC0003000000007F800060
03FC0003000000007F8000C003FC0006000000007F8001C003FC0006000000007F800180
03FC000C000000007F80030003FC0018000000007F80030003FE0018000000007FC00600
03FE0030000000007FC0060001FE0030000000003FC00C0001FE0060000000003FC00C00
01FE0060000000003FC0180001FE00C0000000003FC0300001FE01C0000000003FC03000
01FE0180000000003FC0600001FE0300000000003FC0600001FE0300000000003FC0C000
01FE0600000000003FC0C00001FE0600000000003FC1800001FE0C00000000003FC38000
01FE1C00000000003FC3000001FE1800000000003FC6000001FF3000000000003FE60000
01FF3000000000003FEC000001FF6000000000003FEC000000FF6000000000001FF80000
00FFC000000000001FF8000000FFC000000000001FF0000000FF8000000000001FE00000
00FF0000000000001FE0000000FF0000000000001FC0000000FE0000000000001FC00000
00FE0000000000001F80000000FC0000000000001F80000000FC0000000000001F000000
00F80000000000001F00000000F80000000000001E00000000F00000000000001C000000
00E00000000000000C0000000060000000000060467BC35C>87 D
E /Fc 1 55 df<0003F800000FFE00003E078000F8018001F007C003E00FC007C00FC00F
800FC00F800FC01F0007801F0000003E0000003E0000007E0000007E0000007C0000007C
0FC000FC3FF000FCF07C00FDC01E00FF800F00FF000F80FF0007C0FE0007E0FE0007E0FE
0003E0FC0003F0FC0003F0FC0003F0FC0003F07C0003F07C0003F07C0003F07E0003F07E
0003F03E0003E03E0007E01E0007E01F0007C00F000F8007801F0003C03E0001E07C0000
7FF000001FC0001C2D7DAB23>54 D E /Fd 135[42 2[46 28 3[46
42 46 2[46 1[23 46 2[37 46 37 99[{ TeXBase1Encoding ReEncodeFont }12
83.333337 /Times-Bold rf /Fe 219[50 36[{
 .167 SlantFont TeXBase1Encoding ReEncodeFont }1 100.000003
/Times-Roman rf /Ff 2 50 df<0000FF00000007FFE000001F81F800003E007C0000FC
003F0001F8001F8001F0000F8003E00007C007C00003E007C00003E00FC00003F00F8000
01F01F800001F81F800001F83F800001FC3F800001FC3F800001FC3F000000FC7F000000
FE7F000000FE7F000000FE7F000000FE7F000000FEFF000000FFFF000000FFFF000000FF
FF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF
000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF00
0000FFFF000000FFFF000000FFFF000000FFFF000000FF7F000000FE7F000000FE7F0000
00FE7F000000FE7F000000FE7F800001FE3F800001FC3F800001FC3F800001FC1F800001
F81F800001F80FC00003F00FC00003F00FC00003F007E00007E003E00007C003F0000FC0
01F8001F8000FC003F00003E007C00001F81F8000007FFE0000000FF000028447CC131>
48 D<000030000000F0000001F0000003F000001FF00000FFF000FFFFF000FFE7F000FF
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000FF80000
1FFC007FFFFFFF7FFFFFFF7FFFFFFF204278C131>I E /Fg 5 111
df<0001FF0000000FFFE000003FFFF800007FFFFC0001FFFFFF0003FFFFFF8007FFFFFF
C00FFFFFFFE01FFFFFFFF01FFFFFFFF03FFFFFFFF87FFFFFFFFC7FFFFFFFFC7FFFFFFFFC
FFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFF
FFFFFFFEFFFFFFFFFEFFFFFFFFFE7FFFFFFFFC7FFFFFFFFC7FFFFFFFFC3FFFFFFFF81FFF
FFFFF01FFFFFFFF00FFFFFFFE007FFFFFFC003FFFFFF8001FFFFFF00007FFFFC00003FFF
F800000FFFE0000001FF000027267BAB32>15 D<0000000000000000F000000000000000
00000000F00000000000000000000000F00000000000000000000000F800000000000000
000000007800000000000000000000007800000000000000000000007C00000000000000
000000003C00000000000000000000003C00000000000000000000003E00000000000000
000000001E00000000000000000000001F00000000000000000000000F80000000000000
000000000F800000000000000000000007C00000000000000000000003E0000000000000
0000000003F00000000000000000000001F80000000000000000000000FC000000000000
00000000007E00000000000000000000003F00000000000000000000001F800000000000
00000000000FE00000000000000000000003F8007FFFFFFFFFFFFFFFFFFFFE00FFFFFFFF
FFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFFFFFFF807FFFFFFFFFFFFFFFFFFFFE0000000000
000000000003F8000000000000000000000FE0000000000000000000001F800000000000
00000000003F00000000000000000000007E0000000000000000000000FC000000000000
0000000001F80000000000000000000003F00000000000000000000003E0000000000000
0000000007C0000000000000000000000F80000000000000000000000F80000000000000
000000001F00000000000000000000001E00000000000000000000003E00000000000000
000000003C00000000000000000000003C00000000000000000000007C00000000000000
00000000780000000000000000000000780000000000000000000000F800000000000000
00000000F00000000000000000000000F00000000000000000000000F000000059347BB2
64>33 D<0000000FE0000000FFE0000003FC0000000FE00000003FC00000007F80000000
FF00000000FE00000001FC00000001FC00000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000007F000000007
F00000000FE00000001FE00000003FC00000007F80000000FE00000007F8000000FFE000
0000FFE000000007F800000000FE000000007F800000003FC00000001FE00000000FE000
000007F000000007F000000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000001FC00000001FC00000000FE00
000000FF000000007F800000003FC00000000FE000000003FC00000000FFE00000000FE0
236479CA32>102 D<FE00000000FFE000000007F800000000FE000000007F800000003F
C00000001FE00000000FE000000007F000000007F000000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000001
FC00000001FC00000000FE00000000FF000000007F800000003FC00000000FE000000003
FC00000000FFE0000000FFE0000003FC0000000FE00000003FC00000007F80000000FF00
000000FE00000001FC00000001FC00000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000007F000000007F000
00000FE00000001FE00000003FC00000007F80000000FE00000007F8000000FFE0000000
FE00000000236479CA32>I<6000000000F000000000F800000000F80000000078000000
007C000000007C000000003C000000003E000000003E000000001E000000001F00000000
1F000000000F800000000F80000000078000000007C000000007C000000003C000000003
E000000003E000000001E000000001F000000001F000000000F800000000F80000000078
000000007C000000007C000000003C000000003E000000003E000000001E000000001F00
0000001F000000000F800000000F80000000078000000007C000000007C000000003C000
000003E000000003E000000001E000000001F000000001F000000000F800000000F80000
000078000000007C000000007C000000003C000000003E000000003E000000001F000000
001F000000000F000000000F800000000F80000000078000000007C000000007C0000000
03C000000003E000000003E000000001F000000001F000000000F000000000F800000000
F80000000078000000007C000000007C000000003C000000003E000000003E000000001F
000000001F000000000F000000000F800000000F80000000078000000007C000000007C0
00000003C000000003E000000003E000000001F000000001F000000000F000000000F800
000000F80000000078000000007C000000007C000000003C000000003E000000003E0000
00001E000000000C27647BCA32>110 D E /Fh 2 104 df<0000003F000003FF00000FE0
00003F8000007E000001FC000001F8000003F0000003F0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E000000FE000000FC000
001FC000003F8000003F000000FE000003F800007FE00000FF0000007FE0000003F80000
00FE0000003F0000003F8000001FC000000FC000000FE0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E000
0007E0000007E0000007E0000007E0000007E0000007E0000007E0000003F0000003F000
0001F8000001FC0000007E0000003F8000000FE0000003FF0000003F205B7AC32D>102
D<FC000000FFC0000007F0000001FC0000007E0000003F8000001F8000000FC000000FC0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007F0000003F0000003F8000001FC000000FC0000007F0000001FC0000007
FE000000FF000007FE00001FC000007F000000FC000001FC000003F8000003F0000007F0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0000007E0
000007E000000FC000000FC000001F8000003F8000007E000001FC000007F00000FFC000
00FC000000205B7AC32D>I E /Fi 156[37 99[{ TeXBase1Encoding ReEncodeFont }
1 83.333337 /Times-BoldItalic rf /Fj 1 68 df<00000000FF8001C00000000FFF
E001C00000007FFFF80380000001FF807E0780000007F8000F0F8000001FE000079F8000
003F800003BF000000FF000001FF000001FC000000FF000003F8000000FF000007F00000
007E00000FE00000007E00001FC00000007E00003F800000003E00007F800000003C0000
FF000000003C0000FE000000003C0001FE000000003C0003FC00000000380003F8000000
00380007F80000000038000FF00000000038000FF00000000030001FF00000000030001F
E00000000000001FE00000000000003FC00000000000003FC00000000000003FC0000000
0000007FC00000000000007F800000000000007F800000000000007F80000000000000FF
80000000000000FF00000000000000FF00000000000000FF00000000000000FF00000000
000000FF00000000030000FF00000000030000FF00000000070000FF00000000060000FF
000000000600007F000000000E00007F000000000C00007F000000001C00007F00000000
3800003F800000003800003F800000007000001F80000000E000001FC0000001C000000F
E00000038000000FE000000780000007F000000E00000003F800003C00000001FC000078
00000000FF0001F0000000003FE00FC0000000000FFFFF000000000003FFFC0000000000
007FC0000000003A3D7CBA3B>67 D E /Fk 1 21 df<800008E00038F800F83E03E01F07
C00FDF8003FE0001FC0000F800002000150A76B42A>20 D E /Fl
104[91 45 1[40 25[40 45 45 66 45 45 25 35 30 1[45 45
45 71 25 45 25 25 45 45 30 40 45 40 45 40 30 7[66 86
66 66 56 51 61 2[66 66 81 56 66 1[30 66 66 51 56 66 61
61 66 3[51 1[25 25 45 45 45 45 45 45 45 45 45 45 25 23
30 23 51 45 30 30 30 2[45 45 1[30 30[51 2[{
 TeXBase1Encoding ReEncodeFont }76 91.249976 /Times-Roman
rf /Fm 134[60 60 60 60 60 60 60 60 1[60 60 60 60 60 60
1[60 60 60 60 60 60 60 60 60 60 2[60 1[60 3[60 60 1[60
5[60 60 60 2[60 2[60 60 60 60 60 60 2[60 8[60 60 1[60
60 60 60 60 60 60 2[60 60 60 60 4[60 33[{
 TeXBase1Encoding ReEncodeFont }54 100.000003 /Courier
rf /Fn 135[60 1[53 66 33 47 47 2[60 66 1[33 60 1[33 66
2[53 1[53 60 60 26[80 22[33 30 1[30 44[{ TeXBase1Encoding ReEncodeFont }
20 119.999948 /Times-BoldItalic rf /Fo 133[53 60 60 86
60 66 40 47 53 1[66 60 66 100 33 66 1[33 66 60 40 53
66 53 66 60 8[86 120 1[86 80 66 86 1[73 93 86 1[80 1[60
47 2[73 80 86 86 80 86 1[60 4[40 60 60 60 60 60 60 60
60 60 2[30 40 3[40 40 36[66 66 2[{ TeXBase1Encoding ReEncodeFont }59
119.999948 /Times-Bold rf /Fp 137[50 50 50 50 3[50 3[50
2[50 2[50 1[50 99[{ TeXBase1Encoding ReEncodeFont }9
83.333337 /Courier rf /Fq 134[37 37 2[42 23 32 32 1[42
42 42 60 23 37 1[23 1[42 1[37 42 37 42 42 26[51 22[23
21 43[42 2[{ TeXBase1Encoding ReEncodeFont }23 83.333337
/Times-Italic rf /Fr 133[37 42 42 60 42 42 23 32 28 42
42 42 42 65 23 42 1[23 42 42 28 37 42 37 42 37 8[60 78
60 60 51 46 55 1[46 60 60 74 51 1[32 28 60 1[46 51 1[55
55 60 6[23 3[42 4[42 2[21 28 21 47 1[28 28 36[46 46 2[{
 TeXBase1Encoding ReEncodeFont }56 83.333337 /Times-Roman
rf /Fs 171[36 32 39 16[42 7[29 29 29 29 29 29 29 29 29
29 48[{ TeXBase1Encoding ReEncodeFont }14 58.333334 /Times-Roman
rf /Ft 198[33 33 33 33 33 33 33 33 33 33 48[{
 TeXBase1Encoding ReEncodeFont }10 66.666667 /Times-Roman
rf /Fu 134[44 44 66 44 50 28 39 39 1[50 50 50 72 28 44
1[28 50 50 28 44 50 44 50 50 12[55 50 61 1[61 72 66 83
55 66 1[33 2[61 61 72 66 1[61 14[50 1[50 28 25 1[25 67
50 38[50 3[{ TeXBase1Encoding ReEncodeFont }46 100.000003
/Times-Italic rf /Fv 105[50 28[50 1[72 50 55 33 39 44
1[55 50 55 83 28 55 1[28 55 50 33 44 55 44 55 50 9[100
2[66 55 72 1[61 78 72 2[78 1[39 78 1[61 66 1[72 66 72
1[50 6[50 1[50 2[50 50 50 1[28 25 1[25 10[33 30[55 2[{
 TeXBase1Encoding ReEncodeFont }49 100.000003 /Times-Bold
rf /Fw 134[72 72 104 72 80 48 56 64 1[80 72 80 120 40
80 1[40 80 72 48 64 80 64 80 72 9[143 1[104 96 80 104
1[88 112 104 1[96 112 1[56 112 112 88 96 104 104 96 104
6[48 72 72 72 72 72 72 72 72 72 72 40 36 48 5[48 36[80
2[{ TeXBase1Encoding ReEncodeFont }58 143.999997 /Times-Bold
rf /Fx 140[96 3[105 105 153 3[48 1[105 57 96 105 96 15[115
124 14[124 67[{ TeXBase1Encoding ReEncodeFont }13 172.833377
/Helvetica-Bold rf /Fy 103[33 3[44 11[33 13[44 50 50
72 50 50 28 39 33 50 50 50 50 78 28 50 28 28 50 50 33
44 50 44 50 44 33 2[33 1[33 61 72 72 94 72 72 61 55 66
72 55 72 72 89 61 72 39 33 72 72 55 61 72 66 66 72 1[44
1[56 1[28 28 50 50 50 50 50 50 50 50 50 50 28 25 33 25
56 50 33 33 33 1[83 50 50 1[33 29[55 55 2[{
 TeXBase1Encoding ReEncodeFont }87 100.000003 /Times-Roman
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: Letter

%%EndSetup
%%Page: 1 1
1 0 bop 3060 75 a Fy(CLAS-NO)l(TE)25 b(97-XXX)3245 195
y(Arne)g(P)g(Fre)o(yber)n(ger)3242 315 y(No)o(v)o(ember)e(3,)i(1997)971
680 y Fx(Second)48 b(Coming)h(of)f(Recsis)83 966 y Fw(1)143
b(Intr)m(oduction)83 1189 y Fy(The)25 b(original)g(premise)g(for)h
(RECSIS)h(w)o(as)e(a)h Fv(simple)f Fy(FP)-9 b(A)l(CK/BOS)27
b(e)n(v)o(ent)e(loop)f(that)h(w)o(ould)g(allo)n(w)f(parallel)83
1310 y(code)h(de)n(v)o(elopment)e(of)j(e)n(v)o(ent)e(reconstruction)g
(and)h(analysis)g(routines.)31 b(The)25 b(present)g(opinion)f(is)g
(that)h(REC-)83 1430 y(SIS)c(is)e(a)h(clumsy)e(piece)i(of)f(arcane)i
(softw)o(are.)29 b(The)20 b(goal)f(of)g(this)g(note)g(is)g(to)g(change)
h(that)f(opinion)f(with)h(reality)-6 b(.)83 1550 y(RECSIS)30
b(is)e(a)h(simple)e(piece)i(of)f(FOR)-6 b(TRAN)30 b(code.)42
b(The)28 b(FOR)-6 b(TRAN)30 b(language)e(w)o(as)g(chosen)h(mainly)e
(be-)83 1671 y(cause)g(FP)-9 b(A)l(CK,)27 b(BOS,)g(HBOOK)g(and)f
(CERNLIB)h(which)f(RECSIS)j(and)d(RECSIS)i(users)e(call)g(from)g
(within)83 1791 y(the)g(code)h(are)g(all)f(FOR)-6 b(TRAN)28
b(softw)o(are)f(libraries.)35 b(This)26 b(note)g(will)f(not)h(try)h(to)
f(con)l(vince)g(you)g(that)g(FP)-9 b(A)l(CK)83 1911 y(and)30
b(BOS)h(are)g(simple)e(softw)o(are)h(packages,)i(because)e(the)o(y)g
(are)h(not.)46 b(Y)-11 b(ou)30 b(will)f(need)h(to)g(understand)f(BOS)83
2032 y(and)23 b(BOS)h(B)m(ANKS)f(fully)g(to)f(w)o(ork)h(within)f
(RECSIS)j(and)e(deal)g(with)f(the)h(ra)o(w)g(and)g(reconstructed)g
(data.)30 b(Y)-11 b(ou)83 2152 y(will)22 b(need)g(to)h(understand)e
(details)h(of)h(the)f(FP)-9 b(A)l(CK)24 b(I/O)e(utility)f(to)h(mak)o(e)
h(full)f(and)g(ef)n(\002cient)h(use)f(of)h(the)f(CLAS)83
2273 y(dataset.)30 b(BOS)25 b(and)f(FP)-9 b(A)l(CK)25
b(manuals)e(are)i(a)n(v)n(ailable)47 b([)p Fv(?)p Fy(])h([)p
Fv(?)p Fy(].)31 b(This)23 b(note)h(will)f(not)g(go)h(into)f(details)g
(of)h(code)83 2393 y(management)31 b(with)h(CVS)h(or)f(the)g(Mak)o
(e\002le)h(system)e(that)g(the)h(CLAS)h(of)n(\003ine)f(group)g(is)g
(using,)g(for)h(details)83 2513 y(see)58 b([)p Fv(?)o
Fy(].)43 b(The)28 b(structure)g(of)h(this)f(note)g(is)g(as)h(follo)n
(ws,)e(\002rst)i(the)f(considerations)g(and)g(issues)g(that)g(dro)o(v)o
(e)f(the)83 2634 y(design)f(are)h(described)g(follo)n(wed)f(by)g(a)h
(series)g(of)g(sections)e(that)i(detail)f(speci\002c)h(pieces)g(of)g
(RECSIS.)h(These)83 2754 y(sections)23 b(are)h(then)f(follo)n(wed)g(by)
g(a)h(detailed)f(look)o(ed)g(at)h(the)f(present)h(reconstruction)e
(\003o)n(w)i(chart,)g(and)f(\002nally)83 2875 y(we)33
b(present)f(a)h(simple)e(tutorial)g(on)h(ho)n(w)g(modify)-6
b(,)33 b(compile,)g(link)e(and)i(run)f(RECSIS.)i(It)f(is)f(recommended)
83 2995 y(that)22 b(you)h(at)f(least)h(read)g(the)g(introduction)e(to)h
(each)i(section)e(before)h(proceeding)g(to)f(the)h(end)f(so)h(that)f
(you)g(ha)n(v)o(e)83 3115 y(a)j(w)o(orking)f(v)n(ocab)n(ulary)-6
b(.)229 3236 y(This)21 b(document)f(is)h(not)g(a)g(ho)n(w-to)f(or)i
(tutorial,)f(b)n(ut)f(more)h(of)h(a)f(ho)n(w-things-w)o(ork)f
(document.)28 b(Hopefully)83 3356 y(by)g(understanding)f(ho)n(w)g(some)
h(of)g(the)g(black)g(box)f(features)i(w)o(ork)f(and)g(why)f(the)o(y)h
(are)h(there)f(the)g(users)g(will)83 3476 y(feel)d(more)g(comfortable)f
(w)o(orking)g(with)g(RECSIS.)83 3816 y Fw(2)143 b(RECSIS)34
b(Design)h(Philosoph)n(y)e(and)i(Design)f(Goal)83 4040
y Fy(The)j(CLAS)g(data)g(consisting)e(of)h(ra)o(w)h(data)g(from)f
(independent)g(detectors)g(and)h(the)f(data)h(set)f(size)h(w)o(as)g(a)
83 4160 y(strong)29 b(in\003uence)h(on)g(the)g(RECSIS)i(design.)45
b(Consideration)29 b(w)o(as)h(also)g(gi)n(v)o(en)e(to)i(making)f
(RECSIS)j(a)e(tool)83 4280 y(for)36 b(de)n(v)o(elopers)e(and)i(for)g
(pro)o(viding)e(a)i(w)o(ay)g(to)f(trace)h(do)n(wn)f(errors)h(quickly)-6
b(.)62 b(In)36 b(order)g(for)g(independent)83 4401 y(reconstruction)22
b(softw)o(are)g(ef)n(forts)h(of)f(the)h(CLAS)g(detectors)g(to)f
(proceed)h(in)f(parallel)h(an)f(agreed)i(upon)e(frame-)83
4521 y(w)o(ork)k(is)f(needed.)35 b(This)25 b(frame)n(w)o(ork)g
(consists)g(simply)f(of)i(an)g(input/output)d(section,)j(e)n(v)o(ent)f
(loop,)g(command)83 4641 y(line)h(interf)o(ace)h(and)g(interprocess)f
(communication)e(tool.)35 b(The)27 b(reconstruction)f(packages)g(are)i
(called)e(in)g(the)83 4762 y(e)n(v)o(ent)21 b(loop)h(section)f(and)i
(this)e(is)h(where)h(all)f(the)g(w)o(ork)g(is)g(performed.)30
b(The)22 b(reconstruction)g(packages)g(should)83 4882
y(be)28 b(as)f(modular)g(as)h(possible)e(so)h(that)g(the)o(y)g(can)h
(be)f(interchanged)g(with)g(ne)n(w)g(v)o(ersions)f(of)i(the)f(softw)o
(are.)39 b(T)-8 b(o)83 5003 y(insure)22 b(this)g(modularity)g(an)o(y)g
(communication)f(between)i(packages)g(should)f(be)h(perform)g(via)f
(BOS)i(banks)e(so)83 5123 y(that)31 b(the)g(interf)o(aces)g(are)h(well)
f(de\002ned.)50 b(W)l(ith)30 b(such)h(a)g(system)f(an)o(y)h
(reconstruction)f(package)i(or)f Fv(e)o(v)o(en)g(the)83
5243 y(framew)o(ork)26 b Fy(can)f(be)g(easily)f(interchanged)h(with)f
(impro)o(v)o(ed)f(softw)o(are)h(in)h(the)f(future.)p
eop
%%Page: 2 2
2 1 bop 229 75 a Fy(Once)31 b(CLAS)f(is)g(taking)f(data)h(at)g(the)g
(design)f(rate)h(\()g(1kHz)g(=)h(86,4000,00)d(e)n(v)o(ents/day\))g(the)
i(mean)g(time)83 195 y(between)24 b(reconstruction)f(f)o(ailures)h
(\(ie.)30 b(core)25 b(dumps\))e(must)f(be)j(k)o(ept)e(to)h(a)g
(minimum.)k(If)c(the)g(reconstruction)83 315 y(algorithms)18
b(f)o(ail)h(at)h(a)f(rate)h(more)g(than)f(1)g(per)h(86)f(million)f(e)n
(v)o(ents)g(we)h(will)g(spend)g(most)f(of)i(our)f(time)g(reco)o(v)o
(ering)83 436 y(from)28 b(these)g(errors)g(if)g(the)g(time)f(to)h(reco)
o(v)o(er)f(from)h(a)g(f)o(ailure)h(is)e(more)h(than)g(24)f(hours.)40
b(T)-8 b(o)28 b(f)o(acilitate)f(ease)i(of)83 556 y(deb)n(ugging)f
(problems)h(a)h(common)e(message)i(logging)e(utility)g(w)o(as)h(de)n(v)
o(eloped.)44 b(T)-8 b(o)30 b(allo)n(w)e(for)i(monitoring)83
677 y(of)24 b(processes)f(on)g(remote)h(nodes)f(an)h(interprocess)f
(communication)e(tool)i(w)o(as)h(de)n(v)o(eloped)e(so)h(that)g
(problems)83 797 y(can)h(be)g(caught)g(and)g(\002x)o(ed)g(immediately)e
(without)h(ha)n(ving)g(to)g(w)o(ait)h(for)g(the)g(job)f(to)h(complete)f
(processing)g(the)83 917 y(\002le.)31 b(Most)24 b(users)h(will)e(not)i
(need)g(this)f(feature.)229 1038 y(In)42 b(designing)e(the)h(command)f
(line)h(interf)o(ace)h(the)f(dri)n(ving)f(issue)h(w)o(as)g(to)g
Fv(not)h Fy(de)n(v)o(elop)e(a)h(ne)n(w)g(lan-)83 1158
y(guage/interf)o(ace.)53 b(Such)33 b(custom)e(interf)o(aces)i(are)g
(problematic)e(in)h(that)g(the)g(user)g(is)g(con\002ned)g(to)g(what)g
(the)83 1279 y(de)n(v)o(eloper)d(has)h(programmed)g(and)g(the)g(custom)
g(interf)o(ace)h(usually)e(re\003ects)i(the)f(de)n(v)o(eloper')-5
b(s)29 b(sense)h(of)g(the)83 1399 y(interf)o(ace)j(not)g(the)f(users.)
55 b(Also)32 b(the)h(user)g(cannot)f(transfer)h(kno)n(wledge)f(learned)
h(from)g(the)f(custom)g(inter)n(-)83 1519 y(f)o(ace)c(to)f(other)g
(applications.)36 b(Luckily)27 b(the)g(scripting)e(language)i
Fv(Tcl)55 b Fy([)p Fv(?)p Fy(])g([)p Fv(?)p Fy(])27 b(pro)o(vided)f(a)i
(nice)f(solution)f(to)83 1640 y(this)h(problem.)41 b(The)28
b(RECSIS)j(command)c(line)h(is)g(actually)g(a)g(Tcl)h(interpreter)f
(and)g(an)o(y)g(Tcl)g(command)g(can)83 1760 y(be)j(entered)h(at)f(the)h
(RECSIS)h(prompt.)49 b Fv(Tcl)32 b Fy(also)e(pro)o(vided)h(a)g(w)o(ay)h
(for)f(FOR)-6 b(TRAN)32 b(and)g(Tcl)f(v)n(ariables)g(to)83
1880 y(share)e(the)f(same)h(memory)f(location,)g(so)g(that)h(when)f
(you)g(modify)g(the)g(Tcl)h(v)n(ariable)f(at)h(the)f(command)g(line,)83
2001 y(you)e(are)h(also)f(modifying)e(the)i(FOR)-6 b(TRAN)27
b(v)n(ariable.)35 b(This)25 b(pro)o(vides)g(a)i(con)l(v)o(enient)e(w)o
(ay)h(to)g(change)g(initial)83 2121 y(con\002gurations)e(or)h(e)n(v)o
(en)f(perform)h(dynamic)f(changes)h(during)f(the)g(e)o(x)o(ecution)f
(of)i(RECSIS.)229 2242 y(At)33 b(this)f(point)g(you')-5
b(re)33 b(probably)f(swearing)h(about)f(ha)n(ving)g(to)h(read)g(the)g
(BOS,)g(FP)-9 b(A)l(CK)34 b(and)f(Tcl)g(\(and)83 2362
y(HBOOK/P)-9 b(A)g(W\))30 b(manuals,)g(and)f(the)h(CVS)g(and)g
(GNU-MAKE)f(manuals)g(as)g(well)g(to)h(understand)f(ho)n(w)f(the)83
2482 y(b)n(uilds)c(w)o(ork.)31 b(That)25 b(is)f(a)h(lot)g(of)g
(reading!!)31 b(It)25 b(is)g(strongly)f(recommended)g(that)h(you)f(ha)n
(v)o(e)h(those)f(manuals)g(on)83 2603 y(hand)c(as)f(a)h(reference)i(b)n
(ut)d(you)g(probably)g(do)h(not)f(need)h(to)f(read)h(them)f(from)h(co)o
(v)o(er)f(to)g(co)o(v)o(er)-5 b(.)28 b(The)20 b(source)g(code)83
2723 y(in)i(the)g Fv(user)i Fy(routines)d(probably)h(ha)n(v)o(e)g
(enough)g(e)o(xamples)f(to)h(get)h(you)f(going.)28 b(W)-8
b(ell)23 b(let')-5 b(s)21 b(stop)h(swearing)g(and)83
2844 y(look)i(at)h(the)g(e)n(v)o(ent)e(loop)h(as)h(it)f(is)h(presently)
f(implemented)f(in)i(RECSIS.)83 3183 y Fw(3)143 b(Ev)o(ent)34
b(Loop)h(Fundamentals:)41 b(The)35 b(User')-5 b(s)34
b(P)m(erspecti)o(v)o(e)83 3407 y Fy(The)i(RECSIS)h(e)n(v)o(ent)d(loop)h
(is)g(contained)g(in)g(the)g(routine)g Fu(r)l(ecsis/r)l(ecsis)p
2712 3407 30 4 v 35 w(main.F)3062 3370 y Ft(1)3135 3407
y Fy(and)g(the)h(\003o)n(w)f(chart)h(is)83 3527 y(sho)n(wn)28
b(in)h(Figure)58 b Fv(??)p Fy(.)44 b(The)29 b(\003o)n(w)g(control)f(is)
h(go)o(v)o(erned)f(by)h(the)g(e)n(v)o(ent)f(type)h(that)g(is)f(decoded)
h(in)g(the)g(e)n(v)o(ent)83 3647 y(header)-5 b(.)54 b(Physics)31
b(e)n(v)o(ents)g(will)g(ha)n(v)o(e)i(an)f(e)n(v)o(ent)f(type)h(between)
h(1)f(and)g(15,)i(scaler)f(e)n(v)o(ents)e(ha)n(v)o(e)h(e)n(v)o(ent)f
(type)83 3768 y(0)k(and)f(other)h(e)n(v)o(ent)f(types)g(are)h(used)g
(to)f(signal)g(end)g(of)h(run)g(and)g(be)o(gin)e(of)i(run.)60
b(F)o(or)35 b(details)f(see)h(the)g(\002le)83 3888 y
Fu(bankdefs/head.ddl)p Fy(.)29 b(T)-8 b(ypically)25 b(the)f(user)i
(routines)e(are)i(e)o(x)o(ecuted)e(last)h(relati)n(v)o(e)f(the)g(b)n
(uilt)g(in)h(reconstruction)83 4008 y(packages.)51 b(The)32
b(one)f(e)o(xception)g(is)g Fu(user/user)p 1780 4008
V 35 w(be)o(vt.F)f Fy(which)i(is)f(called)g(before)h(an)o(y)f
(reconstruction)g(code)83 4129 y(on)h(physics)f(e)n(v)o(ents.)53
b(The)32 b(rationale)g(here)h(is)f(that)g(it)g(allo)n(ws)g(users)g(a)h
(chance)g(to)f(see)h(the)f(data)h(before)g(an)o(y)83
4249 y(of)25 b(the)g(reconstruction)g(routines)f(ha)n(v)o(e)h
(potentially)e(altered)i(the)g(BOS)i(banks.)k(Dummy)24
b(v)o(ersion)g(of)h(the)g(user)83 4370 y(routines)k(with)g(some)g(e)o
(xample)g(code)h(are)g(a)n(v)n(ailable)f(in)h(the)f Fu(user)h
Fy(package.)46 b(Belo)n(w)29 b(we)h(describe)g(in)g(detail)83
4490 y(each)f(section)f(of)h(the)g(e)n(v)o(ent)e(loop,)i(although)e
(the)i(user)f(subroutines)g(are)h(listed)f(in)g(the)g(headings,)h
(details)f(of)83 4610 y(all)d(processes)f(e)o(x)o(ecuted)g(at)h(this)f
(point)g(in)g(the)h(e)n(v)o(ent)e(loop)h(will)g(be)h(described.)p
83 4700 1560 4 v 199 4761 a Fs(1)232 4791 y Fr(Throughout)c(this)j
(paper)f(\002le)i(names)e(will)i(consist)f(of)g(the)f(path)h(relati)n
(v)o(e)f(to)h(the)g Fq(pac)n(ka)o(g)o(es)f Fr(branch)f(in)i(the)g(CVS)h
(repository)-5 b(.)83 4891 y(T)e(o)21 b(look)f(at)i(the)e(code,)h
(assuming)f(your)f(en)m(viroment)g(is)i(set)h(up)e(correctly)-5
b(,)20 b(simply)g(enter:)26 b Fp(cvs)49 b(checkout)20
b Fq(dir)m(ectory/\002lename)83 4991 y Fr(to)k(get)g(a)h(cop)o(y)e(of)h
(the)g(\002le)h(in)f(question.)35 b(The)24 b(\002le)h(will)g(appear)e
(in)h(the)g(directory)e(gi)n(v)o(en)h(in)h(the)g(CVS)i(command.)34
b(F)o(or)24 b(e)o(xample:)83 5090 y Fp(cvs)49 b(checkout)19
b Fq(r)m(ecsis/r)m(ecsis)p 1109 5090 25 4 v 31 w(main.F)f
Fr(will)i(create)f(a)h(directory)d(called)i(recsis)h(and)f(deposit)f
Fq(r)m(ecsis)p 3156 5090 V 31 w(main.F)g Fr(in)i(that)f(directory)-5
b(.)83 5190 y(Also)21 b(all)f(\002lenames)g(will)h(be)f(italicized.)
2008 5504 y Fy(2)p eop
%%Page: 3 3
3 2 bop 83 408 a Fy(Figure)24 b(1:)30 b(Flo)n(w)22 b(chart)i(of)g
Fu(r)l(ecsis/r)l(ecsis)p 1522 408 30 4 v 35 w(main.F)p
Fy(.)e(The)i(user)g(routines)e(ha)n(v)o(e)h(been)h(e)o(xplicitly)e
(written)g(for)i(the)83 528 y(user)h(to)f(understand)g(when)h(the)g
(user)g(routines)f(are)h(called)g(relati)n(v)o(e)f(to)g(other)h
(routines.)83 4973 y @beginspecial 0 @llx 0 @lly 393
@urx 534 @ury 3930 @rwi @setspecial
%%BeginDocument: /claspc1/home/freyberg/tex/recsis/flowchart.pstex
%Magnification: 0.55
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-46.0 548.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.03300 0.03300 sc
7.500 slw
% Ellipse
n 3450 2175 474 474 0 360 DrawEllipse gs col-1 s gr

% Polyline
gs  clippath
3405 5703 m 3375 5823 l 3345 5703 l 3345 5865 l 3405 5865 l  cp clip
n 3375 5400 m 3375 5850 l gs col-1 s gr gr

% arrowhead
n 3405 5703 m 3375 5823 l 3345 5703 l  col-1 s
% Polyline
gs  clippath
3405 6753 m 3375 6873 l 3345 6753 l 3345 6915 l 3405 6915 l  cp clip
n 3375 6450 m 3375 6900 l gs col-1 s gr gr

% arrowhead
n 3405 6753 m 3375 6873 l 3345 6753 l  col-1 s
% Polyline
n 1875 6900 m 5625 6900 l 5625 7500 l 1875 7500 l cp gs col-1 s gr 
% Polyline
n 1875 5850 m 5625 5850 l 5625 6450 l 1875 6450 l cp gs col-1 s gr 
% Polyline
gs  clippath
7755 1578 m 7725 1698 l 7695 1578 l 7695 1740 l 7755 1740 l  cp clip
n 7725 1275 m 7725 1725 l gs col-1 s gr gr

% arrowhead
n 7755 1578 m 7725 1698 l 7695 1578 l  col-1 s
% Polyline
n 7725 2925 m 8325 2325 l 7725 1725 l 7125 2325 l 7725 2925 l gs col-1 s gr 
% Polyline
gs  clippath
7755 3078 m 7725 3198 l 7695 3078 l 7695 3240 l 7755 3240 l  cp clip
n 7725 2925 m 7725 3225 l gs col-1 s gr gr

% arrowhead
n 7755 3078 m 7725 3198 l 7695 3078 l  col-1 s
% Polyline
n 9600 3525 m 12900 3525 l 12900 4125 l 9600 4125 l cp gs col-1 s gr 
% Polyline
gs  clippath
7872 4605 m 7752 4575 l 7872 4545 l 7710 4545 l 7710 4605 l  cp clip
n 11550 4125 m 11550 4575 l 7725 4575 l gs col-1 s gr gr

% arrowhead
n 7872 4605 m 7752 4575 l 7872 4545 l  col-1 s
% Polyline
gs  clippath
7755 4653 m 7725 4773 l 7695 4653 l 7695 4815 l 7755 4815 l  cp clip
n 7725 4425 m 7725 4800 l gs col-1 s gr gr

% arrowhead
n 7755 4653 m 7725 4773 l 7695 4653 l  col-1 s
% Polyline
gs  clippath
9453 3795 m 9573 3825 l 9453 3855 l 9615 3855 l 9615 3795 l  cp clip
n 8325 3825 m 9600 3825 l gs col-1 s gr gr

% arrowhead
n 9453 3795 m 9573 3825 l 9453 3855 l  col-1 s
% Polyline
n 7725 4425 m 8325 3825 l 7725 3225 l 7125 3825 l 7725 4425 l gs col-1 s gr 
% Polyline
n 7725 6000 m 8325 5400 l 7725 4800 l 7125 5400 l 7725 6000 l gs col-1 s gr 
% Polyline
gs  clippath
9453 5370 m 9573 5400 l 9453 5430 l 9615 5430 l 9615 5370 l  cp clip
n 8325 5400 m 9600 5400 l gs col-1 s gr gr

% arrowhead
n 9453 5370 m 9573 5400 l 9453 5430 l  col-1 s
% Polyline
n 9600 5025 m 12975 5025 l 12975 5625 l 9600 5625 l cp gs col-1 s gr 
% Polyline
gs  clippath
7872 6180 m 7752 6150 l 7872 6120 l 7710 6120 l 7710 6180 l  cp clip
n 11550 5625 m 11550 6150 l 7725 6150 l gs col-1 s gr gr

% arrowhead
n 7872 6180 m 7752 6150 l 7872 6120 l  col-1 s
% Polyline
gs  clippath
7755 6228 m 7725 6348 l 7695 6228 l 7695 6390 l 7755 6390 l  cp clip
n 7725 6000 m 7725 6375 l gs col-1 s gr gr

% arrowhead
n 7755 6228 m 7725 6348 l 7695 6228 l  col-1 s
% Polyline
n 7725 7575 m 8325 6975 l 7725 6375 l 7125 6975 l 7725 7575 l gs col-1 s gr 
% Polyline
gs  clippath
7755 7803 m 7725 7923 l 7695 7803 l 7695 7965 l 7755 7965 l  cp clip
n 7725 7575 m 7725 7950 l gs col-1 s gr gr

% arrowhead
n 7755 7803 m 7725 7923 l 7695 7803 l  col-1 s
% Polyline
gs  clippath
9453 6945 m 9573 6975 l 9453 7005 l 9615 7005 l 9615 6945 l  cp clip
n 8325 6975 m 9600 6975 l gs col-1 s gr gr

% arrowhead
n 9453 6945 m 9573 6975 l 9453 7005 l  col-1 s
% Polyline
n 9600 6675 m 12975 6675 l 12975 7275 l 9600 7275 l cp gs col-1 s gr 
% Polyline
gs  clippath
7872 7830 m 7752 7800 l 7872 7770 l 7710 7770 l 7710 7830 l  cp clip
n 11550 7275 m 11550 7800 l 7725 7800 l gs col-1 s gr gr

% arrowhead
n 7872 7830 m 7752 7800 l 7872 7770 l  col-1 s
% Polyline
n 7725 9150 m 8325 8550 l 7725 7950 l 7125 8550 l 7725 9150 l gs col-1 s gr 
% Polyline
gs  clippath
9453 8520 m 9573 8550 l 9453 8580 l 9615 8580 l 9615 8520 l  cp clip
n 8325 8550 m 9600 8550 l gs col-1 s gr gr

% arrowhead
n 9453 8520 m 9573 8550 l 9453 8580 l  col-1 s
% Polyline
gs  clippath
7755 10053 m 7725 10173 l 7695 10053 l 7695 10215 l 7755 10215 l  cp clip
n 7725 9150 m 7725 10200 l gs col-1 s gr gr

% arrowhead
n 7755 10053 m 7725 10173 l 7695 10053 l  col-1 s
% Polyline
n 9525 8400 m 12900 8400 l 12900 8700 l 9525 8700 l cp gs col-1 s gr 
% Polyline
gs  clippath
11580 8778 m 11550 8898 l 11520 8778 l 11520 8940 l 11580 8940 l  cp clip
n 11550 8700 m 11550 8925 l gs col-1 s gr gr

% arrowhead
n 11580 8778 m 11550 8898 l 11520 8778 l  col-1 s
% Polyline
n 9525 8925 m 12900 8925 l 12900 9225 l 9525 9225 l cp gs col-1 s gr 
% Polyline
gs  clippath
11580 9303 m 11550 9423 l 11520 9303 l 11520 9465 l 11580 9465 l  cp clip
n 11550 9225 m 11550 9450 l gs col-1 s gr gr

% arrowhead
n 11580 9303 m 11550 9423 l 11520 9303 l  col-1 s
% Polyline
n 9525 9450 m 12900 9450 l 12900 9750 l 9525 9750 l cp gs col-1 s gr 
% Polyline
gs  clippath
7872 10005 m 7752 9975 l 7872 9945 l 7710 9945 l 7710 10005 l  cp clip
n 11550 9750 m 11550 9975 l 7725 9975 l gs col-1 s gr gr

% arrowhead
n 7872 10005 m 7752 9975 l 7872 9945 l  col-1 s
% Polyline
n 7725 11325 m 8325 10725 l 7725 10125 l 7125 10725 l 7725 11325 l gs col-1 s gr 
% Polyline
gs  clippath
9153 10695 m 9273 10725 l 9153 10755 l 9315 10755 l 9315 10695 l  cp clip
n 8325 10725 m 9300 10725 l gs col-1 s gr gr

% arrowhead
n 9153 10695 m 9273 10725 l 9153 10755 l  col-1 s
% Polyline
gs  clippath
7872 11505 m 7752 11475 l 7872 11445 l 7710 11445 l 7710 11505 l  cp clip
n 11550 11025 m 11550 11475 l 7725 11475 l gs col-1 s gr gr

% arrowhead
n 7872 11505 m 7752 11475 l 7872 11445 l  col-1 s
% Polyline
n 7725 13350 m 8550 12525 l 7725 11700 l 6900 12525 l cp gs col-1 s gr 
% Polyline
gs  clippath
7755 11553 m 7725 11673 l 7695 11553 l 7695 11715 l 7755 11715 l  cp clip
n 7725 11325 m 7725 11700 l gs col-1 s gr gr

% arrowhead
n 7755 11553 m 7725 11673 l 7695 11553 l  col-1 s
% Polyline
gs  clippath
9678 12495 m 9798 12525 l 9678 12555 l 9840 12555 l 9840 12495 l  cp clip
n 8550 12525 m 9825 12525 l gs col-1 s gr gr

% arrowhead
n 9678 12495 m 9798 12525 l 9678 12555 l  col-1 s
% Polyline
n 9825 12225 m 13200 12225 l 13200 12825 l 9825 12825 l cp gs col-1 s gr 
% Polyline
gs  clippath
7872 13680 m 7752 13650 l 7872 13620 l 7710 13620 l 7710 13680 l  cp clip
n 11550 12825 m 11550 13650 l 7725 13650 l gs col-1 s gr gr

% arrowhead
n 7872 13680 m 7752 13650 l 7872 13620 l  col-1 s
% Polyline
gs  clippath
7755 13803 m 7725 13923 l 7695 13803 l 7695 13965 l 7755 13965 l  cp clip
n 7725 13350 m 7725 13950 l gs col-1 s gr gr

% arrowhead
n 7755 13803 m 7725 13923 l 7695 13803 l  col-1 s
% Polyline
n 6225 13950 m 9600 13950 l 9600 14325 l 6225 14325 l cp gs col-1 s gr 
% Polyline
n 7725 16275 m 8550 15450 l 7725 14625 l 6900 15450 l cp gs col-1 s gr 
% Polyline
gs  clippath
7755 14478 m 7725 14598 l 7695 14478 l 7695 14640 l 7755 14640 l  cp clip
n 7725 14325 m 7725 14625 l gs col-1 s gr gr

% arrowhead
n 7755 14478 m 7725 14598 l 7695 14478 l  col-1 s
% Polyline
gs  clippath
8697 15480 m 8577 15450 l 8697 15420 l 8535 15420 l 8535 15480 l  cp clip
n 8325 2325 m 13275 2325 l 13275 15450 l 8550 15450 l gs col-1 s gr gr

% arrowhead
n 8697 15480 m 8577 15450 l 8697 15420 l  col-1 s
% Polyline
gs  clippath
7755 1578 m 7725 1698 l 7695 1578 l 7695 1740 l 7755 1740 l  cp clip
n 3375 7500 m 3375 7950 l 6600 7950 l 6600 1200 l 7725 1200 l 7725 1725 l gs col-1 s gr gr

% arrowhead
n 7755 1578 m 7725 1698 l 7695 1578 l  col-1 s
% Polyline
n 2025 14325 m 5400 14325 l 5400 14625 l 2025 14625 l cp gs col-1 s gr 
% Polyline
gs  clippath
3480 14778 m 3450 14898 l 3420 14778 l 3420 14940 l 3480 14940 l  cp clip
n 3450 14625 m 3450 14925 l gs col-1 s gr gr

% arrowhead
n 3480 14778 m 3450 14898 l 3420 14778 l  col-1 s
% Polyline
n 4125 15510 m 3787 14925 l 3113 14925 l 2775 15510 l 3113 16095 l 3787 16095 l
 cp gs col-1 s gr 
% Polyline
gs  clippath
3405 14178 m 3375 14298 l 3345 14178 l 3345 14340 l 3405 14340 l  cp clip
n 6900 15450 m 5775 15450 l 5775 13875 l 3375 13875 l 3375 14325 l gs col-1 s gr gr

% arrowhead
n 3405 14178 m 3375 14298 l 3345 14178 l  col-1 s
% Polyline
gs  clippath
3480 3003 m 3450 3123 l 3420 3003 l 3420 3165 l 3480 3165 l  cp clip
n 3450 2625 m 3450 3150 l gs col-1 s gr gr

% arrowhead
n 3480 3003 m 3450 3123 l 3420 3003 l  col-1 s
% Polyline
n 9300 10425 m 12675 10425 l 12675 11025 l 9300 11025 l cp gs col-1 s gr 
% Polyline
gs  clippath
1728 6120 m 1848 6150 l 1728 6180 l 1890 6180 l 1890 6120 l  cp clip
n 7725 16275 m 7725 16575 l 1425 16575 l 1425 6150 l 1875 6150 l gs col-1 s gr gr

% arrowhead
n 1728 6120 m 1848 6150 l 1728 6180 l  col-1 s
% Polyline
n 1875 3150 m 6225 3150 l 6225 5400 l 1875 5400 l cp gs col-1 s gr 
% Polyline
gs  clippath
3480 1578 m 3450 1698 l 3420 1578 l 3420 1740 l 3480 1740 l  cp clip
n 3450 450 m 3450 1725 l gs col-1 s gr gr

% arrowhead
n 3480 1578 m 3450 1698 l 3420 1578 l  col-1 s
/Times-Roman ff 180.00 scf sf
2250 3450 m
gs 1 -1 sc (Initialize Log File) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 3900 m
gs 1 -1 sc (Parse command line arguments) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 3675 m
gs 1 -1 sc (Initialize Tcl-FORTRAN interface) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 6225 m
gs 1 -1 sc (Read/Write an Event using FSEQR) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2175 7275 m
gs 1 -1 sc ( Decode the Event Header \(RECNTRL\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7350 2475 m
gs 1 -1 sc (OF FILE) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 2250 m
gs 1 -1 sc (END) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9825 3900 m
gs 1 -1 sc (Execute Begin Job routines \(user_init\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 3750 m
gs 1 -1 sc (BEGIN) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 3975 m
gs 1 -1 sc (JOB) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 5550 m
gs 1 -1 sc (RUN) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 5325 m
gs 1 -1 sc (BEGIN) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9750 5400 m
gs 1 -1 sc (Execute Begin Run routines \(user_brun\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 7200 m
gs 1 -1 sc (RUN) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 6975 m
gs 1 -1 sc (END) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9750 7050 m
gs 1 -1 sc (Execute End Run routines \(user_erun\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 8775 m
gs 1 -1 sc (EVENT) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7350 8550 m
gs 1 -1 sc (PHYSICS) col-1 sh gr
/Times-Roman ff 180.00 scf sf
10200 8625 m
gs 1 -1 sc ( CALL USER_BEVT) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9675 9150 m
gs 1 -1 sc (Perform event reconstruction if turned on) col-1 sh gr
/Times-Roman ff 180.00 scf sf
10125 9675 m
gs 1 -1 sc (CALL USER_EVNT) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 10725 m
gs 1 -1 sc (SCALER) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 10950 m
gs 1 -1 sc (EVENT) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7500 12975 m
gs 1 -1 sc (TYPE) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 12675 m
gs 1 -1 sc (EVENT) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7275 12375 m
gs 1 -1 sc (UNKNOWN) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9975 12600 m
gs 1 -1 sc (Execute nothing except \(user_xtra\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
6825 14250 m
gs 1 -1 sc (Clean up the BOS IW array) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7200 15525 m
gs 1 -1 sc (COMMAND) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7425 15750 m
gs 1 -1 sc (LINE) col-1 sh gr
/Times-Roman ff 180.00 scf sf
7350 15300 m
gs 1 -1 sc (CHECK) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8925 12450 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8850 10650 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8775 8475 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8850 6900 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8850 5325 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8775 3750 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
8775 2250 m
gs 1 -1 sc (yes) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2400 14550 m
gs 1 -1 sc (Execute END OF JOB \(user_last\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3225 15525 m
gs 1 -1 sc (STOP) col-1 sh gr
/Times-Roman ff 180.00 scf sf
5175 15750 m
gs 1 -1 sc (If user requested exit) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 4125 m
gs 1 -1 sc (Initialize TCL-FORTRAN variables \(user_tcl_init\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 4350 m
gs 1 -1 sc (Inititalize HBOOK \(hbook_init\)) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 4575 m
gs 1 -1 sc (Initialize CPU accounting) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 4800 m
gs 1 -1 sc (Initialize BOS) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 5025 m
gs 1 -1 sc (Check command line for activity) col-1 sh gr
/Times-Roman ff 180.00 scf sf
9675 10800 m
gs 1 -1 sc (Execute Scaler routines \(user_scaler\) ) col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 581 1036 a Fs(ST)-5 b(AR)m(T)2008 5504 y
Fy(3)p eop
%%Page: 4 4
4 3 bop 83 75 a Fo(3.1)119 b(Initialization)31 b(\()p
Fn(user/user)p 1546 75 36 4 v 42 w(tcl)p 1707 75 V 43
w(init.F)-15 b(,)30 b(user/hbook)p 2622 75 V 43 w(init.F)p
Fo(\))83 262 y Fy(Ob)o(viously)19 b(the)j(\002rst)g(thing)e(an)o(y)h
(program)h(needs)f(to)h(do)f(is)g(initialize)g(v)n(ariables)f(and)i(an)
o(y)f(con\002gurable)h(utility)83 383 y(packages)28 b(it)f(is)g(in)l(v)
n(oking.)38 b(Often)27 b(there)h(are)g(chick)o(en)g(and)f(e)o(gg)g
(issues)g(during)g(initialization.)37 b(First)27 b(the)h(log)83
503 y(\002le)23 b(packages)g(is)f(acti)n(v)n(ated,)g(follo)n(wed)f(by)i
(the)f(Tcl-FOR)-6 b(TRAN)24 b(interf)o(ace.)30 b(The)23
b(command)f(line)g(ar)n(guments)83 623 y(are)28 b(then)e(parsed,)h(one)
g(of)g(them)f(being)g(the)h(name)g(of)g(the)f(\002le)h(that)g(contains)
f(a)h(list)e(of)i(Tcl)g(commands)f(to)g(be)83 744 y(e)o(x)o(ecuted.)45
b(Then)29 b(the)h(BOS)g(arrays)g(are)h(initialized)d(as)i(well)f(as)h
(the)f(P)-9 b(A)g(WC)31 b(commons)d(used)i(by)f(HBOOK.)83
864 y(The)k(ne)n(w)g(v)o(ersion)f(of)i(the)f(RECSIS)i(user)e(routines)g
(includes)f(a)i(routine)e Fu(user/hbook)p 3198 864 30
4 v 35 w(init.F)-13 b(.)31 b Fy(This)i(routine)83 985
y(used)23 b(to)f(be)h(part)g(of)g(the)g(recutl)f(package)i(b)n(ut)e(it)
g(has)h(been)g(separated)g(out)g(so)f(that)h(the)f(user)h(has)g
(control)f(of)h(the)83 1105 y(P)-9 b(A)g(WC)31 b(common)e(size)i(and)f
(other)g(HBOOK)h(initialization)d(parameters.)47 b(Note)30
b(that)g Fu(user/hbook)p 3639 1105 V 34 w(init.F)g Fy(is)83
1225 y(called)c(after)i Fu(user/user)p 935 1225 V 34
w(tcl)p 1069 1225 V 36 w(init.F)d Fy(so)h(it)g(is)g(possible)f(to)h
(mak)o(e)g(use)h(of)f(Tcl-FOR)-6 b(TRAN)28 b(link)o(ed)d(v)n(ariables)h
(at)83 1346 y(this)e(point.)29 b(Also)24 b(note)g(that)g(at)h(this)e
(point)g(in)i(the)f(e)o(x)o(ecution)f(there)i(is)f(no)g(data)g(in)h
(the)f(BOS)h(IW)g(or)g(JW)f(array)-6 b(,)83 1466 y(in)27
b(f)o(act)h(an)o(y)f(BOS)h(calls)f(in)g Fu(user/user)p
1448 1466 V 35 w(tcl)p 1583 1466 V 36 w(init.F)f Fy(or)h
Fu(user/hbook)p 2419 1466 V 35 w(init.F)f Fy(will)h(probably)f(crash)i
(the)f(program)83 1587 y(since)e(BOS)g(has)g(not)f(been)h(initialized)f
(properly)-6 b(.)83 1882 y Fo(3.2)119 b(Begin)30 b(J)n(ob)g(\()p
Fn(user/user)p 1394 1882 36 4 v 43 w(init.F)p Fo(\))83
2069 y Fy(The)k(be)o(gin)f(job)g(processor)h(is)g(called)g(once)g(a)g
(data)g(\002le)h(has)f(been)g(opened)g(successfully)-6
b(.)57 b(The)34 b(be)o(gin)f(job)83 2190 y(processor)27
b(is)h(called)f(once)h(and)f(only)g(once)h(per)g(job)l(.)38
b(It)28 b(is)f(suggested)f(that)h(you)g(place)h(calls)f(to)h(hbook1)e
(and)83 2310 y(hbook2)g(within)g(this)h(routine.)38 b(An)o(y)26
b(other)h(initialization)f(that)h(is)f(done)i(once)f(per)h(job)f
(should)f(also)h(be)g(done)83 2430 y(here.)k(At)24 b(this)f(point)g
(the)i(BOS)g(IW)f(or)h(JW)f(array)h(is)e(\002lled)i(with)e(the)h
(\002rst)g(record)h(in)f(the)g(data)g(\002le,)h(re)o(gardless)83
2551 y(of)f(what)g(e)n(v)o(ent)e(type)i(w)o(as)g(read)g(in)g(\002rst.)
30 b(It)24 b(is)f(not)h(recommended)f(that)g(you)h(do)f(an)o(ything)f
(with)i(the)f(IW)h(array)83 2671 y(at)h(this)f(point.)83
2966 y Fo(3.3)119 b(Begin)30 b(Run)h(\()p Fn(user/user)p
1429 2966 V 43 w(brun.F)p Fo(\))83 3154 y Fy(The)d(be)o(gin)e(run)i
(condition)e(is)i(triggered)f(whene)n(v)o(er)g(e)n(v)o(ent)g(type)g(16)
h(is)f(read)h(in)f(or)h Fv(when)h(the)g(run)f(number)83
3274 y(changes.)h Fy(An)o(y)19 b(run)f(dependent)h(calibrations)f(are)h
(updated)g(at)g(be)o(gin)e(run)i(time.)28 b(The)19 b(user)g(may)g(w)o
(ant)f(to)h(place)83 3395 y(some)29 b(special)h(run)g(by)f(run)h(code)g
(within)f Fu(user/user)p 1966 3395 30 4 v 34 w(brun.F)p
Fy(,)g(lik)o(e)h(updating)e(run)i(dependent)g(quantities)e(or)83
3515 y(resetting)33 b(histograms.)56 b(Presently)34 b(a)g(data)g
(\002le)h(contains)e(only)g(one)h(run,)i(ho)n(we)n(v)o(er)c(in)i(the)g
(future)f(there)i(is)83 3636 y(nothing)25 b(pre)n(v)o(enting)f(a)i(DST)
g(or)h(skim)d(\002le)j(from)f(contain)f(data)h(from)g(se)n(v)o(eral)f
(runs.)34 b(If)26 b(the)g(e)n(v)o(ent)f(type)h(is)f(16)83
3756 y(the)e(IW)h(array)g(will)f(contain)g(records)h(associated)f(with)
g(a)g(be)o(gin)g(run)g(e)n(v)o(ent.)30 b(If)23 b(the)h(be)o(gin)e(run)i
(processor)f(w)o(as)83 3876 y(called)32 b(because)h(the)e(run)h(number)
g(changed)g(without)f(a)h(be)o(gin)f(run)h(record)g(then)g(the)g(IW)g
(arrays)h(probably)83 3997 y(contains)27 b(a)h(physics)f(e)n(v)o(ent.)
38 b(This)28 b(e)n(v)o(ent)e(will)h(still)g(get)h(reconstructed)f
(after)i(the)f(the)f(be)o(gin)g(run)h(processing)83 4117
y(has)d(\002nished.)83 4412 y Fo(3.4)119 b(Ph)n(ysics)30
b(Ev)o(ent)f(\()p Fn(user/user)p 1592 4412 36 4 v 42
w(bevt.F)-15 b(,)30 b(user/user)p 2447 4412 V 42 w(evnt.F)p
Fo(\))83 4600 y Fy(Presently)20 b(the)g(e)n(v)o(ent)e(type)i(of)g(1)g
(through)f(16)g(in)h(the)f(e)n(v)o(ent)g(header)i(implies)d(that)h(the)
h(e)n(v)o(ent)f(satis\002ed)g(a)i(physics)83 4720 y(trigger)-5
b(.)29 b(Understanding)21 b(which)h(e)n(v)o(ent)f(types)h(go)g(with)f
(which)h(triggers)g(will)f(change)i(run)f(by)g(run)g(depending)83
4841 y(on)30 b(the)g(trigger)f(\002le.)47 b(In)30 b(the)g(future)g(all)
f(trigger)h(bits)f(will)g(be)h(latched)g(on)g(an)g(e)n(v)o(ent)f(by)h
(e)n(v)o(ent)f(basis)g(so)h(that)83 4961 y(trigger)j(information)e(is)h
(not)h(lost)f(in)g(the)h(trigger)f(supervisor)-5 b(.)54
b(Re)o(gardless)32 b(of)h(the)f(trigger)h(type)g(the)f(e)n(v)o(ent)83
5081 y(is)26 b(passed)h(through)f(the)h(same)f(processing)g
(algorithms.)36 b(The)26 b(details)h(of)g(the)f(e)n(v)o(ent)g(loop)g
(will)g(be)h(discussed)83 5202 y(in)k(Section)64 b Fv(??)p
Fy(.)51 b(The)32 b(routine)f Fu(r)l(ecsis/r)l(ece)o(vt.F)h
Fy(contains)f(the)g(code)h(which)f(is)h(e)o(x)o(ecuted)f(on)g(each)i
(physics)2008 5504 y(4)p eop
%%Page: 5 5
5 4 bop 83 75 a Fy(e)n(v)o(ent.)29 b(Each)24 b(subroutine)e(call)i(is)f
(pre\002x)o(ed)g(with)g(a)h(conditional.)k(These)c(logical)f(v)n
(ariables)f(are)i(link)o(ed)f(to)g(Tcl)83 195 y(v)n(ariables)g(so)g
(the)g(user)g(has)h(control)e(o)o(v)o(er)h(which)g(reconstruction)f
(packages)i(are)g(to)f(e)o(x)o(ecuted.)29 b(Note)23 b(that)g(the)83
315 y(user)28 b(only)f(has)g(control)g(o)o(v)o(er)g(whether)g(or)h(not)
f(the)h(package)g(is)f(e)o(x)o(ecuted)g(not)g(the)g(order)h(in)f(which)
h(the)o(y)e(are)83 436 y(e)o(x)o(ecuted.)229 556 y(If)d(the)f(user)g
(wishes)f(to)g(de\002ne)i(a)f(ne)n(w)g(order)g(the)g(follo)n(wing)e(is)
h(suggested.)29 b(First)22 b(turn)f(of)n(f)h(ALL)g(the)g(pack-)83
677 y(ages)27 b(via)g(the)f(Tcl)h(v)n(ariables.)36 b(If)27
b(you)g(ha)n(v)o(e)f(in)l(v)n(ok)o(ed)g(the)h(\002le)g
Fu(tcl/r)l(ecsis)p 2651 677 30 4 v 35 w(pr)l(oc.tcl)f
Fy(there)h(is)f(a)h(Tcl)g(procedure,)83 797 y Fm(turnoff)58
b(ALL)741 761 y Ft(2)778 797 y Fy(,)21 b(which)f(will)h(turn)f(of)n(f)h
(all)g(the)f(reconstruction)g(packages.)30 b(Then)21
b(you)f(need)h(to)g(turn)g(on)f(the)83 917 y(user)25
b(package)g(via,)f Fm(turnon)59 b(user)p Fy(.)30 b(No)n(w)23
b(you)i(need)g(to)f(place)h(your)f(call)h(list)e(in)i(either)f
Fu(user/user)p 3704 917 V 35 w(be)o(vt.F)83 1038 y Fy(or)h
Fu(user/user)p 569 1038 V 35 w(e)o(vnt.F)-13 b(.)229
1158 y Fy(At)23 b(the)f(time)g(in)g(the)g(e)n(v)o(ent)f(loop)h(when)h
Fu(user/user)p 1991 1158 V 34 w(be)o(vt.F)f Fy(is)g(called)h(the)f(IW)h
(array)g(has)f(been)h(unmodi\002ed)83 1279 y(and)c(represent)g(a)h
(snapshot)e(of)h(what)g(w)o(as)g(contained)f(in)h(the)g(input)f
(\002le.)29 b(After)19 b Fu(user/user)p 3206 1279 V 35
w(be)o(vt.F)g Fy(the)f(standard)83 1399 y(reconstruction)34
b(packages)h(will)e(be)i(called)g(if)f(their)h(logical)f(is)g(set)g
(true.)61 b(These)34 b(reconstruction)g(routines)83 1519
y(generally)22 b(will)g(create)h(ne)n(w)f(BOS)h(banks)f(containing)f
(the)h(reconstruction)g(results.)29 b(When)22 b Fu(user/user)p
3704 1519 V 35 w(e)o(vnt.F)83 1640 y Fy(is)33 b(called)h(these)g
(results)f(are)i(a)n(v)n(ailable)e(in)g(the)h(BOS)g(IW)h(array)f(for)g
(the)g(user)-5 b(.)57 b(T)-8 b(o)34 b(understand)f(where)h(the)83
1760 y(information)c(is)g(stored)h(and)g(ho)n(w)f(to)h(decipher)g(it)f
(see)i(Section)62 b Fv(??)o Fy(.)50 b(The)31 b(follo)n(wing)e(is)i(a)g
(matter)g(of)g(style,)83 1880 y(b)n(ut)25 b(the)h(user)g(is)f
(encourage)i(to)e(only)g(place)i(subroutine)d(calls)i(inside)f(the)h
(user)g(routines.)33 b(This)25 b(practice)h(will)83 2001
y(mak)o(e)h(the)g(user')-5 b(s)26 b(code)i(more)e(easily)h(portable)g
(to)f(other)h(collaborators.)37 b(Remember)27 b(the)g(Mak)o(e\002le)g
(system)83 2121 y(will)k(automatically)f(b)n(uild)g(all)i(source)f
(code)h(in)f(the)h(user)f(directory)h(so)f(you)g(do)g(not)g(need)h(to)f
(w)o(orry)h(about)83 2242 y(changing)24 b(the)h(Mak)o(e\002le)h(if)f
(you)g(create)h(or)f(add)g(ne)n(w)g(\002les)g(in)g(the)g(user)g(source)
g(directory)-6 b(.)31 b(F)o(or)25 b(e)o(xample)f(one)83
2362 y(could)g(ha)n(v)o(e)h(a)g Fu(user/user)p 986 2362
V 35 w(e)o(vnt.F)f Fy(that)g(looks)g(as)h(follo)n(ws:)577
2583 y Fl(Subroutine)h(User)p 1175 2583 28 4 v 33 w(Evnt)327
2696 y(C)327 2809 y(C)68 b(Example)24 b(of)f(ho)n(w)g(to)h(write)f
(modular)i(code)327 2922 y(C)600 3034 y(inte)o(ger)f(nkzero,)h(nkstar)
327 3147 y(C)327 3260 y(C)68 b(First)23 b(\002nd)g(the)h(K0s)327
3373 y(C)577 3486 y(call)g(mak)o(e)p 931 3486 V 34 w(K0s\(nkzero\))327
3599 y(C)577 3712 y(if)f(\(nkzero)j(.gt.)i(0\))23 b(call)h(mak)o(e)p
1552 3712 V 34 w(kstar\(nkstar\))327 3825 y(C)577 3938
y(return)577 4051 y(end)83 4279 y Fy(T)-8 b(o)19 b(ha)n(v)o(e)f(a)h
(successful)g(link)f(will)g(need)h(to)f(supply)g(the)g(tw)o(o)h
(routines)f Fu(user/mak)o(e)p 2899 4279 30 4 v 35 w(K0s.F)h
Fy(and)g Fu(user/mak)o(e)p 3766 4279 V 35 w(kstar)-11
b(.F)83 4399 y Fy(which)26 b(do)g(all)h(the)f(w)o(ork.)36
b(Once)27 b(you)f(ha)n(v)o(e)g(pro)o(v)o(en)g(that)g(your)g(routines)g
(w)o(ork)g(other)g(collaborators)g(can)h(use)83 4520
y(them)33 b(simply)f(placing)h(the)g(appropriate)h(call)f(in)g(their)h
Fu(user/user)p 2474 4520 V 34 w(e)o(vnt.F)f Fy(and)h(including)e(the)h
(appropriate)83 4640 y(library)25 b(in)f(the)h(link)f(list.)p
83 4730 1560 4 v 199 4791 a Fs(2)232 4821 y Fr(Throughout)d(this)j
(paper)f(commands)f(and)h(source)g(code)g(will)h(be)g(typeset)f(in)h
(the)g(mono-spaced)d(font.)35 b(This)23 b(includes)g(com-)83
4921 y(mands)g(to)g(be)h(entered)e(at)i(the)f(unix)g(prompt,)f(RECSIS)i
(prompt)e(or)h(in)h(control)e(\002les.)35 b(Note)24 b(that)f(we)h(can)f
(use)h(the)f(phrase)g(typeset)83 5020 y(since)d(we)h(are)f(using)g(a)g
(true)g(typesetting)f(interf)o(ace)h(to)g(produce)e(this)j(document.)
2008 5504 y Fy(5)p eop
%%Page: 6 6
6 5 bop 83 75 a Fo(3.5)119 b(Scaler)31 b(Ev)o(ent)e(\()p
Fn(user/user)p 1534 75 36 4 v 42 w(xtra.F)p Fo(\))83
262 y Fy(Ev)o(ery)j(fe)n(w)h(thousand)e(physics)h(e)n(v)o(ents)f(the)i
(blind)e(scalers)i(are)g(read)h(into)e(the)g(data)h(stream.)54
b(These)33 b(scaler)83 383 y(e)n(v)o(ents)23 b(are)i(recorded)g(with)e
(a)h(trigger)g(type)g(0.)31 b(In)24 b(addition)f(to)g(blind)g(scalers)i
(these)f(e)n(v)o(ents)f(will)g(also)h(contain)83 503
y(EPICS)g(data)g(and)f(other)g(non-physics)e(e)n(v)o(ent)h(data)h(as)g
(well.)30 b(At)23 b(present)g(there)g(are)h(three)f(routines)f
(processed)83 623 y(on)j(scaler)h(e)n(v)o(ents,)e Fu(r)l(ecutl/.F)g
Fy(and)i Fu(user/user)p 1682 623 30 4 v 34 w(scaler)-11
b(.F)p Fy(.)25 b(If)h(the)f(user)g(wishes)g(to)g(study)f(and)h(w)o(ork)
g(with)g(scaler)83 744 y(e)n(v)o(ents)k(the)o(y)h(should)g(w)o(ork)h
(within)e Fu(user/user)p 1760 744 V 35 w(scaler)-11 b(.F)e(.)29
b Fy(On)i(scaler)g(e)n(v)o(ents)f(the)g(IW)i(array)f(should)f(contain)
83 864 y(only)j(scaler)i(data)f(and)g(no)f(data)i(from)e(the)h
(detector)g(systems,)h(this)e(is)h(why)f(it)g(is)h(separated)g(out)g
(from)f(the)83 985 y(normal)24 b(physics)f(e)n(v)o(ent)h(loop.)83
1280 y Fo(3.6)119 b(Unkno)o(wn)32 b(Ev)o(ent)e(T)-9 b(ype)30
b(\()p Fn(user/user)p 1993 1280 36 4 v 42 w(xtra.F)p
Fo(\))83 1467 y Fy(Back)37 b(in)f(the)g(old)g(days)g(there)h(were)g
(times)e(when)h(GSIM)h(did)e(not)h(gi)n(v)o(e)f(the)h(correct)h(e)n(v)o
(ent)f(headers.)65 b(T)-8 b(o)83 1588 y(accommodate)39
b(such)g(non-standard)g(data)h(then)f(and)g(in)h(the)f(future)h(a)f
(subroutine)g(user/user)p 3525 1588 30 4 v 35 w(xtra.F)h(w)o(as)83
1708 y(created.)45 b(This)28 b(subroutine)g(will)g(be)h(called)h(whene)
n(v)o(er)e(the)h(e)n(v)o(ent)f(type)h(is)g(not)f(consistent)g(with)h
(prede\002ned)83 1829 y(e)n(v)o(ent)35 b(type)h(de\002nitions.)64
b(Basically)36 b(this)f(routine)h(should)f Fv(ne)o(v)o(er)i
Fy(be)f(called)g(b)n(ut)g(it)g(is)g(retained)g(since)g(its)83
1949 y(presence)23 b(will)f(allo)n(w)f(us)h(to)g(w)o(ork)h(with)f
(corrupted)g(head)h(banks)f(if)g(we)h(need)g(to)f(in)g(the)g(future.)30
b(The)23 b(IW)f(array)83 2069 y(will)i(contain)g(whate)n(v)o(er)g(w)o
(as)h(in)f(the)h(data)g(\002le)g(follo)n(wing)e(the)i(corrupted)f(e)n
(v)o(ent)g(header)-5 b(.)83 2364 y Fo(3.7)119 b(End)31
b(Run)g(\()p Fn(user/user)p 1350 2364 36 4 v 42 w(erun.F)p
Fo(\))83 2552 y Fy(Whene)n(v)o(er)c(the)h(end)g(run)g(e)n(v)o(ent)f
(type)g(is)h(seen)g(\(17\))g(or)g(a)g(change)g(in)g(run)g(number)f(the)
h(end)g(run)g(processor)g(is)83 2672 y(called.)j(This)24
b(is)g(where)h(you)g(w)o(ant)f(to)h(deal)g(with)f(end)g(run)h(issues.)
83 2968 y Fo(3.8)119 b(End)31 b(J)n(ob)f(\()p Fn(user/user)p
1315 2968 V 42 w(last.F)p Fo(\))83 3155 y Fy(When)c(the)g(job)g
(reaches)h(the)f(End)f(Of)i(File)f(and/or)g(the)g(user)g(requests)f
(RECSIS)j(to)e(e)o(xit)f(the)h(end)g(of)h(job)e(pro-)83
3276 y(cessing)i(will)f(be)i(e)o(x)o(ecuted.)38 b(This)26
b(in)l(v)n(olv)o(es)g(closing)h(the)g(log)g(\002le,)h(outputting)d(the)
j(histograms)d(and)j(e)o(xiting)83 3396 y(the)22 b(program.)30
b(The)23 b(user)f(can)h(place)g(calls)g(within)e Fu(user/user)p
2241 3396 30 4 v 35 w(last.F)g Fy(to)h(in)l(v)n(ok)o(e)g(an)o(y)g
(parting)g(commands)g(that)83 3516 y(the)o(y)i(wish.)30
b(At)25 b(this)e(point)h(of)h(the)g(program)f(the)h(IW)g(array)g
(should)f(be)h(empty)f(of)h(an)o(y)f(contents.)83 3856
y Fw(4)143 b(In)-6 b(v)o(oking)34 b(RECSIS:)g(command)f(line)j(ar)o
(guments)83 4079 y Fy(When)31 b(you)f(compile)f(RECSIS)k(the)d
(resulting)f(e)o(x)o(ecutable)h(is)g(named)g(after)h(the)g(directory)f
(in)g(which)g(mak)o(e)83 4200 y(w)o(as)c(e)o(x)o(ecuted.)33
b(T)-8 b(ypically)25 b(this)h(will)f(be)h(the)g Fu(user)f
Fy(directory)h(and)g(your)g(e)o(x)o(ecutable)f(will)g(be)h(named)g
(user)-5 b(.)34 b(If)83 4320 y(you)c(renamed)h(the)f
Fu(user)h Fy(directory)f(to)g Fu(my)p 1612 4320 V 36
w(thesis)p Fy(,)h(your)f(resulting)g(e)o(x)o(ecutable)f(will)h(be)h
(named)f Fu(my)p 3701 4320 V 36 w(thesis)p Fy(.)83 4441
y(The)24 b(reason)h(for)f(this)g(is)g(to)g(allo)n(w)f(users)h(to)g(ha)n
(v)o(e)g(se)n(v)o(eral)f(on)h(going)g(projects)g(without)f(causing)g
(interference)83 4561 y(between)d(them.)29 b(F)o(or)20
b(sak)o(e)g(of)h(clarity)f(it)f(is)h(assumed)f(that)h(your)g(RECSIS)i
(e)o(x)o(ecutable)d(is)h(named)g(user)3659 4525 y Ft(3)3696
4561 y Fy(.)30 b(There)83 4681 y(are)g(se)n(v)o(eral)f(command)g(line)g
(switches)g(a)n(v)n(ailable)f(at)i(the)f(time)g(you)g(in)l(v)n(ok)o(e)g
(RECSIS.)i(The)f(most)e(common)83 4802 y(ar)n(gument)22
b(is)f(the)h(name)g(of)g(a)g(Tcl)g(initialization)e(\002le,)j(see)f
(Section)44 b Fv(??)22 b Fy(for)g(details)f(on)h(Tcl.)30
b(Other)22 b(ar)n(guments)p 83 4891 1560 4 v 199 4956
a Fs(3)232 4986 y Fr(In)m(v)n(oking)e(mak)o(e)i(within)g(the)1130
4965 y Fk(\024)1111 4986 y Fj(C)6 b Fr(erenk)o(o)o(v)20
b(directory)h(is)i(particularly)d(dangerous)g(since)i(this)h(package)e
(directory)f(is)j(named)e Fi(cc)83 5086 y Fr(which)h(happens)g(to)h(be)
f(the)h(name)g(of)f(the)h(C)h(compiler)-5 b(.)32 b(Thus)22
b(if)h(the)g(location)f(you)g(place)g(your)g(RECSIS)i(e)o(x)o
(ecutibles)d(is)j(in)f(your)83 5185 y(path,)c(in)m(v)n(oking)f
Fp(cc)j Fr(no)f(longer)f(gets)h(you)f(the)i(C)g(compiler)e(b)n(ut)h
(RECSIS.)2008 5504 y Fy(6)p eop
%%Page: 7 7
7 6 bop 383 126 a Fy(T)-8 b(able)24 b(1:)31 b(Listing)23
b(of)i(the)g(a)n(v)n(ailable)f(command)f(line)i(ar)n(guments)f(when)h
(in)l(v)n(oking)e(RECSIS.)p 90 230 3887 4 v 88 350 4
121 v 139 314 a(\003ag)p 337 350 V 101 w(ar)n(gument)p
1117 350 V 405 w(comment)p 3975 350 V 90 354 3887 4 v
90 370 V 88 491 4 121 v 184 455 a(-t)p 337 491 V 144
w(Tcl)h(\002lename)p 1117 491 V 280 w(Tcl)g(initialization)f(\002le)p
3975 491 V 90 494 3887 4 v 88 615 4 121 v 184 578 a(-i)p
337 615 V 144 w(input)g(\002lename)p 1117 615 V 208 w(input)h(\002le)p
3975 615 V 90 618 3887 4 v 88 738 4 121 v 173 702 a(-o)p
337 738 V 133 w(output)f(\002lename)p 1117 738 V 158
w(output\002le)p 3975 738 V 90 742 3887 4 v 88 862 4
121 v 148 826 a(-np)p 337 862 V 108 w(none)p 1117 862
V 586 w(do)h(not)h(prompt)e(during)h(initialization)f(and)i(upon)f(End)
g(of)h(File)p 3975 862 V 90 865 3887 4 v 88 986 4 121
v 173 950 a(-h)p 337 986 V 133 w(none)p 1117 986 V 586
w(obsolete)f(help)p 3975 986 V 90 989 3887 4 v 88 1109
4 121 v 181 1073 a(-f)p 337 1109 V 142 w(fpack)h(control)f(\002le)p
1117 1109 V 100 w(\002le)h(containing)f(ra)o(w)g(FP)-9
b(A)l(CK)26 b(commands)e(\(rarely)h(used\))p 3975 1109
V 90 1113 3887 4 v 88 1233 4 121 v 148 1197 a(-no)p 337
1233 V 108 w(none)p 1117 1233 V 586 w(No)f(output)g(\002le)p
3975 1233 V 90 1236 3887 4 v 88 1357 4 121 v 173 1321
a(-b)p 337 1357 V 133 w(none)p 1117 1357 V 586 w(batch)g(or)h
(background)g(\003ag,)g(completely)e(turns)i(of)n(f)f(the)h(scat)g
(sock)o(et)f(as)h(well)p 3975 1357 V 90 1360 3887 4 v
83 1697 a(are)36 b(the)g(input)f(or)g(output)g(\002lenames)h(and)f(ar)n
(guments)g(to)h(tell)f(RECSIS)i(not)e(to)h(prompt)e(the)i(user)g(at)f
(start)83 1817 y(up.)62 b(The)35 b(most)f(common)g(incantation)h(is)f
Fm(user)59 b(-t)h(myinit)34 b Fy(where)h(myinit)f(refers)i(to)f(a)h
(\002le)f(named)83 1937 y Fu(myinit.tcl)27 b Fy(which)g(contains)g(v)n
(alid)g(Tcl)h(commands)e(which)i(are)h(e)o(x)o(ecuted)e(during)g(the)h
(initialization)d(phase.)83 2058 y(T)-8 b(able)57 b Fv(??)28
b Fy(lists)f(all)h(the)h(possible)e(command)g(line)h(ar)n(guments.)41
b(Note)28 b(that)g(there)h(are)g(at)g(least)f(four)g(w)o(ays)h(to)83
2178 y(de\002ne)i(the)g(input)f(and)h(output)f(\002les.)49
b(Here)31 b(we)g(see)h(the)e(\002rst)h(w)o(ay)-6 b(,)32
b(on)f(the)g(command)e(line.)49 b(The)31 b(user)g(can)83
2298 y(also)i(use)h(the)g(Tcl)g(initialization)d(\002le)k(\()f(the)f
(most)g(common)g(method\),)i(FP)-9 b(A)l(CK)35 b(control)e(\002le)h(or)
g(enter)g(the)83 2419 y(\002lename)c(at)g(the)f(RECSIS)j(prompt.)44
b(The)29 b(precedence)i(of)f(these)f(four)h(modes)f(is)g(none)h(tri)n
(vial)e(to)h(w)o(ork)h(out)83 2539 y(since)h(the)f(inner)h(w)o(orkings)
e(of)i(FP)-9 b(A)l(CK)32 b(are)g(not)e(kno)n(wn)f(at)i(a)g(suf)n
(\002cient)f(le)n(v)o(el.)48 b(Entering)30 b(the)g(\002lename)h(at)83
2660 y(the)j(command)e(line,)k(in)d(the)h(Tcl)f(initialization)f
(\002le)i(or)g(at)f(the)h(RECSIS)i(prompt)c(are)j(all)e(commands)g
(that)83 2780 y(e)n(v)o(entually)23 b(get)i(transformed)f(into)g(FP)-9
b(A)l(CK)26 b(commands)d(and)i(sent)f(to)h(FP)-9 b(A)l(CK.)83
3075 y Fo(4.1)119 b(RECSIS)31 b(in)f(Batch)g(or)g(Backgr)n(ound)h(mode)
83 3263 y Fy(Since)i(the)f(RECSIS)j(interf)o(ace)e(is)f(constantly)f
(coming)h(to)g(the)g(terminal)g(for)h(I/O,)f(placing)g(it)g(in)g(the)h
(back-)83 3383 y(ground)20 b(often)g(results)g(in)g(a)h(suspended)f
(job)g(as)g(RECSIS)j(w)o(aits)c(for)i(the)g(terminal.)28
b(This)20 b(is)g(why)g(there)g(are)i(tw)o(o)83 3504 y(\003ags)d(a)n(v)n
(ailable)f(to)h(suspend)f(an)o(y)g(automatic)g(pausing)g(of)h(RECSIS.)i
(The)e(follo)n(wing)e(command)h(should)g(result)83 3624
y(in)25 b(a)h(RECSIS)h(job)e(running)g(in)g(the)g(background,)g
Fm(my)p 2005 3624 30 4 v 35 w(thesis)59 b(-t)g(my)p 2758
3624 V 36 w(init)f(-np)h(>)h(/dev/null)83 3744 y(&)g
Fy(.)c(This)32 b(command)g(will)h(lea)n(v)o(e)g(open)g(the)g(scat)g
(sock)o(et)g(so)f(that)h(it)g(will)f(be)i(possible)d(to)i(remotely)g
(mon-)83 3865 y(itor)e(the)g(job)l(.)50 b(A)32 b(more)f(Draconian)h
(\003ag)g Fm(my)p 1699 3865 V 35 w(thesis)59 b(-t)g(my)p
2452 3865 V 35 w(init)g(-b)h(>)f(/dev/null)f(&)91 b Fy(will)83
3985 y(disable)24 b(the)h(terminal)f(and)h(sock)o(et)f(as)h(well.)83
4325 y Fw(5)143 b(Tcl)35 b(Interface:)42 b(The)35 b(RECSIS)f(command)g
(line)83 4548 y Fy(Once)27 b(you)g(ha)n(v)o(e)g(RECSIS)i(up)e(and)g
(running)f(you)h(can)g(interact)h(with)e(the)h(e)o(x)o(ecuting)f(job)g
(at)h(an)o(y)g(time.)37 b(This)83 4669 y(is)31 b(done)h(in)f(the)h
(follo)n(wing)e(w)o(ay)-6 b(,)33 b(e)n(v)o(ery)e(10)g(e)n(v)o(ents)g
(\(this)g(can)h(be)g(changed)g(at)f(run)h(time\))f(the)h(k)o(e)o
(yboard)f(or)83 4789 y(scat)f(sock)o(et)f(\(see)h(Section)59
b Fv(??)p Fy(\))30 b(is)f(check)o(ed)h(for)g(acti)n(vity)-6
b(.)43 b(If)30 b(there)g(is)f(acti)n(vity)f(the)h(entered)h(line)f(is)g
(sent)h(to)83 4909 y(the)e(Tcl)h(interpreter)-5 b(.)41
b(If)29 b(there)g(is)f(no)g(acti)n(vity)f(the)h(program)g(continues)g
(e)o(x)o(ecuting.)40 b(The)29 b(o)o(v)o(erhead)e(for)i(this)83
5030 y(is)c(minimal)f(and)h(can)h(be)f(further)h(reduced)g(by)f
(changing)g(the)g(frequenc)o(y)g(that)g(the)g(k)o(e)o(yboard)g(is)g
(check)o(ed)h(for)83 5150 y(acti)n(vity)-6 b(.)45 b(This)29
b(gi)n(v)o(es)g(the)h(user)g(a)h(slightly)d(dif)n(ferent)i(interf)o
(ace)h(then)f(the)o(y)f(normally)g(f)o(aced.)48 b(The)30
b(user)g(has)2008 5504 y(7)p eop
%%Page: 8 8
8 7 bop 83 75 a Fy(the)25 b(ability)g(to)g(check)h(or)f(change)h(the)g
(running)e(status)h(at)g(an)o(ytime)g(during)f(the)i(e)o(x)o(ecution)e
(without)g(stopping)83 195 y(the)31 b(job)l(.)51 b(F)o(or)31
b(e)o(xample)g(you)g(started)g(a)h(job)f(and)h(went)f(to)g(lunch,)i
(upon)e(returning)f(from)i(lunch)f(can)h(check)83 315
y(ho)n(w)e(man)o(y)f(e)n(v)o(ents)g(ha)n(v)o(e)i(been)f(processed)h(by)
f(entering)g Fm(status)p Fy(,)g(you)g(then)h(see)f(that)g(you)h(ha)n(v)
o(e)f(enough)83 436 y(statistics)19 b(so)i(to)f(end)h(the)g(job)g(so)f
(you)h(enter)g Fm(exit)p Fy(.)28 b(What)21 b(is)g(important)e(here)j
(is)e(the)h(asynchronous)f(nature)h(of)83 556 y(the)26
b(interf)o(ace.)35 b(Y)-11 b(ou)26 b(do)g(not)f(need)h(to)g(enter)g
(your)g(commands)f(at)h(an)o(y)f(speci\002c)i(time)e(and)h(you)g(can)g
Fm(pause,)83 677 y(go)e Fy(or)h Fm(exit)f Fy(the)h(job)f(at)h(an)o
(ytime)f(without)f(loosing)g(your)i(histograms.)83 972
y Fo(5.1)119 b(Tcl)30 b(v)o(ariables)g(and)g(pr)n(ocedur)n(es)83
1159 y Fy(In)c(the)g(pre)n(vious)f(section)h Fm(exit,)59
b(status,)f(pause,)g(and)h(go)26 b Fy(were)h(e)o(xamples)e(of)i(Tcl)f
(procedures)83 1280 y(that)g(are)g(de\002ned)h(for)f(you)f(in)h
Fu(tcl/r)l(ecsis)p 1510 1280 30 4 v 35 w(pr)l(oc.tcl)p
Fy(.)33 b(Once)26 b(a)g(Tcl)g(procedure)g(has)g(been)g(de\002ned)h(it)e
(becomes)h(a)83 1400 y(v)n(alid)e(Tcl)g(command.)30 b(As)25
b(an)g(e)o(xample)f(let')-5 b(s)24 b(look)g(at)g(the)h
Fm(status)f Fy(procedure.)327 1621 y Fl(1.)51 b(proc)24
b(status)h Fh(fg)f(f)327 1734 y Fl(2.)147 b(global)25
b(lstat;)327 1847 y(3.)147 b(set)24 b(lstat)g(-1;)327
1960 y(4.)51 b Fh(g)83 2188 y Fy(Line)28 b(1.)42 b(tells)27
b(Tcl)i(that)f(you)g(are)h(de\002ning)f(a)h(ne)n(w)f(procedure)h(named)
f(status)g(with)f(no)i(ar)n(guments)e(\(nothing)83 2308
y(between)33 b(the)f(\002rst)h(set)g(of)g Fg(fg)p Fy(\).)54
b(Line)33 b(2.)54 b(declares)33 b(that)g(the)f(v)n(ariable)h(lstat)f
(is)g(global,)i(that)e(is)g(its)g(v)n(alue)h(is)83 2429
y(a)n(v)n(ailable)d(outside)f(the)h(scope)g(of)h(the)f(status)f
(procedure.)48 b(Line)30 b(3.)47 b(simply)28 b(modi\002es)i(the)g(v)n
(alue)g(of)g(lstat)g(to)83 2549 y(-1)35 b(\(true)h(in)f(FOR)-6
b(TRAN\).)36 b(Line)f(4.)62 b(completes)35 b(the)g(procedure.)63
b(So)35 b(whene)n(v)o(er)g(you)g(in)l(v)n(ok)o(e)f(status)h(you)83
2670 y(are)g(simply)d(modifying)g(the)i(v)n(ariable)f(lstat)g(to)h(-1.)
58 b(On)34 b(its)f(o)n(wn)g(this)g(w)o(ould)g(not)g(accomplish)g(much,)
j(b)n(ut)83 2790 y(lstat)29 b(happens)h(to)g(be)g(link)o(ed)f(to)h(a)h
(FOR)-6 b(TRAN)31 b(v)n(ariable)e(lstat)h(which,)h(when)f(true,)h
(causes)f(the)g(subroutine)83 2910 y(REST)-9 b(A)e(T)29
b(to)f(be)h(called)g(which)f(dumps)g(the)g(job)g(status)g(to)h(the)f
(screen.)43 b(Suppose)29 b(you)f(w)o(ant)g(to)h(modify)e(the)83
3031 y(status)c(procedure)i(to)e(include)h(a)g(dump)g(of)g(the)g(BOS)h
(banks)e(names)h(in)g(memory)-6 b(.)29 b(Y)-11 b(ou)24
b(w)o(ould)f(then)h(enter)g(the)83 3151 y(follo)n(wing,)f(either)i(at)f
(the)h(RECSIS)i(prompt)c(or)i(include)f(it)h(in)f(your)h
(initialization)d(\002le:)327 3372 y Fl(1.)51 b(proc)24
b(ne)n(wstatus)h Fh(ff)p Fl(bos)p 1229 3372 28 4 v 35
w(array)g(iw)p Fh(gg)e(f)327 3485 y Fl(2.)74 b(global)25
b(lnamdmp)f(ibos)p 1240 3485 V 34 w(array)h(lstatus;)327
3598 y(3.)74 b(if)23 b Fh(f)p Fl($bos)p 767 3598 V 35
w(array)h(==)g(\224jw\224)p Fh(g)f(f)327 3711 y Fl(4.)170
b(set)24 b(ibos)p 844 3711 V 34 w(array)h(2;)327 3824
y(5.)79 b Fh(g)23 b Fl(else)h Fh(f)327 3936 y Fl(6.)170
b(set)24 b(ibos)p 844 3936 V 34 w(array)h(1;)327 4049
y(7.)74 b Fh(g)p Fl(;)327 4162 y(8.)g(set)23 b(lstat)i(-1;)327
4275 y(9.)74 b(set)23 b(lnamdmp)i(-1;)327 4388 y(10.)k
Fh(g)83 4616 y Fy(Here)f(in)e(line)h(1.)38 b(we)27 b(see)g(an)h(e)o
(xample)e(of)h(an)g(ar)n(gument,)g(bos)p 2283 4616 30
4 v 36 w(array)-6 b(,)27 b(which)g(is)g(used)g(to)f(toggle)h(which)f
(BOS)83 4737 y(array)e(bank)f(names)f(are)i(to)f(be)g(dump.)29
b(The)23 b(def)o(ault)g(is)g(the)g(IW)g(array)h(if)f(no)g(ar)n(gument)f
(is)h(entered.)30 b(Line)23 b(2)g(list)83 4857 y(the)28
b(global)f(v)n(ariables)h(which)g(are)h(link)o(ed)e(to)h(FOR)-6
b(TRAN)29 b(v)n(ariables.)40 b(The)28 b(lnamdmp)f(v)n(ariable)h(is)f(a)
i(logical)83 4978 y(which)35 b(when)g(true)g(in)l(v)n(ok)o(es)f(a)h
(subroutine)f(that)g(dumps)g(a)h(formatted)g(list)f(of)h(BOS)h(banks)e
(to)h(the)g(screen.)83 5098 y(The)d(ibos)p 443 5098 V
35 w(array)g(v)n(ariable)g(tells)f(this)g(subroutine)f(which)h(BOS)i
(array)g(to)e(dump)g(\(1=iw)-6 b(,)33 b(2=jw\))f(and)f(\002nally)83
5218 y(lstatus)21 b(we')-5 b(v)o(e)22 b(seen)g(in)f(the)h(pre)n(vious)e
(e)o(xample.)29 b(Lines)22 b(3,)g(4,5,6,7)f(set)h(the)f(appropriate)h
(v)n(alue)f(for)h(ibos)p 3749 5218 V 35 w(array)2008
5504 y(8)p eop
%%Page: 9 9
9 8 bop 83 75 a Fy(and)30 b(lines)f(8)g(and)h(9)g(set)f(the)h(lstat)e
(and)i(lnamdmp)e(v)n(alues.)45 b(W)l(ith)29 b(this)g(te)o(xt)f(entered)
i(the)g(user)g(no)n(w)e(can)i(type)83 195 y Fm(newstatus)23
b Fy(at)i(the)g(RECSIS)i(prompt)d(and)h(not)f(only)h(will)f(the)h(job)f
(status)g(be)i(displayed)e(b)n(ut)g(also)h(a)g(list)f(of)83
315 y(all)h(the)g(bank)f(names)h(in)f(the)h(IW)h(array)f(\(def)o
(ault\).)31 b(Note)25 b(that)g(since)f(the)h(status)f(and)h(ndump)f
(procedure)h(ha)n(v)o(e)83 436 y(already)g(been)g(de\002ned)g(for)g
(you)g(in)f Fu(tcl/r)l(ecsis)p 1713 436 30 4 v 35 w(pr)l(oc.tcl)g
Fy(the)g(abo)o(v)o(e)g(procedure)h(could)g(be)g(written)f(as:)327
657 y Fl(1.)51 b(proc)24 b(ne)n(wstatus)h Fh(ff)p Fl(bos)p
1229 657 28 4 v 35 w(array)g(iw)p Fh(gg)e(f)327 770 y
Fl(2.)130 b(status)327 883 y(3.)g(ndump)24 b($bos)p 975
883 V 35 w(array)327 995 y(4.)51 b Fh(g)83 1291 y Fo(5.2)119
b(Linking)31 b(Tcl)f(and)h(FOR)-5 b(TRAN)31 b(v)o(ariables)83
1478 y Fy(In)22 b(order)g(for)h(a)f(Tcl)g(v)n(ariable)f(and)h(a)h(FOR)
-6 b(TRAN)23 b(v)n(ariable)e(to)h(share)g(a)g(memory)f(location)g(the)h
(Tcl)g(interpreter)83 1599 y(must)k(be)h(told)f(the)h(location)f(of)h
(the)f(FOR)-6 b(TRAN)28 b(v)n(ariable.)37 b(This)26 b(is)g(done)h(from)
g(the)g(FOR)-6 b(TRAN)28 b(side)e(via)h(a)83 1719 y(set)k(of)f
(routines)g(pro)o(vided)g(by)g(the)h(Tcl)g(library)-6
b(.)48 b(The)30 b(user)h(needs)g(to)f(tell)h(Tcl)f(the)h(pointer)f(to)g
(the)h(memory)83 1839 y(address,)e(the)g(v)n(ariable)f(type)g(and)g
(the)h(Tcl)f(v)n(ariable)g(name.)42 b(The)28 b(Tcl)h(library)f
(supports)f(the)h(follo)n(wing)f(data)83 1960 y(types:)59
b(inte)o(ger)l(,)42 b(double)c(precision)g(reals)i(\(\003oats\))f(and)g
(strings)2433 1924 y Ft(4)2469 1960 y Fy(.)74 b(Extensions)38
b(e)o(xists)f(to)i(mak)o(e)g(pro)o(vide)83 2080 y(support)26
b(for)h(a)h(more)f(complete)f(data)h(types,)g(ho)n(we)n(v)o(er)f(we)h
(decided)g(to)f(stick)h(with)f(bare)i(bones)e(Tcl)h(to)g(limit)83
2200 y(possible)j(compatibility)f(problems)h(in)i(the)f(future.)50
b(If)32 b(you)f(are)i(a)e(FOR)-6 b(TRAN)33 b(programmer)e(you)g(may)g
(be)83 2321 y(w)o(ondering)24 b(ho)n(w)h(to)f(pass)h(a)h(memory)e
(pointer)g(to)h(a)g(subroutine.)31 b(The)25 b(reason)g(you)g(are)g(unf)
o(amiliar)g(with)f(this)83 2441 y(is)f(due)g(to)f(the)h(f)o(act)h(that)
e(this)g(is)h(done)g(automatically)e(for)i(you)g(via)g(subroutine)f(ar)
n(guments.)29 b(That)23 b(is)f(you)h(do)g(it)83 2562
y(e)n(v)o(ery)h(day)g(don')n(t)h(sweat)f(it.)30 b(Belo)n(w)24
b(is)h(a)f(set)h(of)f(code)h(that)f(links)g(there)g(FOR)-6
b(TRAN)26 b(v)n(ariables)e(to)g(three)h(TCL)83 2682 y(v)n(ariables,)f
(this)g(code)h(is)f(tak)o(en)h(straight)f(from)g(the)h
Fu(user/user)p 2270 2682 30 4 v 35 w(tcl)p 2405 2682
V 35 w(init.F)f Fy(routine.)327 2903 y Fl(00.)327 3016
y(01.)204 b(INTEGER)21 b(ITCL)p 1264 3016 28 4 v 31 w(INT)-7
b(,)23 b(ITCL)p 1689 3016 V 31 w(STRING,)e(ITCL)p 2297
3016 V 32 w(INT)p 2481 3016 V 32 w(READ,)327 3129 y(02.)80
b(1)227 b(ITCL)p 1000 3129 V 32 w(DOUBLE)327 3242 y(03.)193
b(D)l(A)-10 b(T)i(A)21 b(ITCL)p 1094 3242 V 32 w(INT)-7
b(,)22 b(ITCL)p 1519 3242 V 32 w(STRING,)f(ITCL)p 2128
3242 V 31 w(INT)p 2311 3242 V 33 w(READ,)327 3355 y(04.)80
b(1)227 b(ITCL)p 1000 3355 V 32 w(DOUBLE/1,4,129,2/)327
3467 y(05.c)327 3580 y(06.c)46 b(e)o(x)o(ecutable)26
b(code)e(for)g(routine)h(USER)p 1777 3580 V 32 w(TCL)p
1982 3580 V 31 w(INIT)-5 b(:)327 3693 y
(07.c\227-6\227\227\227\227\227\227\227\227\227\227\227\227\227\227\227)
p(\227\227\227\227-)327 3806 y(08.c)327 3919 y(09.c)327
4032 y(10.c)46 b(The)23 b(belo)n(w)h(calls)g(LINK)e(the)i(fortran)h(v)n
(ariable)g(to)f(the)g(tcl)327 4145 y(11.c)46 b(v)n(ariable.)327
4258 y(12.c)g(T)-7 b(o)23 b(interacti)n(v)o(e)j(change)f(the)f(v)n
(alue)g(of)f(`my)p 1926 4258 V 34 w(v)n(ariable':)327
4371 y(13.c)115 b(A\))22 b(type)47 b(set)24 b(my)p 1160
4371 V 33 w(v)n(ariable)h(10)46 b(at)24 b(the)g(prompt)g(or)f(in)327
4484 y(14.c)183 b(your)24 b(Initializing)j(script)327
4597 y(15.c)115 b(B\))22 b(setup)j(the)f(communication)i(shell)e(and)g
(:)327 4709 y(16.c)569 b(SendMsg)24 b(\224set)g(my)p
1700 4709 V 33 w(v)n(ariable)i(10\224)327 4822 y(17.c)327
4935 y(18.)165 b(my)p 726 4935 V 33 w(inte)o(ger)25 b(=)e(1)p
83 5023 1560 4 v 199 5084 a Fs(4)232 5114 y Fr(The)28
b(Tcl)h(library)e(also)i(supports)e(boolean)g(v)n(ariables)g(b)n(ut)h
(since)h(the)f(de\002nition)f(of)h(TR)m(UE)g(is)i(dif)n(ferent)c
(between)i(Tcl)g(and)83 5214 y(FOR)-5 b(TRAN,)21 b(it)g(is)g
(recommended)c(that)j(FOR)-5 b(TRAN)22 b(logicals)e(be)g(link)o(ed)f
(to)i(Tcl)f(inte)o(gers.)2008 5504 y Fy(9)p eop
%%Page: 10 10
10 9 bop 327 75 a Fl(19.)165 b(call)24 b(tcl)p 854 75
28 4 v 34 w(linkv)n(ar\('my)p 1317 75 V 35 w(inte)o(ger',my)p
1770 75 V 35 w(inte)o(ger)l(,itcl)p 2188 75 V 37 w(int\))327
188 y(20.)327 301 y(21.)165 b(my)p 726 301 V 33 w(real)24
b(=)f(0.0)327 413 y(22.)165 b(call)24 b(tcl)p 854 413
V 34 w(linkv)n(ar\('my)p 1317 413 V 35 w(real',my)p 1656
413 V 35 w(real,itcl)p 1964 413 V 35 w(double\))327 526
y(23.)327 639 y(24.)165 b(my)p 726 639 V 33 w(string\(1:\))32
b(=)23 b('1234567890')327 752 y(25.)165 b(call)24 b(tcl)p
854 752 V 34 w(linkchar\('my)p 1359 752 V 36 w(string',my)p
1769 752 V 35 w(string,itcl)p 2147 752 V 36 w(string,)327
865 y(26.)80 b(1)796 b(lmy)p 1507 865 V 33 w(string\))327
978 y(27.c)327 1091 y(28.)142 b(RETURN)327 1204 y(29.)g(END)327
1317 y(30.c)327 1430 y
(31.c\227\227\227\227\227\227\227\227\227\227\227\227\227\227\227\227)p
(\227\227\227\227\226)83 1658 y Fy(In)28 b(line)g(1)g(the)g(local)g(v)n
(ariables)f(are)i(declared)f(and)g(in)g(line)g(2)g(we)g(set)g(the)g
(appropriate)g(v)n(alues)f(for)h(the)g(corre-)83 1778
y(sponding)c(datatypes.)33 b(The)25 b(FOR)-6 b(TRAN)27
b(v)n(ariables)e(that)g(are)h(link)o(ed)f(to)g(Tcl)h(v)n(ariables)f
(are)h(contained)f(in)g(the)83 1899 y Fu(user/user)p
461 1899 30 4 v 35 w(contr)l(ol.inc)h Fy(include)h(\002le)h(so)g(that)f
(the)o(y)g(can)i(easily)e(be)h(used)g(in)f(an)o(y)g(other)h(user)g
(routine.)39 b(Belo)n(w)83 2019 y(we)25 b(list)f(the)g(contents)g(of)h
Fu(user/user)p 1360 2019 V 35 w(contr)l(ol.inc)e Fy(for)i
(completeness.)327 2360 y Fl(01.c)46 b(V)-10 b(ariables)25
b(contained)i(in)c(USER)p 1596 2360 28 4 v 31 w(CONTR)l(OL)d(common)k
(block)327 2473 y(02.c)46 b
(\227\227\227\227\227\227\227\227\227\227\227\227\227\227\226)327
2586 y(03.c)327 2699 y(04.c)p 485 2699 V 34 w(end)p 649
2699 V 34 w(v)n(ar)327 2812 y(05.c)g(the)24 b(follo)n(wing)h(is)f(an)f
(e)o(xample)h(of)g(a)f(runtime)i(controlable)327 2925
y(06.c)46 b(v)n(ariable)26 b(look)e(in)f(user)p 1272
2925 V 35 w(tcl)p 1397 2925 V 33 w(init.F)h(to)f(see)h(ho)n(w)f(to)g
(link)327 3038 y(07.c)46 b(this)24 b(v)n(ariable)i(to)d(a)g(tcl)h(v)n
(ariable)327 3151 y(08.c)327 3264 y(09.)193 b(INTEGER)21
b(lmy)p 1191 3264 V 33 w(string)327 3377 y(10.)165 b(parameter)25
b(\(lmy)p 1167 3377 V 34 w(string)g(=)e(10\))327 3489
y(11.)327 3602 y(12.)165 b(inte)o(ger)25 b(my)p 1000
3602 V 33 w(inte)o(ger)327 3715 y(13.)165 b(REAL*8)45
b(my)p 1100 3715 V 33 w(real)24 b(!tcl)g(doesn')n(t)h(kno)n(w)f(about)h
(single)327 3828 y(14.c)524 b(precision)327 3941 y(15.)165
b(CHARA)l(CTER*10)21 b(my)p 1432 3941 V 33 w(string)327
4054 y(16.)327 4167 y(17.)165 b(COMMON/USER)p 1290 4167
V 30 w(CONTR)l(OL/my)p 1889 4167 V 30 w(real,)24 b(my)p
2217 4167 V 33 w(inte)o(ger)l(,)h(my)p 2659 4167 V 33
w(string)327 4280 y
(18.c\227\227\227\227\227\227\227\227\227\227\227\227\227\227\227\227)p
(\227\227\226)83 4508 y Fy(Note)31 b(that)f(to)h(link)f(a)h(character)h
(string)e(the)h(Tcl)f(subroutine)g(is)h(Tcl)p 2517 4508
30 4 v 35 w(LinkCHAR)g(and)g(you)f(need)i(to)e(pass)h(it)83
4628 y(the)24 b(string)f(length)g(as)h(well)g(as)g(the)g(memory)f
(address.)31 b(Also)23 b(you)g(can)i(de\002ne)g(v)n(ariables)e(as)h
(read)h(only)e(so)h(that)83 4749 y(you)k(can)g(e)o(xamine)f(the)h(v)n
(ariable)g(from)g(Tcl)g(b)n(ut)f(not)h(modify)f(it.)40
b(The)28 b(Tcl)g(v)n(ariable)g(name)g(and)g(FOR)-6 b(TRAN)83
4869 y(v)n(ariable)25 b(name)g(do)g(not)g(need)g(to)g(be)h(the)f(same,)
g(although)f(it)h(mak)o(es)g(understanding)f(the)h(code)h(easier)g(if)f
(the)o(y)83 4990 y(are)h(identical.)1983 5504 y(10)p
eop
%%Page: 11 11
11 10 bop 83 75 a Fo(5.3)119 b(Tcl)30 b(-FOR)-5 b(TRAN:)31
b(Wh)n(y?)83 262 y Fy(If)25 b(you)f(still)f(need)i(moti)n(v)n(ation)c
(as)j(to)g(why)g(ha)n(ving)g(runtime)f(access)i(is)f(needed,)h(let)f
(me)g(present)h(an)f(e)o(xample.)83 383 y(Suppose)32
b(you)g(w)o(ant)g(to)g(study)g(the)g(ef)n(fects)g(of)h(some)f(basic)g
(tracking)g(parameters.)53 b(Y)-11 b(ou)33 b(could)e(repeat)i(the)83
503 y(edit-compile-link-e)o(x)o(ecute)g(for)j(each)h(change)f(in)f
(cuts.)63 b(Or)36 b(you)f(could)h(link)e(the)i(appropriate)g(v)n(alues)
f(to)83 623 y(a)h(Tcl)g(v)n(ariable)f(\(man)o(y)h(are)g(already)g(link)
o(ed)f(for)i(you!\))64 b(and)35 b(the)h(simply)f(change)h(the)f(v)n
(ariables)h(are)g(run)83 744 y(time.)42 b(This)27 b(eliminates)h(the)g
(need)h(to)g(recompile)f(and)g(link)g(your)h(code.)42
b(In)29 b(the)f(latter)h(e)o(xample)f(you)g(w)o(ould)83
864 y(either)e(ha)n(v)o(e)f(to)h(run)g(the)f(jobs)g(in)h(series)f(or)h
(rename)g(the)g(e)o(x)o(ecutables.)33 b(W)l(ith)25 b(the)h(Tcl)f
(method)g(you)h(ha)n(v)o(e)f(one)83 985 y(e)o(x)o(ecutable)f(and)h(se)n
(v)o(eral)f(initialization)e(\002les)j(which)g(can)g(easily)f(be)h(run)
g(in)f(parallel.)229 1105 y(Perhaps)h(the)f(best)f(justi\002cation)g
(for)h(the)g(need)g(for)g(this)f(ability)g(can)h(be)h(found)e(in)h(the)
g Fu(tcl/r)l(ecsis)p 3627 1105 30 4 v 34 w(pr)l(oc.tcl)p
Fy(,)83 1225 y(this)32 b(\002le)i(contains)e(a)i(set)f(of)g(Tcl)g
(procedures)g(written)g(to)f(mak)o(e)h(the)g(command)g(line)f(interf)o
(ace)i(more)f(user)83 1346 y(friendly)-6 b(.)29 b(It)23
b(includes)f(procedures)i(for)f(dynamically)e(creating)j(histograms,)d
(dumping)h(BOS)h(banks,)g(editing)83 1466 y(BOS)g(banks)e(and)h(a)g
(whole)f(lot)g(more.)30 b(The)21 b(details)g(of)h(the)g(procedures)g
(contained)f(within)f Fu(tcl/r)l(ecsis)p 3651 1466 V
35 w(pr)l(oc.tcl)83 1587 y Fy(are)26 b(laid)e(out)g(in)h(Appendix)e(B.)
83 1926 y Fw(6)143 b(BOS)35 b(Bank)g(de\002nitions)f(and)h(ddl)g
(\002les)83 2150 y Fy(Since)i(FOR)-6 b(TRAN-77)38 b(does)f(not)f(allo)n
(w)g(for)h(dynamic)g(memory)f(management)g(most)g(lar)n(ge)h(FOR)-6
b(TRAN)83 2270 y(projects)24 b(in)l(v)n(ok)o(e)f(some)g(sort)h(of)g
(memory)g(manager)g(lik)o(e)f(the)h(CERN)h(zebra)g(or)f(DESY)g(BOS)h
(packages.)31 b(The)83 2390 y(idea)d(is)g(to)g(steer)g(the)h(user)f(a)o
(w)o(ay)g(from)g(static)g(common)f(blocks)g(so)h(that)g(it)g(becomes)g
(harder)g(to)g(corrupt)g(the)83 2511 y(data)f(in)g(memory)f(and)h
(supposedly)f(easier)h(for)h(the)f(user)g(to)g(interf)o(ace)g(to)g(the)
g(data.)38 b(The)27 b(usage)g(of)g(the)g(BOS)83 2631
y(package)h(does)g(not)f(really)h(sa)n(v)o(e)g(on)f(memory)g(usage)h
(since)g(it)f(initializes)g(a)h(huge)f(array)i(\(IW\),)f(in)g(which)f
(all)83 2752 y(the)g(data)g(manipulation)f(is)g(to)h(tak)o(e)h(place.)
38 b(Couple)27 b(this)f(lar)n(ge)i(IW)g(array)g(with)e(the)h(f)o(act)h
(that)f(the)g(\002rst)g(thing)83 2872 y(most)i(people)h(do)g(is)g(cop)o
(y)g(their)g(BOS)h(banks)f(into)f(static)h(arrays)h(k)o(ept)f(in)g
(common)f(blocks,)i(we)f(really)g(are)83 2992 y(not)f(accomplishing)e
(much)h(by)h(using)f(BOS.)i(Be)g(that)e(as)i(it)e(may)-6
b(.)43 b(The)29 b(user)g(is)g(needs)g(to)f(kno)n(w)g(ho)n(w)h(to)f(get)
83 3113 y(access)23 b(to)e(the)h(CLAS)h(data,)f(either)g(RA)-9
b(W)23 b(or)f(reconstructed.)29 b(Since)23 b(this)e(will)g(be)h(done)g
(through)f(BOS)i(banks)83 3233 y(the)30 b(user)g(should)f(kno)n(w)g(ho)
n(w)g(\002nd)h(this)f(information.)45 b(The)30 b(use)g(of)g(ASCII)i
(\002les)e(that)f(describe)h Fv(each)h Fy(BOS)83 3353
y(bank)c(pro)o(vides)f(a)h(self)g(documenting)e(mechanism.)37
b(These)27 b(\002les)g(are)h(named)e Fv(ddl)i Fy(\002les)f(for)g
Fv(d)p Fy(ata)h Fv(d)p Fy(escriptor)83 3474 y Fv(l)p
Fy(anguage)d(and)f(their)h(format)f(w)o(as)h(tak)o(en)g(from)f(an)h(H1)
g(BOS)h(utility)d(softw)o(are)i(package.)83 3769 y Fo(6.1)119
b(BOS)30 b(ddl)h(\002les)f(and)h(their)g(f)m(ormat)83
3957 y Fy(Ev)o(ery)24 b(CLAS)h(BOS)h(bank)e(is)g(to)g(be)h(de\002ned)f
(via)h(a)f Fv(ddl)i Fy(\002le.)31 b(These)24 b(ddl)g(\002les)h(are)g
(ASCII)g(\002les)g(that)f(describe)83 4077 y(ho)n(w)h(the)h(data)h(is)e
(laid)h(out)g(for)g(each)h(bank)f(with)f(descriptions)g(of)h(e)n(v)o
(ery)g(v)n(ariable.)34 b(The)26 b(indi)n(vidual)e(ddl)i(\002les)83
4197 y(are)35 b(k)o(ept)e(in)g Fu(bankdefs/*.ddl)f Fy(and)i(are)g(k)o
(ept)g(under)f(CVS)i(control)e(so)g(we)h(can)h(track)f(changes.)57
b(The)34 b(main)83 4318 y(purpose)c(of)h(these)f(\002les)h(is)f(to)g
(pro)o(vide)g(a)h(documentation)e(on)h(the)h(CLAS)g(data)g(structures;)
h(since)f(the)o(y)e(are)83 4438 y(ASCII)d(\002les)f(with)f(comment)g
(\002elds)h(the)o(y)f(are)h(as)g(useful)f(as)h(the)g(comments)e(that)i
(get)f(entered.)229 4558 y(The)h(format)g(for)g(a)g(ddl)f(\002le)h(is)g
(straight)e(forw)o(ard.)228 4787 y Fg(\017)49 b Fy(The)25
b(name)f(of)h(the)g(\002le)g(should)f(be)h(the)f(name)h(of)g(the)g
(bank)f(with)g(.ddl)g(as)h(a)g(suf)n(\002x.)228 4990
y Fg(\017)49 b Fy(All)24 b(te)o(xt)g(follo)n(wing)f(a)i(!)31
b(is)24 b(treated)h(as)g(a)g(comment,)f(with)g(one)h(e)o(xception.)228
5194 y Fg(\017)49 b Fy(W)-8 b(ords)24 b(are)i(to)e(be)h(separated)g(by)
g(spaces.)1983 5504 y(11)p eop
%%Page: 12 12
12 11 bop 228 75 a Fg(\017)49 b Fy(The)25 b(\002rst)g(non-comment)e
(line)h(should)g(be)h(of)n(f)f(the)h(form:)327 195 y
Fm(TABLE)59 b(BankName)f(Format)g(!)119 b(Action)59 b(Words)f(!)120
b(Comment)58 b(Field)443 423 y Fv(\226)49 b Fm(TABLE)23
b Fy(signi\002es)h(the)h(be)o(ginning)e(of)i(bank)f(de\002nition)g(and)
h(MUST)g(be)g(present.)443 585 y Fv(\226)49 b Fm(BankName)82
b Fy(is)25 b(the)f(four)h(letter)g(name)g(of)g(the)f(bank.)443
747 y Fv(\226)49 b Fm(Format)25 b Fy(used)h(only)f(for)i(B32)f(or)g
(B16)h(formatted)f(banks,)g(for)g(mix)o(ed)f(I,)i(F)f(and)h(A)f(banks)g
(there)542 868 y(is)e(no)g(format)h(in)f(the)h(\002rst)g(line.)443
1029 y Fv(\226)49 b Fy(Action)33 b(W)-8 b(ords)33 b(can)i(consist)e(of)
h(an)o(y)f(or)h(all)g(of)g(the)g(follo)n(wing,)g(with)f(spaces)h
(between)g(them;)542 1150 y Fm(create)58 b(write)h(display)f(delete)p
Fy(.)31 b(These)25 b(action)g(w)o(ords)g(must)f(come)h(after)h(the)f
(\002rst)542 1270 y(!)30 b(in)24 b(the)g(T)-9 b(ABLE)24
b(line.)30 b(What)25 b(these)f(actions)f(w)o(ords)h(mean)g(are)h(e)o
(xplained)e(in)h(the)g(ne)o(xt)g(section.)443 1432 y
Fv(\226)49 b Fm(Comment)58 b(Field)23 b Fy(is)i(the)g(authors)f
(choosing.)228 1660 y Fg(\017)49 b Fy(Each)25 b(quantity)e(in)i(the)f
(bank)h(should)f(be)h(listed)e(on)i(a)g(separate)g(line)g(looking)e
(lik)o(e:)327 1781 y Fm(Col)59 b(VariableName)e(Format)i(Min)g(Max)g(!)
119 b(Comment)58 b(Field)443 2009 y Fv(\226)49 b Fm(Col)24
b Fy(is)g(the)h(column)f(number)g(in)g(the)h(bank)f(\()p
Ff(1)k Fg(!)p Fy(Number)c(of)h(Columns\).)443 2171 y
Fv(\226)49 b Fm(VariableName)27 b Fy(is)k(a)f(descripti)n(v)o(e)f(name)
i(for)g(the)f(stored)g(quantity)-6 b(.)46 b(This)30 b(name)h(should)e
(be)542 2291 y(unique)24 b(within)f(the)i(bank.)443 2453
y Fv(\226)49 b Fm(Format)31 b Fy(is)i(the)g(stored)g(format)g(\(I,)g(F)
h(or)f(A\),)g(note)g(that)g(for)g(B16)g(and)g(B32)h(banks)e(ALL)h(the)
542 2574 y(v)n(ariables)23 b(should)h(list)f(the)h(format)h(in)f(the)g
(indi)n(vidual)e(v)n(ariables)i(as)h(I.)f(This)g(\002eld)h(is)f
(ignored)g(for)542 2694 y(B16)g(and)h(B32)g(\002elds,)g(and)g(the)f(I)h
(is)g(there)g(for)g(consistent)e(te)o(xt)h(format.)443
2856 y Fv(\226)49 b Fm(Min)59 b(Max)21 b Fy(The)h(minimum)d(and)j
(maximum)e(allo)n(wed)h(v)n(alues)g(for)h(this)f(v)n(ariable.)29
b(Presently)22 b(this)542 2976 y(information)h(is)h(not)g(used.)443
3138 y Fv(\226)49 b Fm(Comment)58 b(Field)23 b Fy(Should)i(contain)f(a)
h(useful)f(description)g(of)h(the)g(v)n(ariable.)228
3367 y Fg(\017)49 b Fy(After)21 b(each)g(v)n(ariable)f(has)g(been)h
(documented)f(the)g(last)g(line)g(of)h(the)f(ddl)g(\002le)h(should)f
(be:)28 b Fm(END)59 b(TABLE)p Fy(.)327 3487 y(This)24
b(signi\002es)g(the)h(end)f(of)h(the)g(BOS)h(bank)e(ddl)g(de\002nition)
g(for)h(this)f(bank.)83 3782 y Fo(6.2)119 b(TXT2BOS)83
3970 y Fy(All)34 b(the)g(ddl)f(\002les)h(are)h(concatenated)g(together)
e(into)g(a)i(\002le)f Fe($)p Fu(CLAS)p 2550 3970 30 4
v 37 w(P)-9 b(ARMS/clasbanks.ddl)p Fy(.)56 b(This)33
b(\002le)i(is)83 4090 y(used)h(at)h(run)g(time)f(by)g(RECSIS)i(by)f(a)g
(subroutine)e Fu(r)l(ecutl/txt2bos.F)p Fy(.)g(TXT2BOS)i(uses)f(the)h
(information)83 4210 y(in)c Fe($)p Fu(CLAS)p 482 4210
V 36 w(P)-9 b(ARMS/clasbanks.ddl)32 b Fy(to)h(internally)f(re)o(gister)
h(information)g(and)g(formats)g(on)h(all)f(the)h(banks.)83
4331 y(TXT2BOS)25 b(reads)g(in)g(clasbanks.ddl)e(and)i(performs)g(the)f
(follo)n(wing:)228 4559 y Fg(\017)49 b Fy(F)o(or)25 b(each)g(bank)g
(BNKFMT)g(is)f(called)h(with)f(the)h(format)f(determined)g(from)h(the)f
(\002le.)228 4763 y Fg(\017)49 b Fy(If)28 b(the)f(WRITE)h(action)f(w)o
(ord)g(is)g(present)g(the)g(bank)g(is)g(added)g(to)g(the)g(output)g
(bank)g(list,)f(if)i(WRITE)g(is)327 4883 y(not)c(present)h(the)f(bank)h
(will)f(not)g(be)h(written)f(out.)228 5086 y Fg(\017)49
b Fy(If)21 b(the)g(DELETE)f(action)h(w)o(ord)g(is)f(present)h(the)g
(bank)g(is)f(deleted)h(from)g(memory)f(before)h(the)g(ne)o(xt)f(e)n(v)o
(ent)327 5207 y(is)k(read)i(in.)1983 5504 y(12)p eop
%%Page: 13 13
13 12 bop 228 75 a Fg(\017)49 b Fy(If)32 b(the)f(DISPLA)-10
b(Y)31 b(action)g(w)o(ord)g(is)g(present)g(the)g(bank)g(will)g(be)g
(part)h(of)f(the)g(set)g(of)h(banks)e(set)h(to)g(the)327
195 y(Ev)o(entStore)24 b(b)n(uf)n(fer)h(which)f(can)h(then)g(be)g
(accessed)g(by)g Fu(ced)p Fy(.)83 423 y(All)32 b(this)g(is)g
(accomplished)f(by)h(a)h(parsing)f(the)h(indi)n(vidual)d(lines)i(in)g
(the)g(ddl)g(\002le,)j(splitting)30 b(on)j(spaces)f(and)83
544 y(assuming)f(that)h(each)i(line)e(conforms)g(to)g(the)h(syntax)e
(described)i(in)f(the)h(pre)n(vious)e(section.)54 b(Note)32
b(that)g(the)83 664 y(user)k(should)f(ne)n(v)o(er)h(ha)n(v)o(e)g(to)f
(call)h(BNKFMT)h(directly)e(in)h(their)g(code)g(since)g(TXT2BOS)h(will)
e(mak)o(e)h(the)83 785 y(call)e(based)g(on)f(the)h(format)g(deri)n(v)o
(ed)f(from)g(the)h(ddl)f(\002le.)59 b(One)34 b(can)g(also)g(control)f
(which)g(banks)h(are)g(to)g(be)83 905 y(written)26 b(out)g(via)g(the)h
(presence)g(or)f(absence)h(of)g(the)f(WRITE)h(action)f(w)o(ord.)36
b(And)26 b(this)g(can)h(be)f(done)h(without)83 1025 y(recompiling)e
(the)g(code,)i(simply)d(change)i(your)g(input)f(ddl)h(\002le)g(and)g
(run)g(your)g(job)l(.)33 b(There)27 b(is)e(a)i(Tcl)e(GUI)i(that)83
1146 y(will)f(allo)n(w)h(you)f(to)h(click)g(on)g(radio-checkb)n(uttons)
f(to)h(select)g(the)g(action)g(w)o(ords)g(for)g(each)h(bank.)38
b(T)-8 b(o)27 b(in)l(v)n(ok)o(e)83 1266 y(this)d(GUI)h(try)f(the)h
(follo)n(wing:)228 1494 y Fg(\017)49 b Fm(cvs)59 b(checkout)f(bankdefs)
228 1698 y Fg(\017)49 b Fm(swish)59 b(-f)g(mod)p 1051
1698 30 4 v 35 w(ddl)228 1901 y Fg(\017)49 b Fy(Chose)26
b(use)f(e)o(xisting)f(ddls)g(from)i(the)f(selection)g(box,)g(this)f
(will)h(pop)g(up)g(a)h(lar)n(ge)g(screen)g(listing)e(all)h(the)327
2022 y(bank)f(names)h(and)g(choices)f(for)h(the)g(action)f(w)o(ords.)
228 2225 y Fg(\017)49 b Fy(Click)25 b(on)f(your)h(choices.)228
2428 y Fg(\017)49 b Fy(Click)25 b(the)f(write)h(\002le)g(option.)228
2632 y Fg(\017)49 b Fy(Point)27 b(your)g(RECSIS)j(job)d(to)g(this)f(ne)
n(w)h(ddl)g(\002le)h(via)g(the)f(Tcl)g(v)n(ariable)h(ddl)p
3013 2632 V 35 w(\002le)g(\()p Fm(setc)59 b(ddl)p 3715
2632 V 35 w(file)327 2752 y(myclasbanks.ddl)p Fy(\).)83
2980 y(Ha)n(ving)30 b(an)g(ASCII)i(description)d(of)h(the)h(BOS)g
(banks)f(has)g(man)o(y)f(enormous)h(adv)n(antages,)h(not)e(just)h
(human)83 3101 y(readable)20 b(documentation.)28 b(Their)19
b(presence)i(has)e(allo)n(wed)g(RECSIS)i(to)f(contain)f(generic)h(BOS)h
(bank)e(utilities)83 3221 y(\()p Fm(bdump,)59 b(ndump,)f(edump,)g
(bedit)18 b Fy(described)h(in)g(Appendix)f(B\))i(,)f(C)g(structures)g
(that)f(o)o(v)o(erlay)g(on)h(top)83 3342 y(of)25 b(the)f(IW)h(array)h
(allo)n(wing)d(C)i(de)n(v)o(elopers)e(an)i(ele)o(gant)f(w)o(ay)g(to)h
(get)f(at)h(the)f(data)h(\(see)g(the)g Fu(c)p 3317 3342
V 36 w(bos)p 3492 3342 V 35 w(io)f Fy(package\))83 3462
y(and)38 b(the)f(follo)n(wing)f(section)g(describes)i(a)g(hopefully)e
(user)i(friendly)f(FOR)-6 b(TRAN)39 b(interf)o(ace)f(to)f(the)g(BOS)83
3582 y(banks.)83 3878 y Fo(6.3)119 b(Example)30 b(of)f(getting)h
(access)f(to)g(bank)i(inf)m(ormation)83 4065 y Fy(The)f(BOS)g(manual)f
(describes)g(in)g(detail)g(ho)n(w)g(to)g(get)h(access)g(to,)g(ho)n(w)f
(to)g(modify)f(and)i(ho)n(w)e(to)i(create)g(data)83 4186
y(in)j(the)f(BOS)i(IW)f(and)g(JW)g(arrays)g([)p Fv(?)p
Fy(].)55 b(The)33 b(BOS)h(manual)e(should)g(be)h(referred)h(to)f(whene)
n(v)o(er)f(you)h(don')n(t)83 4306 y(understand)24 b(what)g(follo)n(ws.)
29 b(This)24 b(interf)o(ace)h(can)g(be)f(rather)h(daunting)f(to)g(the)g
(uninitiated,)f(b)n(ut)h(once)g(you)g(are)83 4426 y(o)o(v)o(er)k(the)h
(learning)f(curv)o(e)h(it)f(becomes)h(rather)g(easy)-6
b(.)43 b(This)28 b(section)g(is)h(brok)o(en)f(do)n(wn)g(into)g(tw)o(o)h
(sections,)g(in)83 4547 y(the)23 b(\002rst)g(one)g(a)h(brief)f(e)o
(xample)f(of)i(the)f(traditional)e(method)i(of)g(interf)o(acing)g(to)f
(the)h(BOS)h(commons)e(is)h(gi)n(v)o(en.)83 4667 y(Then)e(a)h(ne)n(w)f
(e)o(xample)g(is)g(gi)n(v)o(en)f(that)h(uses)g(a)h(set)f(of)h(FOR)-6
b(TRAN)23 b(include)e(\002les)g(that)g(are)i(generated)e(\(via)h
(perl\))83 4787 y(based)j(on)f(the)h(clasbanks.ddl)e(\002le.)1983
5504 y(13)p eop
%%Page: 14 14
14 13 bop 83 75 a Fv(6.3.1)99 b(The)26 b(Hardcor)n(e)f(FOR)l(TRAN)g
(way)83 262 y Fy(The)g(process)g(of)f(getting)g(data)h(from)g(the)f
(BOS)i(can)f(be)g(brok)o(en)g(do)n(wn)e(into)h(the)h(follo)n(wing)e
(steps:)203 440 y(1.)49 b(Determine)24 b(which)h(BOS)g(bank)g(you)f
(are)i(interested)e(in,)g(via)h(the)g(ddl)f(\002les.)203
630 y(2.)49 b(Determine)24 b(if)h(this)f(bank)h(is)f(in)g(the)h(IW)g
(\(most)f(common\))g(or)h(the)f(JW)h(array)3013 594 y
Ft(5)3051 630 y Fy(.)203 821 y(3.)49 b(Determine)24 b(the)h(data)g
(format)f(for)h(this)f(v)n(ariable,)h(via)f(the)h(ddl)f(\002les.)203
1012 y(4.)49 b(Locate)19 b(the)g(starting)e(point)h(of)h(the)g(B)m(ANK)
f(in)h(the)g(IW)g(or)g(JW)f(array)-6 b(,)20 b(this)e(will)g(be)h
(called)g(the)g Fu(bank)p 3767 1012 30 4 v 35 w(of)n(fset)p
Fy(.)203 1202 y(5.)49 b(Locate)25 b(the)g(v)n(ariable)f(within)f(the)i
(B)m(ANK,)g(this)e(will)h(be)h(called)g(the)g Fu(variable)p
3084 1202 V 35 w(of)n(fset)p Fy(.)203 1393 y(6.)49 b(W)l(ith)18
b(this)g(done)h(the)f(quantity)g(of)h(interest)f(is)g(IW\()p
Fu(bank)p 2262 1393 V 36 w(of)n(fset+variable)p 2913
1393 V 34 w(of)n(fset)p Fy(\))h(for)g(inte)o(gers,)g(R)-5
b(W\()p Fu(bank)p 4090 1393 V 35 w(of)n(fset+variable)p
4740 1393 V 35 w(of)n(fset)p Fy(\))327 1513 y(for)25
b(reals)g(and)g(IW16\(2*)p Fu(bank)p 1410 1513 V 35 w(of)n
(fset+variable)p 2060 1513 V 34 w(of)n(fset)p Fy(\))f(for)h(16)g(bit)f
(inte)o(gers)g(\(shorts\).)83 1691 y(The)h(FOR)-6 b(TRAN)26
b(code)f(to)f(do)h(these)f(steps)g(is)h(contained)f(in)g
Fu(user/user)p 2624 1691 V 35 w(e)o(vnt.F)g Fy(and)h(is)f(listed)g(as)h
(follo)n(ws:)327 1861 y Fl(c)46 b(include)25 b(the)f(bcs.inc)h(common)f
(block,)327 1973 y(c)46 b(this)24 b(holds)h(the)e(IW)g(array)i(in)e
(the)h(bcs)g(commons.)327 2086 y(c)327 2199 y(#include)i('`bcs.inc\224)
327 2312 y(c)327 2425 y(c)d(Get)g(information)j(from)d(the)h(HBTR)d
(bank)327 2538 y(c)i(\(Hit)g(Based)h(T)m(racking)h(Results\))327
2651 y(c)e(The)g(third)i(item)e(is)g(the)h(track)h(momentum)327
2877 y(c)46 b(\002rst)23 b(get)h(the)g(pointer)h(to)e(the)h(location)
327 2990 y(c)46 b(of)23 b(the)h(HBTR)d(bank)486 3216
y(nami)j(=)f(namind\('HBTR'\))327 3441 y(c)g(no)n(w)g(get)h(the)g
(location)h(of)f(the)g(HBTR)d(bank)486 3667 y(ind)j(=)f(IW\(nami\))327
3893 y(c)g(no)n(w)g(get)h(the)g(momentum)g(\(ind+3\))h(remember)f(this)
327 4006 y(c)f(is)g(a)g(REAL)f(so)h(you)h(need)h(use)e(the)h(R)-5
b(W)22 b(array)327 4119 y(c)h(\(IW)g(for)h(inte)o(gers,)h(IW16)e(for)h
(short-inte)o(gers\))486 4345 y(if)f(\(ind)h(.ne.)29
b(0\))23 b(then)509 4458 y(do)g(iro)n(w)g(=)g(1,)g(IWR)l(O)m(W\(IND\))
554 4570 y(call)h(h\002ll\(30,)g(rw\(ind+3+\(iro)n
(w-1\)*IWCOL\(IND\)\),0.0,1.0\))509 4683 y(enddo)486
4796 y(endif)p 83 4964 1560 4 v 199 5026 a Fs(5)232 5056
y Fr(BOS)j(allo)n(ws)e(for)g(tw)o(o)h(arrays)e(to)i(be)f(initialized.)
40 b(The)25 b(IW)h(array)e(is)i(used)g(for)e(data)h(and)g(is)h
(\003ushed)f(e)n(v)o(ery)f(e)n(v)o(ent.)39 b(The)25 b(JW)83
5155 y(array)d(is)i(used)f(for)g(calibration)f(banks)g(and)h(w)o(ork)f
(space.)34 b(The)23 b(JW)i(array)d(is)i(not)f(\003ushed)f(so)i(it)g(is)
g(possible)f(to)g(k)o(eep)g(information)83 5255 y(across)d(e)n(v)o(ent)
g(boundaries.)1983 5504 y Fy(14)p eop
%%Page: 15 15
15 14 bop 83 75 a Fv(6.3.2)99 b(Calling)24 b(all)g(Indices!)31
b(A)25 b(new)h(utility)e(f)n(or)h(the)h(RECSIS)f(pr)n(ogrammer)-10
b(.)83 262 y Fy(The)32 b(pre)n(vious)f(e)o(xample)g(w)o(as)h(not)f(all)
h(that)f(dif)n(\002cult,)i(ho)n(we)n(v)o(er)e(k)o(eeping)g(track)h(of)g
(which)g(inde)o(x)f(in)h(which)83 383 y(bank)24 b(quickly)f(becomes)g
(a)i(headache.)31 b(A)24 b(utility)e(has)i(been)g(written)f(that)h
(will)f(mak)o(e)h(this)f(easier)-5 b(.)30 b(The)24 b(utility)83
503 y(consists)17 b(of)i(a)h Fu(perl)e Fy(script)g(that)h(reads)g(in)f
(clasbanks.ddl)g(and)g(creates)i(tw)o(o)e(include)h(\002les,)h
Fu(include/clas)p 3693 503 30 4 v 34 w(inde)n(x.inc)83
623 y Fy(and)h Fu(include/clas)p 737 623 V 35 w(of)n(fsets.inc.)28
b Fy(The)21 b(include)g(\002le)g Fu(clas)p 2026 623 V
36 w(of)n(fsets.inc)e Fy(contains)i(a)g(list)f(of)i(parameter)f
(statements)83 744 y(which)j(will)g(gi)n(v)o(e)g(you)g(the)h(v)n
(ariable)g(of)n(fset)f(within)g(the)g(bank.)31 b(The)25
b(parameters)g(are)h(name)e(with)g(the)h(follo)n(w-)83
864 y(ing)k(syntax,)h Fv(bankname)p 1009 864 V 37 w(v)o(ariablename)p
Fy(,)h(where)f Fv(v)o(ariablename)g Fy(is)f(tak)o(en)h(from)f(the)h
(ddl)f(\002le.)45 b(Belo)n(w)30 b(is)83 985 y(the)25
b(section)f(for)h(the)g Fv(CC)f Fy(bank:)327 1205 y Fl(C)90
b(Of)n(fsets)24 b(for)g(the)g(CC)e(bank)i(follo)n(w)554
1431 y(inte)o(ger)h(CC)p 955 1431 28 4 v 32 w(ID)250
b(!)46 b(the)23 b(address)j(of)d(the)47 b(hit)24 b(detector)h(element)
554 1544 y(parameter)g(\()e(CC)p 1120 1544 V 32 w(ID)g(=)g(1)g(\))554
1657 y(inte)o(ger)i(CC)p 955 1657 V 32 w(TDC)226 b(!)46
b(tdc)24 b(information)554 1770 y(parameter)h(\()e(CC)p
1120 1770 V 32 w(TDC)f(=)h(2)g(\))554 1883 y(inte)o(ger)i(CC)p
955 1883 V 32 w(ADC)226 b(!)46 b(adc)24 b(information)554
1996 y(parameter)h(\()e(CC)p 1120 1996 V 32 w(ADC)f(=)h(3)g(\))83
2224 y Fy(Note)k(that)h(e)n(v)o(en)f(the)g(comments)f(get)i(included)f
(in)g(the)h(\002le)g(so)f(that)g(this)g(\002le)h(readable.)40
b(No)n(w)27 b(instead)g(of)g(re-)83 2345 y(membering)d(if)h(the)h(TDC')
-5 b(s)25 b(come)g(second)g(or)g(third)g(in)g(the)g(CC)h(bank,)f(you)g
(can)h(inde)o(x)e(via)h(IW\(ind+cc)p 3773 2345 30 4 v
36 w(tdc\).)83 2465 y(Also)32 b(the)g(use)g(of)g(such)g(a)h(script)f
(and)g(include)g(\002les)g(mak)o(es)g(it)g(much)g(easier)g(to)g
Fv(insert)h Fy(ne)n(w)f(columns)f(into)83 2585 y(a)e(BOS)h(bank)e
(de\002nition.)42 b(If)29 b(the)f(of)n(fsets)g(are)i(used)e(throughout)
f(the)i(code,)h(the)e(changes)h(to)f(the)h(BOS)g(bank)83
2706 y(of)n(fsets)i(become)h(transparent.)52 b(That)32
b(is)f(if)h(for)h(some)e(reason)h(CC)p 2467 2706 V 37
w(TDC)g(became)h(3,)g(none)f(of)g(the)g(e)o(xisting)83
2826 y(code)g(w)o(ould)f(ha)n(v)o(e)g(to)h(be)g(changed,)h(as)f(long)f
(as)h Fu(clas)p 2031 2826 V 35 w(of)n(fsets.inc)e Fy(is)i(updated.)51
b(Unfortunately)30 b(all)i(the)f(e)o(x-)83 2946 y(isting)c(FOR)-6
b(TRAN)30 b(code)f(has)f(hardwired)h(v)n(ariable)f(of)n(fsets)g
(throughout,)g(making)f(future)i(changes)g(ne)o(xt)f(to)83
3067 y(impossible.)229 3187 y(W)l(ith)37 b(an)g(easy)g(w)o(ay)g(to)g
(get)g(the)g(v)n(ariable)f(of)n(fsets,)j(is)e(there)g(an)g(easy)g(w)o
(ay)h(to)e(get)h(the)g(bank)g(of)n(fsets?)83 3308 y(Unfortunately)31
b(the)i(bank)f(of)n(fsets)f(are)i(not)f(as)g(clear)h(cut)g(as)f(the)g
(v)n(ariable)g(of)n(fsets,)h(since)g(the)f(bank)g(of)n(fsets)83
3428 y(change)37 b(on)g(an)g(e)n(v)o(ent)f(by)h(e)n(v)o(ent)f(basis.)66
b(What)37 b(is)f(a)n(v)n(ailable)h(is)f(a)h(routine)g
Fu(r)l(ecutl/g)o(et)p 3233 3428 V 35 w(all)p 3374 3428
V 35 w(inde)n(x.F)g Fy(which)83 3548 y(when)h(called)g(will)g(\002ll)g
(the)g(common)f(block)g(contained)h(in,)j Fu(include/clas)p
2821 3548 V 34 w(inde)n(x.inc,)g Fy(with)c(all)h(the)g(bank)83
3669 y(indices)24 b(a)n(v)n(ailable.)30 b(Belo)n(w)25
b(is)f(a)h(section)f(of)h(code)g(that)g(demonstrates)e(ho)n(w)h(to)h
(use)f(these)h(features.)327 3890 y Fl(1.)51 b(#include)26
b(\224bcs.inc\224)327 4002 y(2.)51 b(#include)26 b(\224clas)p
967 4002 28 4 v 34 w(of)n(fsets.inc\224)327 4115 y(3.)51
b(#include)26 b(\224clas)p 967 4115 V 34 w(inde)o(x.inc\224)327
4228 y(4.)327 4341 y(5.)340 b(call)24 b(get)p 1004 4341
V 34 w(all)p 1128 4341 V 34 w(inde)o(x)327 4454 y(6.)327
4567 y(7.)340 b(write\(*,*\)\224e)n(v)o(ent)26 b(number=\224,iw\(head)p
2038 4567 V 37 w(ind+head)p 2411 4567 V 36 w(ne)n(v)o(ent\))327
4680 y(8.)327 4793 y(9.)340 b(do)24 b(201)g(while)g(\(cc)p
1348 4793 V 33 w(ind16)h(.ne.)k(0\))327 4906 y(10.)318
b(do)23 b(199)i(ic)e(=)g(1,)g(IWR)l(O)m(W\(cc)p 1721
4906 V 33 w(ind\))327 5019 y(11.)385 b(call)24 b(h\002ll\(99,)g
(iw16\(cc)p 1588 5019 V 35 w(ind16)h(+)e(cc)p 2007 5019
V 33 w(adc)h(+)f(\(ic-1\)*IWCOL\(cc)p 2917 5019 V 35
w(ind\)\),)327 5132 y(12.)204 b(1)614 b(iw16\(cc)p 1599
5132 V 35 w(ind16)25 b(+)e(cc)p 2018 5132 V 33 w(tdc)h(+)f
(\(ic-1\)*IWCOL\(cc)p 2913 5132 V 35 w(ind\)\),)327 5245
y(13.)204 b(2)592 b(1.0\))1983 5504 y Fy(15)p eop
%%Page: 16 16
16 15 bop 327 75 a Fl(14.)51 b(199)115 b(continue)327
188 y(15.)318 b(cc)p 843 188 28 4 v 33 w(ind)24 b(=)f(IWNXT\(cc)p
1503 188 V 33 w(ind\))327 301 y(16.)334 b(cc)p 859 301
V 34 w(ind16)24 b(=)f(2*cc)p 1366 301 V 35 w(ind)327
413 y(17.)51 b(201)93 b(continue)83 642 y Fy(In)20 b(lines)g(1)p
Fg(!)p Fy(3)g(we)h(include)e(the)i(appropriate)f(include)g(\002les.)29
b(On)20 b(line)g(5)g(get)p 2726 642 30 4 v 36 w(all)p
2862 642 V 36 w(inde)o(x)f(is)h(called)g(which)g(get)g(all)83
762 y(the)j(indices)f(for)h(all)g(the)g(a)n(v)n(ailable)f(banks.)29
b(On)23 b(line)f(7)h(the)g(e)n(v)o(ent)f(number)g(is)h(pulled)f(out)g
(of)h(the)g(HEAD)f(bank,)83 883 y(where)j(head)p 545
883 V 36 w(ind)g(is)f(the)h(inde)o(x)f(of)h(the)g(HEAD)g(bank)f(and)h
(head)p 2349 883 V 36 w(ne)n(v)o(ent)f(is)h(the)f(of)n(fset)h(for)g
(the)g(e)n(v)o(ent)f(number)83 1003 y(in)32 b(the)h(HEAD)f(bank.)54
b(Notice)33 b(this)e(w)o(as)i(all)f(done)h(on)f(one)h(line)f(of)h
(code.)54 b(In)33 b(lines)f(9)p Fg(!)p Fy(16)g(the)g(Cerenk)o(o)o(v)83
1123 y(TDC)h(and)f(ADC)h(v)n(alues)e(are)i(e)o(xtracted.)53
b(First)32 b(on)h(line)e(9)i(a)f(check)h(is)f(made)g(to)g(mak)o(e)g
(sure)h(the)f(CC)h(bank)83 1244 y(e)o(xists.)c(On)23
b(line)h(10)f(a)h(loop)f(is)g(performed)h(from)f(the)h(\002rst)g(ro)n
(w)f(to)g(the)h(last)f(ro)n(w)g(of)h(the)f(CC)i(bank)e(where)i(each)83
1364 y(ro)n(w)k(represents)h(a)g(hit)879 1328 y Ft(6)915
1364 y Fy(.)46 b(On)29 b(lines)g(11,12)g(and)g(13)h(h\002ll)f(is)g
(called)h(and)g(the)f(v)n(alues)g(for)h(the)f(TDC)h(and)g(ADC)83
1484 y(information)22 b(is)h(set)g(to)g(HBOOK.)g(After)h(a)g(loop)e(o)o
(v)o(er)h(all)g(the)g(hits)g(in)g(one)g(sector)g(\(bank\))h(a)g(check)f
(is)g(made)h(to)83 1605 y(see)j(if)f(there)g(is)g(another)g(CC)i(bank)e
(at)g(line)g(15)g(and)g(if)g(so)g(it)g(o)o(v)o(erwrites)f(the)h(inde)o
(x)f(for)i(the)f(ne)o(xt)f(CC)i(bank)g(in)83 1725 y(cc)p
177 1725 V 36 w(ind)335 1689 y Ft(7)372 1725 y Fy(.)j(Note)23
b(that)f(we)h(had)g(to)f(multiply)f(the)i(inde)o(x)f(by)g(2)h(since)f
(CC)i(is)f(a)g(16)f(bit)g(bank.)30 b(A)23 b(w)o(ord)g(of)g(w)o(arning,)
83 1846 y(this)j(e)o(xample)g(is)h(dangerous)g(since)g(it)f(o)o(v)o
(erwrites)g(the)h(v)n(alue)f(of)h(cc)p 2500 1846 V 37
w(ind.)37 b(In)27 b(order)g(to)g(get)g(the)g(inde)o(x)f(for)h(the)83
1966 y(CC)i(bank)f(after)g(this)f(piece)h(of)g(code,)h(the)f(user)g(w)o
(ould)f(need)h(to)g(call)g(get)p 2681 1966 V 35 w(all)p
2816 1966 V 36 w(inde)o(x)f(again.)39 b(Generally)28
b(code)83 2086 y(for)d(32)g(bit)f(banks)g(will)g(be)h(much)f(simpler)g
(and)h(easier)g(to)f(read)i(and)f(understand.)229 2207
y(The)g(routine)e Fu(g)o(et)p 842 2207 V 36 w(all)p 984
2207 V 35 w(inde)n(x.F)h Fy(\002rst)h(looks)e(in)h(the)g(IW)h(array)g
(for)f(the)h(bank)f(inde)o(x)f(and)h(then)g(searches)h(the)83
2327 y(JW)j(array)-6 b(.)41 b(If)29 b(you)f(don')n(t)f(kno)n(w)g(which)
h(array)h(contains)e(the)i(bank,)f(there)h(is)e(a)i(v)n(ariable,)f
(BankName)p 3748 2327 V 36 w(array)83 2447 y(\(ie.)h(cc)p
336 2447 V 36 w(array\),)22 b(that)d(is)g(set)g(to)g(1)g(if)h(the)f
(bank)g(w)o(as)h(found)f(in)g(the)g(IW)h(array)g(and)f(2)h(if)f(the)h
(bank)f(w)o(as)g(found)g(in)g(the)83 2568 y(JW)30 b(array)-6
b(.)46 b(Inde)o(xing)28 b(within)h(the)g(BOS)i(IW)f(or)g(JW)g(array)g
(with)f(this)g(system)f(is)i(con)l(v)o(enient)e(as)i(listing)e(the)83
2688 y(BankName+Column+Ro)n(w)35 b(where)i(BankName)f(=)g(BankName)p
2496 2688 V 37 w(ind,)i(Column)d(=)h(BankName)p 3621
2688 V 36 w(V)-11 b(ariable)83 2809 y(and)25 b(Ro)n(w)f(\(or)h(Hit\))g
(=)g(\(counter)n(-1\)*IWCOL\(BankName)p 2179 2809 V 37
w(ind\).)83 3148 y Fw(7)143 b(SCA)-14 b(T/Ev)o(entStor)m(e/ced/swish)31
b(Interface:)44 b(inter)o(pr)m(ocess)34 b(commu-)298
3331 y(nication)83 3554 y Fy(Using)39 b(RECSIS)i(on)f(a)g(single)e
(computer)h(to)h(create)g(a)g(HBOOK)g(histogram)e(\002le)i(is)f(the)h
(most)e(common)83 3675 y(usage,)32 b(ho)n(we)n(v)o(er)d(one)i(can)g(do)
f(much)h(more.)48 b(RECSIS)32 b(has)f(the)f(capability)g(of)h
(packaging)f(up)h(select)f(BOS)83 3795 y(banks)d(for)h(selected)g(e)n
(v)o(ents)e(and)i(shipping)e(them)h(to)g(an)h(e)n(v)o(ent)f(b)n(uf)n
(fer)-5 b(.)39 b(The)28 b(ced)g(program)f(can)h(then)g(access)83
3915 y(the)34 b(e)n(v)o(ent)f(b)n(uf)n(fer)h(and)g(display)f(online)g
(the)h(reconstructed)g(information.)57 b(RECSIS)36 b(can)f(also)f
(accept)g(Tcl)83 4036 y(commands)g(via)i(a)f(sock)o(et)g(instead)g(of)h
(from)f(the)g(terminal,)i(this)e(w)o(as)g(designed)g(to)g(allo)n(w)f(a)
i(`interacti)n(v)o(e')p 83 4126 1560 4 v 199 4187 a Fs(6)232
4217 y Fr(The)h(routine)g Fq(g)o(et)p 779 4217 25 4 v
29 w(all)p 896 4217 V 30 w(inde)n(x.F)f Fr(\002lls)j(tw)o(o)e(inte)o
(gers)g(with)g(the)g(bank)g(inde)o(x,)j(BankName)p 2982
4217 V 28 w(ind)d(is)i(the)e(inde)o(x)f(for)h(the)g(IW)83
4316 y(and)30 b(R)-5 b(W)31 b(arrays)f(and)f(BankName)p
1157 4316 V 29 w(ind16)f(is)j(to)g(be)f(used)f(with)i(the)f(IW16)f
(array)-5 b(.)54 b(Thereby)28 b(the)i(IW16)f(array)h(is)h(inde)o(x)o
(ed)d(via)83 4416 y(IW16\(cc)p 380 4416 V 28 w(ind16+cc)p
720 4416 V 28 w(adc\).)c(F)o(or)18 b(all)h(banks)f(the)g(IW)h(array)f
(is)i(used)e(to)h(determine)e(the)h(number)f(of)h(ro)n(ws,)h(columns,)e
(record)g(number)83 4516 y(and)j(ne)o(xt)f(inde)o(x)g(for)h(this)g
(bank.)199 4685 y Fs(7)232 4715 y Fr(In)32 b(the)g(\002le)g
Fq(include/bcs.inc)e Fr(are)h(equi)n(v)n(alences)f(between)h(the)h(IW)g
(array)f(and)g(se)n(v)o(eral)g(other)g(arrays.)59 b(These)32
b(arrays)f(are)83 4815 y(IWNXT)-6 b(,)19 b(IWNR,)g(IWN)m(AME,)g(IWR)m
(O)m(W)-8 b(,)20 b(IWCOL.)f(When)f(the)h(IWNXT)g(array)f(is)i(inde)o(x)
d(with)i(the)g(inde)o(x)f(of)g(a)i(bank)d(it)j(yields)f(the)83
4914 y(inde)o(x)f(of)h(the)g Fd(next)f Fr(bank.)24 b(The)18
b(IWNR)i(array)e(inde)o(x)o(ed)f(with)i(the)g(starting)g(inde)o(x)f
(yields)h(the)g(record\(sector\))d(number)h(of)i(the)g(bank.)83
5014 y(The)g(IWN)m(AME)f(bank)g(is)i(lost)f(on)g(me.)24
b(The)19 b(IWR)m(O)m(W)h(bank)e(when)g(inde)o(x)o(ed)f(with)i(the)f
(starting)h(inde)o(x)f(yields)g(the)h(number)e(of)i(ro)n(ws)83
5113 y(\(hits,)26 b(tracks...\))37 b(for)24 b(the)h(bank.)37
b(And)24 b(the)h(IWCOL)g(array)f(lik)o(e)n(wise)h(will)h(yield)e(the)h
(number)e(of)h(columns)g(for)g(the)g(bank.)38 b(These)83
5213 y(of)n(fsets)20 b(sa)n(v)o(e)g(some)g(calculation)f(time)i(since)f
(no)g(subtraction)f(of)h(indices)g(is)h(needed)e(to)h(obtain)f(this)i
(information.)1983 5504 y Fy(16)p eop
%%Page: 17 17
17 16 bop 83 126 a Fy(Figure)21 b(2:)29 b(Schematic)22
b(diagram)e(of)i(ho)n(w)e(RECSIS/ced/swish)i(talk)f(to)f(each)i(other)
-5 b(.)29 b(The)21 b(curv)o(ed)g(dotted)g(lines)83 246
y(represent)k(computer)f(nodes.)83 2578 y @beginspecial
0 @llx 0 @lly 301 @urx 280 @ury 3010 @rwi @setspecial
%%BeginDocument: /claspc1/home/freyberg/tex/recsis/scat_1.pstex
%Magnification: 0.50
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-5.0 283.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.03000 0.03000 sc
7.500 slw
% Polyline
n 6705 5100 m 6600 5100 6600 6195 105 arcto 4 {pop} repeat
  6600 6300 8895 6300 105 arcto 4 {pop} repeat
  9000 6300 9000 5205 105 arcto 4 {pop} repeat
  9000 5100 6705 5100 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
n 5805 5100 m 5700 5100 5700 6195 105 arcto 4 {pop} repeat
  5700 6300 6495 6300 105 arcto 4 {pop} repeat
  6600 6300 6600 5205 105 arcto 4 {pop} repeat
  6600 5100 5805 5100 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
n 5505 900 m 5400 900 5400 1995 105 arcto 4 {pop} repeat
  5400 2100 7695 2100 105 arcto 4 {pop} repeat
  7800 2100 7800 1005 105 arcto 4 {pop} repeat
  7800 900 5505 900 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
n 5505 2100 m 5400 2100 5400 2595 105 arcto 4 {pop} repeat
  5400 2700 7695 2700 105 arcto 4 {pop} repeat
  7800 2700 7800 2205 105 arcto 4 {pop} repeat
  7800 2100 5505 2100 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
gs  clippath
6030 4929 m 6000 5073 l 5970 4929 l 5970 5115 l 6030 5115 l  cp clip
5970 2871 m 6000 2727 l 6030 2871 l 6030 2685 l 5970 2685 l  cp clip
n 6000 2700 m 6000 5100 l gs col-1 s gr gr

% arrowhead
n 5970 2871 m 6000 2727 l 6030 2871 l 6000 2847 l 5970 2871 l  cp gs 0.00 setgray ef gr  col-1 s
% arrowhead
n 6030 4929 m 6000 5073 l 5970 4929 l 6000 4953 l 6030 4929 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 5805 7800 m 5700 7800 5700 8895 105 arcto 4 {pop} repeat
  5700 9000 7995 9000 105 arcto 4 {pop} repeat
  8100 9000 8100 7905 105 arcto 4 {pop} repeat
  8100 7800 5805 7800 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
n 5805 7200 m 5700 7200 5700 7695 105 arcto 4 {pop} repeat
  5700 7800 7995 7800 105 arcto 4 {pop} repeat
  8100 7800 8100 7305 105 arcto 4 {pop} repeat
  8100 7200 5805 7200 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
gs  clippath
6030 7029 m 6000 7173 l 5970 7029 l 5970 7215 l 6030 7215 l  cp clip
5970 6471 m 6000 6327 l 6030 6471 l 6030 6285 l 5970 6285 l  cp clip
n 6000 6300 m 6000 7200 l gs col-1 s gr gr

% arrowhead
n 5970 6471 m 6000 6327 l 6030 6471 l 6000 6447 l 5970 6471 l  cp gs 0.00 setgray ef gr  col-1 s
% arrowhead
n 6030 7029 m 6000 7173 l 5970 7029 l 6000 7053 l 6030 7029 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 1305 4800 m 1200 4800 1200 5895 105 arcto 4 {pop} repeat
  1200 6000 3495 6000 105 arcto 4 {pop} repeat
  3600 6000 3600 4905 105 arcto 4 {pop} repeat
  3600 4800 1305 4800 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
n 3705 4800 m 3600 4800 3600 5895 105 arcto 4 {pop} repeat
  3600 6000 4395 6000 105 arcto 4 {pop} repeat
  4500 6000 4500 4905 105 arcto 4 {pop} repeat
  4500 4800 3705 4800 105 arcto 4 {pop} repeat
 cp gs col-1 s gr 
% Polyline
gs  clippath
5529 5670 m 5673 5700 l 5529 5730 l 5715 5730 l 5715 5670 l  cp clip
4671 5730 m 4527 5700 l 4671 5670 l 4485 5670 l 4485 5730 l  cp clip
n 4500 5700 m 5700 5700 l gs col-1 s gr gr

% arrowhead
n 4671 5730 m 4527 5700 l 4671 5670 l 4647 5700 l 4671 5730 l  cp gs 0.00 setgray ef gr  col-1 s
% arrowhead
n 5529 5670 m 5673 5700 l 5529 5730 l 5553 5700 l 5529 5670 l  cp gs 0.00 setgray ef gr  col-1 s
1 slc
% Interp Spline
gs  [15 50.0] 50.0 sd
n 4725 3600 m
	4919.8 3258.6 6608.9 4408.4 7350 4275 curveto
	7924.6 4171.6 8777.3 3575.2 9075 3075 curveto
	9363.6 2590.0 9626.7 1637.0 9300 1050 curveto
	9020.3 547.4 8135.6 392.8 7725 300 curveto
	7124.7 164.4 5818.1 8.2 5175 300 curveto
	4973.9 391.2 4738.2 725.8 4650 900 curveto
	4420.5 1353.3 4067.8 2355.6 4200 2925 curveto
	4261.2 3188.6 4821.8 3655.5 4800 3675 curveto
	4797.6 3677.2 4717.4 3613.4 4725 3600 curveto
 cp  gs col-1 s gr
 gr
 [] 0 sd
% Interp Spline
gs  [15 50.0] 50.0 sd
n 3000 3825 m
	3460.0 3877.4 4512.1 3783.0 4950 4275 curveto
	5395.8 4775.9 5365.2 5757.6 5175 6300 curveto
	5095.8 6525.9 4768.5 6802.4 4575 6900 curveto
	3883.2 7249.0 2401.2 7622.2 1575 7350 curveto
	1083.9 7188.2 460.1 6568.9 300 6075 curveto
	131.4 5554.9 152.2 4646.2 600 4200 curveto
	1172.9 3629.2 2444.3 3868.2 3000 3825 curveto
	3000.0 3825.0 3000.0 3825.0 3000 3825 curveto
 cp  gs col-1 s gr
 gr
 [] 0 sd
% Interp Spline
gs  [15 50.0] 50.0 sd
n 10050 4725 m
	10051.7 4683.8 8662.0 4592.1 8250 4575 curveto
	7890.8 4560.1 7034.2 4589.9 6675 4575 curveto
	6469.0 4566.4 6028.8 4357.4 5775 4500 curveto
	5633.6 4579.5 5583.7 4836.0 5550 4950 curveto
	5459.1 5257.9 5254.6 5931.6 5400 6300 curveto
	5474.0 6487.6 5759.1 6684.5 5925 6750 curveto
	6339.3 6913.6 7256.5 6816.4 7650 6825 curveto
	8162.7 6836.1 9282.0 7400.4 9900 6825 curveto
	10478.2 6286.6 9471.8 5263.4 10050 4725 curveto
	10050.0 4725.0 10050.0 4725.0 10050 4725 curveto
 cp  gs col-1 s gr
 gr
 [] 0 sd
% Interp Spline
gs  [15 50.0] 50.0 sd
n 4950 7950 m
	5177.7 7821.1 5213.5 7341.3 5400 7200 curveto
	5582.3 7061.9 6027.8 7001.4 6225 6975 curveto
	6415.3 6949.5 6861.9 6967.8 7050 6975 curveto
	7273.0 6983.6 7792.3 6943.0 8025 7050 curveto
	8277.5 7166.1 8676.6 7516.6 8775 7800 curveto
	8894.1 8143.1 8900.8 8761.5 8625 9075 curveto
	8359.3 9377.1 7712.2 9345.5 7425 9375 curveto
	6989.4 9419.8 5995.2 9452.5 5550 9300 curveto
	5243.9 9195.1 4575.8 9040.1 4500 8550 curveto
	4455.9 8265.1 4758.2 8045.9 4950 7950 curveto
	4950.0 7950.0 4950.0 7950.0 4950 7950 curveto
 cp  gs col-1 s gr
 gr
 [] 0 sd
/Times-Roman ff 270.00 scf sf
1500 5400 m
gs 1 -1 sc (swish) col-1 sh gr
/Times-Roman ff 270.00 scf sf
5850 2550 m
gs 1 -1 sc (scat) col-1 sh gr
/Times-Roman ff 270.00 scf sf
5850 5775 m
gs 1 -1 sc (scat) col-1 sh gr
/Times-Roman ff 270.00 scf sf
6000 7575 m
gs 1 -1 sc (scat) col-1 sh gr
/Times-Roman ff 270.00 scf sf
3825 5700 m
gs 1 -1 sc (scat) col-1 sh gr
/Times-Roman ff 270.00 scf sf
5775 1575 m
gs 1 -1 sc (RECSIS) col-1 sh gr
/Times-Roman ff 270.00 scf sf
6750 5850 m
gs 1 -1 sc (EventStore) col-1 sh gr
/Times-Roman ff 270.00 scf sf
6000 8625 m
gs 1 -1 sc (ced) col-1 sh gr
$F2psEnd
rs
%%EndDocument
 @endspecial 266 x(batch)k(capability)-6 b(.)40 b(Thus)28
b(although)f(the)h(job)g(is)g(submitted)f(to)h(some)g(batch)g(queue,)h
(interacti)n(v)o(e)e(control)h(can)83 2964 y(be)f(easily)f(established)
g(and)h(if)g(the)g(job)f(goes)h(a)o(wry)f(it)h(can)g(be)g(terminated)f
(quickly)g(without)f(processing)h(the)83 3085 y(whole)19
b(\002le.)30 b(In)19 b(order)h(to)f(send)h(these)f(commands)g(to)g
(RECSIS)i(a)f(`scat')g(enabled)g(wish)e(shell)h(called)h
Fm(swish)f Fy(is)83 3205 y(part)h(of)f(the)h(standard)f(softw)o(are)h
(distrib)n(utions)d(and)i(b)n(uilds.)28 b(The)20 b(')-5
b(swish')18 b(shell)h(allo)n(ws)f(for)i(Tcl/TK)f(graphical)83
3325 y(user)k(interf)o(aces)g(to)f(be)h(separated)g(from)f(RECSIS.)j
(Thus)d(by)g(making)g(ced/RECSIS/swish)h(communicate)f(to)83
3446 y(each)k(other)g(instead)f(of)h(in)f(line)g(calls,)h(all)f(three)h
(programs)f(can)h(de)n(v)o(elop)f(in)g(parallel)h(without)e
(complicating)83 3566 y(each)33 b(other)-5 b(.)54 b(Figure)33
b Fv(??)f Fy(sho)n(ws)f(the)i(components)e(and)i(lines)f(of)g
(communication)f(for)i(the)f(programs)h(in)f(a)83 3686
y(single)23 b(user)-5 b(.)31 b(On)24 b(the)g(\002gure)h(the)f(dotted)f
(lines)h(signify)f(potential)g(node)h(boundaries,)g(that)g(is)f(all)i
(three)f(pieces)83 3807 y(of)38 b(code)g(can)g(be)g(running)f(on)g
(three)h(dif)n(ferent)g(nodes.)69 b(This)37 b(w)o(as)h(included)f(in)g
(the)h(design)f(so)g(that)h(an)o(y)83 3927 y(monitoring)23
b(of)i(batch)f(jobs)g(w)o(ould)g(not)h(cause)g(an)o(y)f(undue)g(b)n
(urden)h(on)f(the)h(f)o(arm)g(machines.)229 4048 y(The)40
b(communications)e(softw)o(are,)44 b(scat,)f(is)d(based)f(on)h(the)g
(RPC)h(package)f(and)g(has)g(been)g(ported)g(to)83 4168
y(SunOS,)e(AIX,)g(HP-UX)g(and)g(Linux.)69 b(It)38 b(w)o(as)g(written)f
(by)h(James)f(Muguira)g(and)h(documention)e(on)i(ho)n(w)83
4288 y(to)d(use)g(this)g(package)h(can)g(be)f(found)g(at)71
b([)p Fv(?)p Fy(].)63 b(James)35 b(also)g(wrote)h(the)f(Ev)o(entStore)g
(package)h(which)f(is)g(a)83 4409 y(circular)23 b(b)n(uf)n(fer)g(for)g
(e)n(v)o(ents)f(to)g(held)g(until)g(ced)h(requests)g(them.)29
b(I)23 b(hope)g(to)f(return)h(to)f(this)g(code)h(someday)f(and)83
4529 y(mak)o(e)30 b(the)g(GUI)g(completely)f(functional.)45
b(Belo)n(w)30 b(tw)o(o)f(typical)g(e)o(xamples)g(are)i(presented,)g
(the)f(single)f(user)83 4649 y(on)c(the)f(single)g(node)h(and)f(the)h
(f)o(armer)-5 b(.)1983 5504 y(17)p eop
%%Page: 18 18
18 17 bop 83 75 a Fo(7.1)119 b(Single)31 b(users)f(on)g(a)f(single)i
(node)83 291 y(7.2)119 b(The)30 b(F)m(armer)83 541 y
Fw(8)143 b(HBOOK/P)-11 b(A)-19 b(W)35 b(within)f(RECSIS)83
765 y Fy(The)23 b(CERNLIB)i(Hbook/P)o(a)o(w)c(package)j(pro)o(vide)e(a)
i(con)l(v)o(enient)e(w)o(ay)h(to)g(visualize)f(data)i(from)f(e)o
(xperiments.)83 885 y(This)29 b(package)h(uses)g(its)f(o)n(wn)g(memory)
g(manager)l(,)i(ZEBRA,)f(and)g(the)g(user)g(must)e(initialize)h(and)h
(terminate)83 1006 y(the)22 b(Hbook)g(properly)g(for)h(the)f(whole)g
(thing)f(to)h(w)o(ork.)30 b(The)22 b(user)h(has)f(complete)g(control)g
(of)g(the)g(initialization)83 1126 y(parameters)27 b(in)g(the)f(\002le)
i Fu(user/hbook)p 1405 1126 30 4 v 34 w(init.F)p Fy(.)e(The)h(e)o
(xample)f(gi)n(v)o(en)f(in)i(this)f(code)h(are)g(meant)g(as)g(a)g
(guide,)g(b)n(ut)83 1246 y(the)k(user)f(should)g(consult)f(the)i(HBOOK)
g(and)g(P)-9 b(A)g(W)31 b(manuals)e(to)i(learn)g(ho)n(w)e(to)i
(initialize)e(HBOOK/P)-9 b(A)g(W)g(.)83 1367 y(The)27
b(booking)f(of)i(histograms,)e(scatter)i(plots)e(and)h(ntuples)g
(should)f(be)h(in)g(the)h Fu(user/user)p 3263 1367 V
34 w(init.F)e Fy(subroutine,)83 1487 y Fu(user/hbook)p
533 1487 V 35 w(init.F)35 b Fy(function)h(is)g(to)g(only)g(initialize)f
(the)h(P)-9 b(A)g(WC)38 b(commons)d(and)h(output)g(\002le.)66
b(The)37 b(some)83 1607 y(v)n(ariables)27 b(in)h Fu(user/hbook)p
1024 1607 V 34 w(init.F)f Fy(are)h(link)o(ed)f(to)h(Tcl)f(v)n(ariables)
g(and)h(the)g(user)g(can)g(defeat)g(some)f(interacti)n(v)o(e)83
1728 y(features)e(by)g(altering)f(the)h(\002rst)g(10)f(lines)g(of)h
(code.)229 1848 y(The)36 b(incorporation)f(of)h(HBOOK/P)-9
b(A)g(W)36 b(into)f(RECSIS)j(is)d(solely)g(for)h(the)g(USER)g(con)l(v)o
(enience.)64 b(All)83 1969 y(reconstruction)24 b(packages)h(should)f
(be)g(v)n(oid)h(of)f(HBOOK)i(calls.)83 2264 y Fo(8.1)119
b(Fr)n(om)29 b(the)h(FOR)-5 b(TRAN)32 b(w)o(orld)83 2451
y Fy(Man)o(y)f(e)o(xamples)f(of)i(using)e(HBOOK/P)-9
b(A)g(W)32 b(within)e(FOR)-6 b(TRAN)33 b(e)o(xists)d(and)h(the)h(CERN)g
(documentation)83 2572 y(is)h(quite)g(thorough.)56 b(Using)32
b(HBOOK/P)-9 b(A)g(W)34 b(within)e(RECSIS)j(is)f(no)f(dif)n(ferent)g
(then)g(an)o(y)g(e)o(xample)g(gi)n(v)o(en)83 2692 y(within)38
b(the)h(HBOOK)h(manual.)74 b(The)39 b(\002rst)g(thing)g(to)g(do)g(is)g
(to)g Fv(book)h Fy(your)f(histograms)3348 2656 y Ft(8)3423
2692 y Fy(in)g(the)g(routine)83 2813 y Fu(user/user)p
461 2813 V 35 w(init.F)20 b Fy(and)i(then)g(place)g(the)g
Fv(\002ll)g Fy(calls)g(in)g(either)g Fu(user/user)p 2531
2813 V 34 w(e)o(vnt.F)-13 b(,)21 b Fy(or)h(subroutines)f(that)g(get)h
(called)83 2933 y(by)31 b Fu(user)p 392 2933 V 36 w(e)o(vnt.F)p
Fy(.)g(If)h(you)f(are)h(interested)g(in)f(\002lling)g(a)h(histogram)e
(at)i(e)n(v)o(ery)f(end)g(of)h(run)f(then)h(place)g(the)f(\002ll)83
3053 y(call)22 b(in)g Fu(user/user)p 727 3053 V 35 w(erun.F)p
Fy(.)g(Y)-11 b(our)22 b(histograms)f(will)g(be)i(placed)f(into)g(a)g
(\002le)h(named:)29 b(rennnn.rzn,)23 b(where)g(nnnn)83
3174 y(is)33 b(a)g(sequential)f(four)h(digit)f(number)h(synchronous)f
(with)g(the)h(log)g(\002le)g(name.)56 b(T)-8 b(o)33 b(vie)n(w)f(your)h
(histograms)83 3294 y(after)28 b(the)e(job)h(as)g(\002nished,)g(start)f
(the)h(P)-9 b(A)g(W)27 b(program)g(and)g(enter)g(the)g(follo)n(wing)e
(command:)34 b(histogram/\002le)83 3414 y(1)25 b(rennnn.rzn.)83
3681 y Fv(8.1.1)99 b(HBOOK/P)-7 b(A)-13 b(W)22 b(subdir)n(ectories)83
3868 y Fy(In)d(order)g(to)g(ensure)f(that)h(your)f(histogram)g(ID')-5
b(s)18 b(are)i(unique,)f(you)f(should)g(w)o(ork)h(within)e(your)i(o)n
(wn)f(HBOOK/P)-9 b(A)g(W)83 3989 y(subdirectory)j(.)49
b(The)32 b(routines)e Fu(user/user)p 1567 3989 V 35 w(init.F)g
Fy(and)h Fu(user/user)p 2399 3989 V 35 w(e)o(vnt.F)g
Fy(ha)n(v)o(e)g(e)o(xamples)f(on)h(ho)n(w)g(to)g(place)83
4109 y(histograms)24 b(in)h(a)h(subdirectory)f(named)g(MYDIR.)g(Y)-11
b(ou)26 b(of)f(course)h(can)g(change)g(the)f(name)h(to)f(an)o(ything)f
(you)83 4229 y(w)o(ant.)29 b(When)22 b(\002lling)e(histograms)g(you)h
(should)f(also)i(mak)o(e)f(sure)g(that)g(you)g(are)h(in)g(the)f
(correct)h(HBOOK/P)-9 b(A)g(W)83 4350 y(subdirectory)23
b(and)g(try)g(to)g(return)h(to)f(the)g(`top')g(directory)g(when)h(you)f
(e)o(xit)f(the)h(routine.)30 b(This)23 b(is)g(needed)g(since)83
4470 y(other)i(packages)g(may)f(lea)n(v)o(e)h(the)f(HBOOK/P)-9
b(A)g(W)25 b(in)g(a)g(subdirectory)f(other)h(then)f(the)h(')n(top')f
(directory)-6 b(.)p 83 4560 1560 4 v 199 4621 a Fs(8)232
4651 y Fr(The)21 b(term)f(histogram)g(will)h(be)g(used)f(to)h(refer)f
(to)h(standard)f(histograms)f(as)j(well)f(as)h(scatter)e(plots,)h
(column)f(wise)h(nutples)f(and)83 4751 y(ro)n(w)g(wise)h(ntuples.)1983
5504 y Fy(18)p eop
%%Page: 19 19
19 18 bop 83 75 a Fo(8.2)119 b(Fr)n(om)29 b(the)h(RECSIS)h(pr)n(ompt)83
262 y Fy(A)e(simple)e(interacti)n(v)o(e)h(interf)o(ace)h(to)f(HBOOK)h
(is)f(incorporated)h(into)e(RECSIS.)k(An)o(y)d(v)n(ariable)g(that)g(is)
g(held)83 383 y(in)35 b(a)g(BOS)h(bank)f(and)f(properly)h(described)g
(in)g(a)g(ddl)f(\002le)i(can)f(be)g(accessed)h(interacti)n(v)o(ely)-6
b(.)59 b(The)35 b(purpose)83 503 y(of)29 b(this)f(feature)h(is)g(to)f
(allo)n(w)g(quick)g(deb)n(ugging)g(and)h(vie)n(wing)e(of)i(the)g(BOS)g
(bank)g(contents.)42 b(By)29 b(using)f(this)83 623 y(interf)o(ace)22
b(de)n(v)o(elopers)f(do)g(not)g(ha)n(v)o(e)g(to)h(pepper)f(their)h
(code)g(with)f(hbook/h\002ll)f(calls)h(during)g(the)g(de)n(v)o
(elopment)83 744 y(c)o(ycle)32 b(and)f(then)h(spend)f(time)g(remo)o
(ving)f(the)i(calls)g(once)f(the)o(y')-5 b(v)o(e)31 b(established)g
(that)g(the)h(code)g(is)f(w)o(orking.)83 864 y(The)e(interf)o(ace)g
(allo)n(ws)e(the)i(user)f(to)h(interacti)n(v)o(ely)d(book)i(and)h
(\002ll)g(histograms,)e(scatter)i(plots)f(and)g(ro)n(w)g(wise)83
985 y(ntuples)c(interacti)n(v)o(ely)-6 b(.)28 b(Belo)n(w)d(is)f(a)h
(simple)f(e)o(xample)g(found)g(in)g Fu(tcl/ne)o(winit.tcl)p
Fy(.)327 1180 y(1.)31 b(book)24 b(200)g(\224sc)h(5)g(ADCL\224)g(100)g
(0.)30 b(5000.)327 1300 y(2.)h(\002ll)24 b(200)49 b(SC.5.ADCL)327
1420 y(3.)327 1541 y(4.)31 b(book)24 b(201)g(\224sc)h(5)g(TDCL)g(vs)f
(TDCR\224)i(100)f(0.)30 b(5000.)g(100)25 b(0.)30 b(5000.)327
1661 y(5.)h(\002ll)24 b(201)49 b(SC.5.TDCL)26 b(SC.5.TDCR)327
1782 y(6.)327 1902 y(7.)31 b(bookn)23 b(202)i(\224SC)h(bank\224)f(ID)g
(TDCL)g(TDCR)g(ADCL)g(ADCR)327 2022 y(8.)31 b(\002lln)24
b(202)g(SC.5.ID)i(SC.5.TDCL)f(SC.5.TDCR)h(SC.5.ADCL)g(SC.5.ADCR)83
2217 y(The)19 b(commands,)g Fm(book,)59 b(fill,)g(bookn)18
b Fy(and)h Fm(filln)p Fy(,)g(are)h(Tcl)g(procedures)f(that)g(are)h
(used)f(to)g(interf)o(ace)83 2338 y(the)29 b(FOR)-6 b(TRAN,)30
b(hbook1,)g(hbook2,)f(hbookn,)g(h\002ll)g(and)g(hfn,)i(subroutines.)42
b(An)o(y)29 b(histogram)e(book)o(ed)i(and)83 2458 y(\002lled)22
b(interacti)n(v)o(e)f(gets)g(place)i(on)f(a)g(stack)g(and)g(\002lled)g
(at)g(the)g(end)g(of)g(the)g(e)n(v)o(ent)f(loop)h(\(after)h(user)p
3469 2458 30 4 v 35 w(e)n(vnt.F\).)f(The)83 2578 y(Tcl)29
b(procedure)g Fm(book)g Fy(is)f(used)h(to)g(book)f(one-dimensional)f
(and)i(tw)o(o-dimensional)e(histograms)g(as)i(sho)n(wn)83
2699 y(in)22 b(lines)g(1)h(and)g(4.)29 b(The)23 b(Tcl)g(procedure)g
Fm(fill)f Fy(is)g(used)g(to)h(tell)f(the)g(FOR)-6 b(TRAN)24
b(w)o(orld)e(ho)n(w)g(to)g(\002ll)h(these)g(his-)83 2819
y(tograms)h(as)i(sho)n(wn)e(in)h(lines)f(2)i(and)f(5.)32
b(The)25 b(format)g(is)g(as)h(follo)n(ws:)k(BankName.RecordNumber)-5
b(.V)-11 b(ariable;)83 2940 y(where)34 b(BankName)g(is)f(the)g(BOS)h
(bank)f(name,)j(RecordNumber)e(is)f(the)g(record)h(or)f(sector)h
(number)f(of)g(the)83 3060 y(bank)c(and)f(V)-11 b(ariable)29
b(is)g(the)f(v)n(ariable)h(name)f(as)h(listed)f(in)g(the)h(ddl)f
(\002le.)43 b(In)29 b(the)g(abo)o(v)o(e)f(e)o(xample)g(the)g(SC)i(ra)o
(w)83 3180 y(data)25 b(bank)f(for)h(sector)g(5)f(is)h(being)f
(histogrammed.)k(Lines)d(7)f(and)h(8)f(sho)n(w)g(ho)n(w)g(to)g(book)g
(and)h(\002ll)f(a)h(ro)n(w)f(wise)83 3301 y(ntuple.)229
3421 y(It)k(is)f(possible)f(to)g(select)i(HBOOK/P)-9
b(A)g(W)27 b(subdirectories)g(by)g(the)g(Tcl)g(procedure)h
Fm(cdir)e Fy(or)i(by)f(placing)83 3541 y(the)36 b(directory)g(name)h
(at)f(the)g(end)h(of)f Fm(book\(n\))f Fy(procedure.)66
b(Another)36 b(Tcl)g(procedure)h(a)n(v)n(ailable)e(is)h(the)83
3662 y Fm(dump)59 b([ID])27 b Fy(procedure)h(which)g(will)f(perform)g
(a)i Fu(hprint)d Fy(to)i(your)f(screen)i(of)e(the)h(ID)g(histogram.)39
b(If)28 b(ID=0)83 3782 y(all)e(histograms)f(will)g(be)h(dumped)g(to)f
(your)h(screen.)36 b(Although)25 b(this)g(is)h(an)g(ugly)f(format)h(is)
g(pro)o(vides)f(a)i(quick)83 3903 y(w)o(ay)e(of)h(seeing)f(if)g(your)g
(histograms)f(are)i(being)f(\002lled)g(correctly)-6 b(.)32
b(Note)25 b(that)g(this)f(w)o(orks)h(for)h(all)f(histograms)83
4023 y(re)o(gardless)f(of)h(whether)g(the)o(y)e(were)j(book)o(ed)e(and)
h(\002lled)g(within)e(the)i(compiled)f(code)h(or)f(at)h(runtime.)83
4314 y Fo(8.3)119 b(P)-9 b(A)-16 b(W)30 b(commons)f(and)i(using)f(shar)
n(ed)g(memory)83 4501 y Fy(The)c(size)g(of)g(the)f(P)-9
b(A)g(W)27 b(common)d(space)i(is)g(user)g(de\002neable)g(and)g(must)f
(be)h(lar)n(ge)g(enough)f(to)h(hold)f(the)g(users)83
4622 y(de\002ned)33 b(histograms.)52 b(This)32 b(common)f(is)h
(de\002ned)h(in)f(the)h Fu(user/hbook)p 2656 4622 V 34
w(init.F)f Fy(routine)g(and)g(typical)g(v)n(alues)83
4742 y(for)g(HBOOK)p 591 4742 V 36 w(MAX)g(are)g(in)g(the)f
Ff(10)1400 4706 y Fc(6)1439 4742 y Fy(range.)53 b(The)32
b(user)g(may)f(ha)n(v)o(e)h(to)f(set)h(this)f(e)n(v)o(en)g(higher)g(if)
h(the)o(y)f(mak)o(e)83 4862 y(e)o(xtensi)n(v)o(e)23 b(use)j(of)f
(ntuples.)31 b(HBOOK/P)-9 b(A)g(W)26 b(also)f(allo)n(w)f(for)i(this)e
(common)h(space)g(to)g(be)h(part)f(of)h(the)f(shared)83
4983 y(memory)416 4947 y Ft(9)452 4983 y Fy(.)56 b(T)-8
b(o)33 b(mak)o(e)g(use)g(of)g(the)g(shared)g(memory)f(option,)i
(include)e(the)h(line)g Fm(global)p 3357 4983 V 34 w(section)58
b(on)p 83 5064 1560 4 v 199 5125 a Fs(9)232 5155 y Fr(Presently)26
b(shared)f(memory)f(w)o(orks)i(on)f(AIX,)h(SunOS,)g(OSF)g(and)g(Linux)e
(platforms,)i(HP-UX)g(users)g(cannot)f(mak)o(e)h(use)g(of)83
5255 y(this)21 b(feature.)j(Also)c(shared)g(memory)e(apparently)g(does)
i(not)g(w)o(ork)g(with)g(column)f(wise)i(ntuples.)1983
5504 y Fy(19)p eop
%%Page: 20 20
20 19 bop 83 75 a Fy(in)34 b(your)f(initialization)f(script.)57
b(W)l(ith)34 b(that)f(done,)j(entering)e Fm(paw)f Fy(at)h(the)g(RECSIS)
h(prompt)e(will)g(launch)h(a)83 195 y(P)-9 b(A)g(W)28
b(session)e(that)h(will)g(automatically)f(attach)i(to)f(the)g(correct)h
(shared)g(memory)f(section.)38 b(This)27 b(will)f(allo)n(w)83
315 y(interacti)n(v)o(e)d(vie)n(wing)h(of)h(the)f(histograms)g(as)g
(the)h(job)f(progresses.)83 655 y Fw(9)143 b(Simple)35
b(example)e(of)j(getting)e(starting)83 879 y Fy(Se)n(v)o(eral)28
b(e)o(xamples)e(e)o(xist)h(on)g(ho)n(w)g(to)g(get)h(started)f(using)g
(RECSIS)i([)p Fv(?)p Fy(],)g(the)e(follo)n(wing)f(section)h(is)g
(included)83 999 y(for)h(completeness.)39 b(It)28 b(is)g(assumed)f
(that)h(you)f(w)o(ant)h(to)g(do)f(some)h(analysis)f(and)h(will)f(w)o
(ork)h(within)f(the)g Fv(user)83 1119 y Fy(subroutines,)37
b(if)e(you)g(w)o(ant)h(to)f(w)o(ork)h(on)f(an)h(e)o(xisting)d
(reconstruction)i(package)h(you)f(should)g(contact)g(the)83
1240 y(main)26 b(de)n(v)o(eloper)f(of)i(that)f(package)h(to)f
(understand)g(the)g(details.)35 b(What)27 b(is)f(not)g(gi)n(v)o(en)f
(in)h(an)o(y)g(e)o(xample)g(is)g(le)o(g)83 1360 y(w)o(ork)k(needed)h
(to)e(understand)h(ho)n(w)f(the)i(CLAS)g(data)f(is)g(laid)f(out)h
(within)f(the)h(BOS)h(common)e(space.)48 b(This)83 1480
y(is)31 b(\23090\045)g(of)g(the)g(w)o(ork)g(and)g(you)f(should)g(look)h
(at)g(the)g(ddl)f(\002les)h(in)g(the)g Fu(bankdefs)f
Fy(directory)h(for)h(reference.)83 1601 y(The)c(majority)f(of)h(the)g
(remain)f(10\045)h(is)g(learning)f(which)h(tcl)f(v)n(ariables)h(are)g
(needed)g(to)g(get)g(the)g(right)f(results)83 1721 y(out)32
b(of)g(the)h(reconstruction)e(code.)54 b(The)32 b(\002le)h
Fu(tcl/ne)o(winit.tcl)d Fy(should)h(contain)h(reasonable)h(def)o(aults)
f(for)g(all)83 1842 y(the)i(packages.)61 b(T)-8 b(o)34
b(understand)g(what)g(v)n(ariables)g(are)h(a)n(v)n(ailable)f(and)h
(what)f(the)o(y)g(do)g(consult)f(the)i(include)83 1962
y(\002les)22 b(where)h(the)o(y)e(are)i(de\002ned.)30
b(These)22 b(include)g(\002les)g(are)h(usually)e(named,)h
Fu(pac)n(ka)o(g)o(e)p 3086 1962 30 4 v 36 w(contr)l(ol.inc)e
Fy(or)i(perhaps)83 2082 y Fu(*tcl*.inc)j Fy(and)i(are)g(either)f(found)
g(in)g(the)g Fu(include)g Fy(area)i(of)e(in)g(the)g(indi)n(vidual)e
(package)j(direcories.)36 b(OK)26 b(let')-5 b(s)83 2203
y(start)31 b(w)o(alking,)g(the)g(commands)f(follo)n(wing)f(the)h(#)h
(sign)f(are)i(unix)e(commands,)h(those)g(follo)n(wing)e(RS)p
Fb(>)i Fy(are)83 2323 y(RECSIS)c(commands:)203 2551 y(1.)49
b(#source)25 b(/apps/u1/b)n(uilds/DEVELOPMENT/packages/cms/jl)o(ab)l
(.cshrc)3027 2515 y Ft(10)203 2755 y Fy(2.)49 b(#mkdir)24
b(TEST)203 2958 y(3.)49 b(#seten)l(v)24 b(T)n(OP)p 844
2958 V 36 w(DIR)i($\(PWD\)/TEST)203 3162 y(4.)49 b(#cd)25
b(TEST)203 3365 y(5.)49 b(#mkdir)24 b(myuser)203 3568
y(6.)49 b(#cd)25 b(myuser)203 3772 y(7.)49 b(#cp)25 b($CLAS)p
806 3772 V 36 w(P)-9 b(A)l(CK/user/*)25 b(.)203 3975
y(8.)49 b(#mak)o(e)203 4179 y(9.)g(#$T)n(OP)p 619 4179
V 36 w(DIR/bin/$OS)p 1187 4179 V 35 w(N)m(AME/myuser)23
b(-t)i($CLAS)p 2248 4179 V 36 w(P)-9 b(A)l(CK/tcl/recsis)p
2919 4179 V 35 w(proc)154 4382 y(10.)48 b(RS)p Fb(>)26
b Fy(input\002le)e(some\002le.A00)154 4585 y(11.)48 b(RS)p
Fb(>)26 b Fy(turnon)e(ALL)154 4789 y(12.)48 b(RS)p Fb(>)26
b Fy(go)154 4992 y(13.)48 b(RS)p Fb(>)26 b Fy(status)p
83 5063 1560 4 v 170 5124 a Fs(10)232 5154 y Fr(F)o(or)20
b(of)n(fsite)g(users)g(consult)g(the)g(local)g(librarian)f(for)h(the)g
(location)f(and)h(name)g(of)g(the)g(script)g(that)g(sets)i(up)d(your)g
(en)m(viroment.)1983 5504 y Fy(20)p eop
%%Page: 21 21
21 20 bop 154 75 a Fy(14.)48 b(RS)p Fb(>)26 b Fy(e)o(xit)154
278 y(15.)48 b(#)83 506 y(In)33 b(line)f(1)h(en)l(viroment)f(v)n
(ariables)g(are)h(de\002ned)g(to)g(point)e(to)i(the)f(CLAS)i(softw)o
(are)f(tree)g(and)g(pre-compiled)83 627 y(libraries.)41
b(Lines)28 b(2)g(through)g(6)g(set)h(up)f(a)h(suggested)e(directory)h
(structure)g(and)h(in)f(line)g(3)g(the)g(T)n(OP)p 3625
627 30 4 v 37 w(DIR)h(en-)83 747 y(viroment)e(v)n(ariable)g(is)g
(de\002ned,)i(this)e(is)h(where)g(the)f(compiled)g(libraries)h(and)f(e)
o(x)o(ecutables)g(go.)40 b(The)27 b(def)o(ault)83 868
y(user)j(subrouines)e(are)i(copied)1157 831 y Ft(11)1257
868 y Fy(into)e(the)i Fu(myuser)f Fy(subdirectory)g(in)g(Line)g(7)g
(and)h(are)g(compiled)f(and)g(link)o(ed)83 988 y(in)37
b(line)g(8.)68 b(During)37 b(the)g(b)n(uild)g(process)g(te)o(xt)f(spe)n
(ws)h(on)g(your)g(screen,)k(ignore)c(e)n(v)o(erything)f(e)o(xcept)h
(those)83 1108 y(that)e(be)o(gin)g(with)g Fm(Error)f
Fy(which)h(hopefully)g(do)g(not)g(appear)-5 b(.)63 b(The)36
b(b)n(uild)e(process)i(will)f(mak)o(e)g(a)h(library)-6
b(,)83 1229 y Fe($)p Fu(T)n(OP)p 325 1229 V 36 w(DIR/lib/)p
Fe($)p Fu(OS)p 861 1229 V 34 w(N)m(AME/libmyuser)-11
b(.a)p Fy(,)19 b(and)g(an)g(e)o(x)o(ecutable,)g Fe($)p
Fu(T)n(OP)p 2673 1229 V 36 w(DIR/bin/)p Fe($)p Fu(OS)p
3231 1229 V 34 w(N)m(AME/myuser)p Fy(.)29 b(The)83 1349
y(name)22 b(for)h(the)f(library)g(and)g(e)o(x)o(ecutable)f(is)h(deri)n
(v)o(ed)f(from)h(the)g(directory)g(in)g(which)g Fv(mak)o(e)h
Fy(is)e(in)l(v)n(ok)o(ed.)29 b(In)23 b(line)83 1469 y(9)d(the)g(ne)n(w)
f(e)o(x)o(ecutable)h(is)f(launched)h(loading)f(in)h(the)g(def)o(ault)f
(Tcl)h(procedures)g(de\002ned)h(in)f Fu(tcl/r)l(ecsis)p
3627 1469 V 34 w(pr)l(oc.tcl)p Fy(.)83 1590 y(At)h(this)g(point)f
(RECSIS)k(tak)o(es)d(o)o(v)o(er)f(and)i(diagnostic)e(messages)h(appear)
h(on)f(the)h(screen.)30 b(These)21 b(are)h(informa-)83
1710 y(tional)k(in)g(nature,)h(w)o(arnings)f(and)g(errorrs)h(are)h
(\003aged)f(by)f(a)h(W)l(:,)g(E:)f(or)h(F:)f(in)h(the)f(te)o(xt)g
(\002eld.)36 b(When)26 b(RECSIS)83 1831 y(is)k(through)f
(initialization)f(it)i(will)f(pause)i(and)f(present)g(the)g(RS)p
Fb(>)h Fy(prompt.)46 b(No)n(w)30 b(its)f(time)h(to)g(interact)g(with)83
1951 y(RECSIS,)25 b(at)e(line)g(10)g(the)h(input)e(\002le)h(is)g
(de\002ned.)31 b(Then)23 b(in)g(line)g(11)g(all)g(the)g(a)n(v)n
(ailable)g(packages)g(are)h(acti)n(v)n(ated)83 2071 y(and)e(in)g(line)f
(12)h(RECSIS)i(is)d(told)g(to)h(process)g(to)f(the)h(end)g(of)g
(\002le.)30 b(After)23 b(the)f Fm(go)f Fy(command)g(is)h(gi)n(v)o(en)e
(RECSIS)83 2192 y(will)29 b(read)i(in)f(calibration)f(\002les)h(for)h
(the)f(data)g(which)g(will)f(tak)o(e)h(some)g(time)f(and)h(then)g
(start)g(processing)f(the)83 2312 y(data.)35 b(At)26
b(an)o(y)g(time)f(after)i(line)f(12)g(Tcl)g(commands)f(line)g
Fm(status)g Fy(can)i(be)f(entered)h(and)f(RECSIS)i(will)d(gi)n(v)o(e)83
2433 y(the)g(present)h(status)e(of)h(the)h(program.)32
b(When)25 b(the)h(programs)e(reaches)j(the)e(end)g(of)h(\002le)g(or)f
(the)g(user)h(wishes)f(to)83 2553 y(terminate)d(the)h(program)g
Fm(exit)f Fy(is)h(entered)g(and)g(RECSIS)i(terminates)d(returning)h
(you)f(to)h(the)g(w)o(armth)f(of)h(the)83 2673 y(unix)h(prompt.)229
2794 y(The)f(pre)n(vious)e(e)o(xample)h(basically)g(made)g(sure)h(all)f
(the)h(gears)g(were)g(in)f(place.)30 b(No)n(w)22 b(that)g(you)g(kno)n
(w)g(ho)n(w)83 2914 y(to)h(b)n(uild)e(and)i(run)g(RECSIS)i(it)d(is)h
(up)f(to)h(you)f(to)h(costumize)f(your)h(user)g(routines)f(to)g(suit)g
(your)h(needs.)30 b(The)23 b(\002le)83 3034 y Fu(user/user)p
461 3034 V 35 w(e)o(vnt.F)h Fy(has)h(an)g(e)o(xample)e(of)i(of)g(ho)n
(w)f(to)h(access)g(the)g(BOS)g(banks)g(as)g(well)f(as)h(Section)g
Fv(??)o Fy(.)83 3330 y Fo(9.1)119 b(Initialization)31
b(Tcl)e(script:)38 b(newinit.tcl)83 3517 y Fy(W)l(ithin)g(the)g
Fu(myuser)h Fy(directory)f(is)h(a)g(\002le)g(called)g
Fu(ne)o(winit.tcl,)i Fy(which)d(contains)g(a)h(typical)f(e)o(xample)g
(of)h(a)83 3638 y(users)25 b(initialization)d(Tcl)j(script.)30
b(The)25 b(\002rst)f(fe)n(w)h(lines)f(of)h(this)f(script)g(load)g(in)g
(the)h(def)o(ault)f Fu(tcl/r)l(ecsis)p 3651 3638 V 35
w(pr)l(oc.tcl)83 3758 y Fy(unless)h(the)h(user)g(as)f(a)i(local)e(cop)o
(y)h(of)g(these)f(procedures.)34 b(Then)26 b(the)g(input)e(\002le)j(is)
e(de\002ned)h(as)g(well)g(as)g(which)83 3878 y(packages)c(to)g(run.)30
b(W)l(ithin)21 b Fu(ne)o(winit.tcl)f Fy(the)i(command)f
Fm(global)p 2416 3878 V 35 w(section)58 b(on)22 b Fy(or)g
Fm(global)p 3536 3878 V 35 w(section)83 3999 y(off)k
Fy(should)g(be)h(present)g(since)g(it)f(is)h(only)f(during)g
(initializaition)e(that)j(the)g(shared)g(option)e(memory)h(option)83
4119 y(can)35 b(be)f(acti)n(v)n(ated.)57 b(The)34 b(scat)h
(communications)c(package)k(is)f(also)f(acti)n(v)n(ated)g(via)h(Tcl)g
(commands)f(in)h(this)83 4240 y(script,)e(the)f(propmt)f(is)h(also)g
(rede\002ned)h(to)f(be)g(the)g Fm(username)p 2399 4240
V 34 w(recsis>)p Fy(.)48 b(Some)31 b(e)o(xample)g(histograms)83
4360 y(are)h(also)f(de\002ned)h(at)f(the)g(end)g(of)g(the)h(script)e
(and)h(can)h(safely)f(be)h(deleted.)50 b(Cop)o(y)31 b
Fu(ne)o(winit.tcl)f Fy(to)g Fu(myinit.tcl)83 4480 y Fy(and)22
b(edit)f Fu(myinit.tcl)g Fy(by)g(placing)h(within)e(the)i(Tcl)g
(commands)e(normally)h(entered)h(during)f(initialization,)f(then)83
4601 y(simply)j(launch)i(myuser)f(via:)30 b Fm(myuser)59
b(-t)g(myinit)p Fy(.)p 83 4690 1560 4 v 170 4752 a Fs(11)232
4782 y Fr(F)o(or)22 b(the)h(user)f(code)f(is)j(is)f(recommended)c(that)
j(the)h(code)e(is)j Fd(copied)e Fr(from)f(the)i(most)f(recent)g(b)n
(uild)f(rather)h(then)g Fd(check)o(ed)h(out)83 4881 y
Fr(of)d(the)g(CVS)h(repository)-5 b(.)23 b(This)d(w)o(ay)h(user)f
(cannot)f(inadv)o(ertly)f(checkin)h(their)h(user)g(code.)1983
5504 y Fy(21)p eop
%%Page: 22 22
22 21 bop 83 75 a Fw(10)143 b(Details)50 b(of)h(Ev)o(ent)f
(Reconstruction:)72 b(The)50 b(Ph)n(ysicist')-5 b(s)49
b(P)m(erspec-)370 257 y(ti)o(v)o(e)83 543 y(11)143 b(Useful)34
b(T)-11 b(ricks)83 796 y Fo(11.1)119 b(Rede\002ning)32
b(histograms)c(on)j(the)f(\003y)83 983 y Fy(The)39 b(interacti)n(v)o(e)
e(HBOOK)i(interf)o(ace)g(can)g(be)g(used)g(to)f(rede\002ne)i(histogram)
d(limits)g(for)i Fv(all)f Fy(histograms,)83 1104 y(not)31
b(just)g(those)g(book)o(ed)h(interacti)n(v)o(ely)-6 b(.)49
b(Suppose)32 b(the)g(plot)f(of)g(the)h Fb(W)46 b Fy(distrib)n(ution)29
b(w)o(as)j(not)f(book)o(ed)h(cor)n(-)83 1224 y(rectly)k(and)g(needs)g
(ne)n(w)f(binning.)63 b(At)35 b(the)h(prompt)f(or)h(through)f(the)h
(sock)o(et)f(enter)l(,)k Fm(book)59 b(W)p 3535 1224 30
4 v 36 w(ID)g(`')g(W)83 1344 y(distribution)e(booked)i(on)g(the)g
(fly'')g(1000)g(-0.5)f(2.4)p Fy(.)33 b(This)25 b(will)g(cause)h(the)f
(e)o(xisting)83 1465 y(W)p 183 1465 V 36 w(ID)g(histogram)e(to)i(be)g
(reset)g(and)f(rede\002ned.)83 1760 y Fo(11.2)119 b(Syncr)n(onizing)31
b(the)g(Tcl)f(interface)83 1977 y(11.3)119 b(De\002ning)31
b(multiple)g(input)h(\002les)83 2227 y Fw(A)143 b(RECUTL)34
b(FOR)-6 b(TRAN)33 b(utilities)83 2450 y Fy(The)21 b(source)g
(contained)f(in)g(the)h(recutl)f(directory)h(consists)e(mostly)g(of)i
(user)g(callable)f(utilities.)28 b(This)20 b(appendix)83
2570 y(lists)26 b(each)i(routine,)f(calling)g(ar)n(guments,)g(return)h
(ar)n(guments)f(and)g(function.)38 b(The)27 b(descriptions)f(listed)g
(were)83 2691 y(lifted)20 b(straight)f(from)h(the)g(Purpose)g(section)f
(of)i(the)f(subroutine)f(header)l(,)i(which)f(is)g(why)f(common)g
(headers)h(are)83 2811 y(so)27 b(useful.)37 b(An)o(y)27
b(corrections)g(to)g(these)g(descriptions)f(should)g(go)h(in)f(the)h
(code)h(\002rst)f(then)g(in)g(this)f(document.)83 2932
y(F)o(or)f(more)f(details)g(on)h(a)g(speci\002c)g(routine)g(please)f
(tak)o(e)h(time)f(to)h(look)f(at)h(the)f(code.)203 3160
y(1.)49 b(BM)p 488 3160 V 36 w(GET)p 718 3160 V 35 w(TRIG\()26
b(Q)p 1116 3160 V 36 w(T)n(O)l(T)p 1340 3160 V 35 w(OUT)-7
b(,)25 b(CURRENT)p 2087 3160 V 36 w(OUT)-7 b(,)382 3388
y(\(a\))50 b(Return)25 b(beam)f(pars)50 b(for)25 b(iBk)g(special)g(e)n
(v)o(ent)e(before)j(current)f(special)f(e)n(v)o(ent)203
3617 y(2.)49 b(BM)p 488 3617 V 36 w(LUMIN\(Tg)p 995 3617
V 35 w(mol)p 1186 3617 V 35 w(Mass,)24 b(Tg)p 1592 3617
V 36 w(Thick,)g(Tg)p 2021 3617 V 35 w(Dens,)h(r)p 2344
3617 V 36 w(Lumin\))382 3845 y(\(a\))50 b(Calculate)38
b(current)h(Luminisity)d(in)i(1/\()g(cm\2102)g(*)h(sec)f(\)for)h(tar)n
(get)g(with)e(gi)n(v)o(en)g(Molar)h(mass)g(,)542 3965
y(thicknes)23 b(anddensity)h(\()h(units)f(are)h(gramms)f(and)h(cm)g(\))
203 4194 y(3.)49 b(BM)p 488 4194 V 36 w(READ)p 795 4194
V 36 w(TRIG)382 4422 y(\(a\))h(Read)25 b(bem)g(pars)f(from)h(TRGS)h
(bank)e(processing)g(routine)203 4650 y(4.)49 b(BNKDMP\(BN)m(AME,)24
b(ISW)-9 b(,)26 b(NCOL)p 1693 4650 V 36 w(SCR\))382 4878
y(\(a\))50 b(dumps)23 b(to)i(the)f(log)g(\002le/screen)i(the)e
(contents)g(of)h(bank)g(BN)m(AME.)203 5107 y(5.)49 b(BNKTST\(BN)m
(AME,LFMT)-7 b(,NCOL,CFMT)g(,CELEMENTS\))1983 5504 y(22)p
eop
%%Page: 23 23
23 22 bop 382 75 a Fy(\(a\))50 b(gi)n(v)o(en)19 b(bank)i(name)h(BN)m
(AME)e(returns)h(LFMT)43 b(TR)l(UE)22 b(if)f(the)g(bank)g(hasbeen)g
(formatted,)h(NCOL)542 195 y(=)d(number)g(of)g(columns)g(in)f(FORMA)-11
b(T)20 b(andCFMT)g(is)f(a)g(character)i(string)d(containing)g(the)h
(format)542 315 y(\002eld.)203 544 y(6.)49 b(CHKFPK\(LUN,IRET\))382
772 y(\(a\))h(Looks)23 b(at)i(FP)-9 b(A)l(CK)26 b(logical)e(unit)g
(tables)h(to)f(see)h(if)g(FP)-9 b(A)l(CK)26 b(is)e(using)g(LUN.)203
1000 y(7.)49 b(CHKLUN\(LUN,IRET\))382 1229 y(\(a\))h(Checks)25
b(to)f(see)h(if)g(logical)f(unit)g(number)g(LUN)h(is)f(alreadyin)h
(use.)203 1457 y(8.)49 b(EVTDMP\(ISW)-9 b(,ncol\))382
1685 y(\(a\))50 b(Dumps)23 b(out)h(a)i(listing)d(of)i(all)f(the)h
(banks)f(within)g(the)g(BOS)i(memory)203 1914 y(9.)49
b(FMCRE\(chini,ch\002n,NRETLEN\))382 2142 y(\(a\))h(Con)l(v)o(ert)24
b(character)i(string)e(from)g(F)-8 b(,F)g(,F)g(,I,I,I,I,B16)27
b(...to)74 b(\(3F)-8 b(,4I,...)154 2370 y(10.)48 b(FP)-9
b(A)l(CK)p 640 2370 30 4 v 37 w(MESS)382 2599 y(\(a\))50
b(probes)24 b(FP)-9 b(A)l(CK)26 b(message)e(b)n(uf)n(fers)h(and)g
(routes)f(FP)-9 b(A)l(CK)26 b(messages)e(to)g(RECMES)154
2827 y(11.)48 b(GET)p 527 2827 V 35 w(LEVEL\(LINFO,L)-7
b(W)-12 b(ARN,LDEB)o(UG,LERR)l(OR,LF)-7 b(A)c(T)i(AL\))382
3055 y(\(a\))50 b(returns)24 b(the)h(logicals)f(for)h(le)n(v)o(el)e
(control)h(of)h(the)g(messaging)154 3284 y(12.)48 b(GET)p
527 3284 V 35 w(LOG\(LOUT\))382 3512 y(\(a\))154 3740
y(13.)g(GET)p 527 3740 V 35 w(PR)l(OMPT\(CPR)l(OMPT\))382
3968 y(\(a\))i(RETURNS)25 b(THE)g(ST)n(ORED)g(PR)l(OMPT)154
4197 y(14.)48 b(GETCOL\(cname,bname,icol\))382 4425 y(\(a\))i(gi)n(v)o
(en)26 b(bank)i(name)h(BN)m(AME,)e(and)h(column)g(discriptor)f(CN)m
(AME)h(returns)g(theFIRST)h(column)542 4545 y(inde)o(x)23
b(that)i(match)f(column)g(discriptor)154 4774 y(15.)48
b(GETFMT\(cbname,icol,ifmt\))382 5002 y(\(a\))i(returns)24
b(the)h(format)f(for)h(COLUMN)g(icol)f(in)h(bank)f(CB)m(AME)154
5230 y(16.)48 b(HIST)p 554 5230 V 36 w(LAST)1983 5504
y(23)p eop
%%Page: 24 24
24 23 bop 382 75 a Fy(\(a\))50 b(closes)24 b(the)h(output)e(\002le)i
(associated)g(with)f(HBOOK)154 303 y(17.)48 b(HSTTCL)p
709 303 30 4 v 36 w(INIT)382 531 y(\(a\))i(link)23 b(interacti)n(v)o(e)
h(HBOOK)h(v)n(ariables)154 760 y(18.)48 b(KEEP)p 582
760 V 36 w(LEVEL\(LALL,IT)n(OGLE\))382 988 y(\(a\))i(Stores)24
b(the)h(messaging)f(le)n(v)o(el)f(for)i(loggin)154 1216
y(19.)48 b(KEEP)p 582 1216 V 36 w(LOG\(LOG)p 1061 1216
V 35 w(FILE,IT)n(OGGLE\))382 1445 y(\(a\))154 1673 y(20.)g(KEEP)p
582 1673 V 36 w(PR)l(OMPT\(cprompt,itog\))382 1901 y(\(a\))154
2130 y(21.)g(N)m(AMDMP\(ISW\))382 2358 y(\(a\))i(Dumps)23
b(out)h(a)i(listing)d(of)i(all)f(the)h(banks)f(within)g(the)g(BOS)i
(memory)154 2586 y(22.)48 b(RDISPLA)-10 b(Y)382 2814
y(\(a\))50 b(selects)24 b(and)h(packs)g(those)f(B)m(ANKS)h(needed)g
(for)g(the)g(e)n(v)o(ent)e(DISPLA)-10 b(Y)154 3043 y(23.)48
b(RECLOG\(RN)m(AME,RLEVEL,RMESS\))382 3271 y(\(a\))i(Writes)34
b(out)f(a)i(message)f(to)g(both)f(terminal)h(and)g(LOG)g(\002leRLEVEL)h
(is)f(a)g(descriptor)g(stating)542 3391 y(the)23 b(le)n(v)o(el)g(of)h
(w)o(arningI)f(=)h(informationW)f(=)h(w)o(arning)f(things)g(aren')n(t)h
(quite)f(right)h(b)n(ut)f(not)g(f)o(atalE)542 3512 y(=)28
b(error)g(something)f(wrong,)h(output)f(not)g(to)h(be)g(trustedCALL)g
(FSEQE)g(to)g(stop)f(processing)g(at)542 3632 y(end)e(of)g(loopF)h(=)f
(F)-7 b(A)c(T)i(AL)25 b(stop)g(processing)f(IMMEDIA)-11
b(TEL)h(YN)25 b(=)g(No)h(routine)e(name)i(pre\002xD)542
3753 y(=)39 b(Deb)n(ug)h(messagesL)e(=)i(FORCED)h(logging)d(of)h
(possibly)f(suppressed)h(I/W)h(messagesS)f(=)542 3873
y(FORCED)27 b(spooling)d(of)i(stored)g(messages)f(to)h(log)g(\002le.)35
b(JOB)26 b(CONTR)l(OL)h(is)e(performed)h(in)g(an)542
3993 y(upper)21 b(le)n(v)o(el)g(routine)g(RECMES.)i(Do)e(not)h(call)f
(RECLOG)i(directly)-6 b(,)21 b(call)h(RECMES)h(which)e(will)542
4114 y(route)j(the)h(message)f(to)h(RECLOG)g(and)g(tak)o(e)g(care)g(of)
g(job)g(control!!!)154 4342 y(24.)48 b(RECLUN\(LIN,LOUT)-7
b(,LLOG,LHST)g(,L)e(TMP\))382 4570 y(\(a\))50 b(Returns)26
b(the)g(logical)f(unit)h(numbers)f(of)h(the)h(TTY)f(in/outlog)e(\002le)
i(unit)g(number)f(and)i(temporary)542 4691 y(unit)c(number)-5
b(.Be)25 b(sure)g(to)f(CLOSE\(L)-9 b(TMP\))25 b(when)g(done)g(with)f
(it.)154 4919 y(25.)48 b(RECMES\(RN)m(AME,RLEVEL,RMESS\))1983
5504 y(24)p eop
%%Page: 25 25
25 24 bop 382 75 a Fy(\(a\))50 b(Calls)29 b(RECLOG)g(to)g(route)g
(message)g(to)g(log)f(\002le)i(and)f(TTY)-13 b(,)29 b(also)f
(performsjob)h(control)f(based)542 195 y(on)37 b(the)h(RLEVEL)g(passed)
f(to)g(this)g(routine.RLEVEL)g(is)h(a)g(descriptor)f(stating)g(the)g
(le)n(v)o(el)g(of)542 315 y(w)o(arningI)f(=)h(informationW)e(=)j(w)o
(arning)e(things)f(aren')n(t)j(quite)e(right)g(b)n(ut)g(not)h(f)o
(atalE)f(=)h(error)542 436 y(something)27 b(wrong,)k(output)e(not)g(to)
g(be)h(trustedCALL)f(FSEQE)h(to)g(stop)f(processing)g(at)g(end)h(of)542
556 y(loopF)k(=)h(F)-7 b(A)c(T)i(AL)34 b(stop)g(processing)g(IMMEDIA)
-11 b(TEL)h(Y)d(,)34 b(N)h(=)g(No)g(routine)f(name)h(pre\002x,)j(S)d(=)
542 677 y(F)o(orce)30 b(messages)g(to)g(be)g(Spooled)g(to)g(log)f
(\002le,)j(L)f(=)f(information)f(that)h(cannot)g(be)g(suppressed,)542
797 y(D)i(=)i(deb)n(ug)e(message.)55 b(The)33 b(I)g(and)g(W)g(messages)
f(can)h(be)h(suppressed)e(by)g(calling)h(LINFO)g(=)542
917 y(.F)-7 b(ALSE.)18 b(L)-7 b(W)-12 b(ARN)19 b(=)g(.F)-7
b(ALSE.)19 b(CALL)g(GET)p 2192 917 30 4 v 36 w(LEVEL\(LINFO,L)-7
b(W)-12 b(ARN,LDEB)o(UG,LERR)l(OR,LF)-7 b(A)c(T)i(AL\).)154
1144 y(26.)48 b(RECMOP)382 1370 y(\(a\))i(Opens)24 b(LOG)h(\002le.)154
1597 y(27.)48 b(REDIT\(BN)m(AME,NR)l(O)m(W)-9 b(,NCOL,NREC,ISW)g(,V)c
(ALUE\))382 1823 y(\(a\))50 b(Allo)n(w)23 b(the)i(user)g(to)f
(interacti)n(v)o(ely)f(EDIT)i(a)g(BOS)g(bank)154 2049
y(28.)48 b(REFILL)382 2276 y(\(a\))i(\002lls)24 b(histograms)f(book)h
(interacti)n(v)o(ely)154 2502 y(29.)48 b(REHBK)382 2729
y(\(a\))i(allo)n(ws)23 b(interacti)n(v)o(e)g(booking)h(of)h(histograms)
154 2955 y(30.)48 b(REHELP\(CHELP\))382 3181 y(\(a\))i(dumps)23
b(out)h(help)h(message)f(to)h(screen)g(or)g(across)g(sock)o(et)154
3408 y(31.)48 b(REHIST)382 3634 y(\(a\))i(dumps)23 b(histogram)h(to)g
(screen)h(or)g(log)f(\002le)154 3861 y(32.)48 b(REHV)-13
b(AR)382 4087 y(\(a\))154 4314 y(33.)48 b(RELOG)p 665
4314 V 36 w(UNIT\(L)-9 b(TTY)c(,LLOG\))382 4540 y(\(a\))50
b(Returns)28 b(the)h(logical)f(unit)g(number)h(of)g(the)f(TTY)h(and)g
(LOG)f(\002leThe)i(user)f(can)g(set)f(LLOG)h(=)g(0)542
4660 y(to)24 b(suppress)g(LOG)h(\002les)154 4887 y(34.)48
b(RELOGNM\(FN)m(AME,IJOB\))382 5113 y(\(a\))i(Returns)24
b(the)h(name)g(of)g(the)g(LOG)g(\002le)g(opened)g(by)f(RECMOP)i(and)f
(the)g(sequential)f(ijob)g(for)h(this)542 5234 y(job)l(.)1983
5504 y(25)p eop
%%Page: 26 26
26 25 bop 154 75 a Fy(35.)48 b(REMES)p 665 75 30 4 v
36 w(LEV\(LINFO,L)-7 b(W)-12 b(ARN\))382 293 y(\(a\))50
b(Allo)n(ws)17 b(the)h(user)h(to)g(turn)f(OFF/on)h(informational)e(and)
i(w)o(arning)g(messagesCalling)e(Sequence:input)542 414
y(for)25 b(\002rst)f(call/output)g(otherwise)154 632
y(36.)48 b(RENNNN\(INUM\))382 850 y(\(a\))i(Returns)18
b(a)i(four)e(digit)g(number)l(,)h(based)g(on)g(the)f(number)h(found)f
(in)h(CLAS)p 3102 850 V 36 w(R)l(UNTIME/recseq.ini.)47
b(This)542 971 y(number)24 b(is)g(used)h(to)f(open)h(a)g(uniqueLOG)f
(\002le.Calling)g(Sequence:)154 1189 y(37.)48 b(REOPEN\(FILN)m
(AM,IUNIT)-7 b(,CST)e(A)e(TUS,IRET\))382 1408 y(\(a\))50
b(Opens)24 b(\002le)h(FILN)m(AM)f(with)h(unit)e(IUNIT)i(and)g(status)f
(CST)-9 b(A)e(TUS)154 1626 y(38.)48 b(RERNEV\(IRN,IEV)-13
b(,IREC\))382 1845 y(\(a\))50 b(Returns)36 b(the)g(current)h(R)l(UN)g
(and)f(EVENT)g(number)g(found)g(in)g(clasmdl.incThis)e(is)i(a)g(USER)
542 1965 y(supplied)21 b(routine,)i(the)g(user)g(must)f(\002ll)h(IRN,)h
(IEV)-13 b(,)23 b(IRECwith)h(INTEGER)f(s/he)g(w)o(ants)f(to)h(see)h(in)
542 2085 y(the)g(message)h(stamp.)154 2304 y(39.)48 b(RERR)l(OR)382
2522 y(\(a\))i(This)41 b(routine)h(is)g(called)g(if)g(an)h(ERR)l(OR)g
(message)f(is)g(sent)g(to)g(RECMES.ALL)h(processing)542
2643 y(will)37 b(ST)n(OP)i(upon)e(receipt)h(of)g(an)h(error)f
(message.The)g(user)g(should)f(supply)g(a)h(replacement)542
2763 y(RERR)l(OR)26 b(to)e(perform)h(theappropriate)g(actions)f(for)h
(ERR)l(OR)h(messages)154 2981 y(40.)48 b(RESLUN\(RN)m(AME,LUN,IRET\))
382 3200 y(\(a\))i(Used)25 b(to)h(allocate)g(FOR)-6 b(TRAN)27
b(logical)f(unit)f(numbers)g(for)h(I/O.)g(No)g(code)g(should)f
(hardwire)i(in)542 3320 y(Logical)i(Unit)g(Numbers,)h(instead)f(the)o
(y)g(are)i(assigned)e(dynamically)g(via)g(a)h(call)g(to)g(RESLUN.)542
3441 y(Here')-5 b(s)24 b(a)i(simple)d(e)o(xample:)542
3659 y(C)274 b(MYLUN)24 b(=)h(0)542 3779 y(c)274 b(CALL)25
b(RESLUN\(CRN)m(AME,MYLUN,)f(IRET\))542 3900 y(c)274
b(open\(unit=MYLUN,)23 b(name=MYFILE....\))154 4118 y(41.)48
b(RETCL)p 648 4118 V 36 w(MES\(CP)-9 b(ARM,)26 b(ILENGTH\))382
4337 y(\(a\))50 b(k)o(eeps)24 b(a)h(character)h(string)e(b)n(uf)n(fer)h
(of)g(messages)f(that)g(is)h(accesibleto)f(TCL)154 4555
y(42.)48 b(REVINI\(PN)m(AME,VERSION,PD)l(A)-11 b(TE\))382
4774 y(\(a\))50 b(Stores)43 b(the)h(names)f(and)h(RCS)h(v)o(ersions)d
(of)i(intialized)e(packages.)131 b(Thisroutine)43 b(is)g(to)g(be)542
4894 y(call)31 b(at)h(initialization)e(phase)i(of)g(ALL)f(packages.)53
b(F)o(or)32 b(e)o(xample)f(the)g(follo)n(wing)f(call:)45
b(CALL)542 5014 y(REVINI\('DCCL)-9 b(',CREVIS,CD)l(A)e(TE\))28
b(will)e(store)f(the)h(f)o(act)h(that)e(DCCL)i(\(drift)f(chamber)g
(cali-)542 5135 y(bration\))e(package)h(RCS)h(v)o(ersion)e(CREVIS)i(w)o
(as)f(used)g(on)g(this)e(data.)56 b(CREVIS)27 b('$Re)n(vision'is)542
5255 y(e)o(xpanded)d(by)g(RCS)i(and)f(used)g(at)g(e)o(x)o(ecution)e
(time.)1983 5504 y(26)p eop
%%Page: 27 27
27 26 bop 154 75 a Fy(43.)48 b(REVINM\(EVIV)-13 b(AR,FILN)m(AM,FULLP)k
(A)e(TH\))382 301 y(\(a\))50 b(Gi)n(v)o(en)21 b(the)i(en)l(viroment)f
(v)n(ariable)g(EVIV)-13 b(AR)23 b(and)g(the)g(\002lename)g(FILN)m
(AMreturns)f(the)h(full)f(path)542 421 y(FULLP)-9 b(A)e(TH)24
b(to)h(the)f(\002le.)154 647 y(44.)48 b(REW)o(ORD\(CLINE,NW)o(ORDS,CW)o
(ORDS\))382 873 y(\(a\))i(Breaks)25 b(string)f(CLINE)h(into)f(W)o(ORDS)
i(delineated)e(by)h(spaces)154 1099 y(45.)48 b(RF)-7
b(A)c(T)i(AL)382 1325 y(\(a\))50 b(This)30 b(routine)h(is)g(called)g
(if)h(a)f(F)-7 b(A)c(T)i(AL)31 b(\003ag)h(is)f(sent)g(to)g
(RECMES,processing)g(will)f(ST)n(OP)j(im-)542 1446 y(mediately)26
b(when)h(called.)67 b(this)26 b(is)h(meantto)g(be)g(a)h(dummy)e
(routine,)h(the)h(user)f(should)g(supply)f(a)542 1566
y(replacementRF)-7 b(A)c(T)i(AL)24 b(to)g(e)o(x)o(ecute)h(the)f
(appropriate)h(response)f(to)h(F)-7 b(A)c(T)i(AL)24 b(messages.)154
1792 y(46.)48 b(SET)p 510 1792 30 4 v 36 w(LEVEL\(LINFO,L)-7
b(W)-12 b(ARN,LDEB)o(UG,LERR)l(OR,LF)-7 b(A)c(T)i(AL\))382
2018 y(\(a\))50 b(Sets)24 b(the)h(le)n(v)o(el)f(of)h(messaging)154
2244 y(47.)48 b(SET)p 510 2244 V 36 w(LOG\(LIN\))382
2470 y(\(a\))154 2696 y(48.)g(SET)p 510 2696 V 36 w(PR)l
(OMPT\(cprompt\))382 2922 y(\(a\))154 3148 y(49.)g(TXT2BOS\(FILEN)m
(AME\))382 3374 y(\(a\))i(reads)25 b(in)f(an)h(ascii)g(\002le)g
(\(FILEN)m(AME\))f(and)h(con)l(v)o(erts)f(that)g(info)h(intoBOS)f(bank)
h(de\002nition.)83 3713 y Fw(B)143 b(r)m(ecsis)p 672
3713 44 4 v 51 w(pr)m(oc.tcl)34 b(Tcl)h(pr)m(ocedur)m(es)83
3937 y Fy(In)19 b(this)f(Appendix)g(short)g(discriptions)f(of)i(the)f
(Tcl)h(procedures)g(a)n(v)n(ailable)f(when)h(you)f(source)h
Fu(tcl/r)l(ecsis)p 3731 3937 30 4 v 35 w(pr)l(oc.tcl)83
4057 y Fy(are)30 b(listed.)44 b(F)o(or)30 b(details)e(on)h(ho)n(w)g
(these)g(procedures)h(w)o(ork)f(the)h(reader)g(is)f(encourage)h(to)f
(look)g(at)h(the)f(code.)83 4178 y(In)k(the)g(follo)n(wing)e(appendix)i
(a)g(list)g(of)g(FOR)-6 b(TRAN-Tcl)34 b(run)f(control)g(v)n(ariables)f
(will)g(be)i(presented.)55 b(The)83 4298 y(procedures)31
b(presented)f(here)h(mak)o(e)g(e)o(xtensi)n(v)o(e)e(use)h(of)h(those)f
(v)n(ariables)g(to)g(pro)o(vide)f(a)i(more)g(user)g(friendly)83
4418 y(interf)o(ace.)g(Optional)24 b(ar)n(guments)g(will)g(be)h(within)
e Fg(fg)p Fy(.)203 4642 y(1.)74 b(bdump)23 b Fg(f)p Fy(ctmp)h
Fg(f)p Fy(bos)p 1122 4642 V 35 w(array)i(iw)p Fg(gg)443
4868 y(\017)49 b Fy(bdump)23 b(HEAD)i Fg(f)p Fy(iw)p
Fg(g)443 5029 y(\017)49 b Fy(Performs)25 b(a)g(formatted)f(dump)g(of)h
(the)f(BOS)i(bank)f(to)f(the)h(screen.)203 5255 y(2.)74
b(bedit)24 b Fg(f)p Fy(ctmp)g(ro)n(w)g(column)g(sector)h(v)n(alue)f
Fg(f)p Fy(bos)p 2047 5255 V 35 w(array)i(iw)p Fg(gg)1983
5504 y Fy(27)p eop
%%Page: 28 28
28 27 bop 443 75 a Fg(\017)49 b Fy(bedit)24 b(CC)h(1)g(2)g(6)g(1024)f
Fg(f)p Fy(iw)p Fg(g)443 237 y(\017)49 b Fy(Edit)20 b(a)h(BOS)g(bank.)30
b(F)o(or)20 b(the)h(rare)h(case)f(where)g(you)g(need)g(to)f(modify)g(a)
h(BOS)h(bank)f(interacti)n(v)o(ely)-6 b(.)542 357 y(In)24
b(the)g(e)o(xample)f(we)h(ha)n(v)o(e)g(changed)g(the)g(TDC)h(v)n(alue)e
(for)i(the)f(\002rst)g(CC)h(hit)e(in)h(sector)g(6)g(to)g(1024.)203
585 y(3.)74 b(book)24 b Fg(f)p Fy(id)g(ctit)g(nx)h(xlo)n(w)f(xhgh)g
Fg(f)p Fy(n)o(y)g(0)p Fg(g)g(f)p Fy(ylo)n(w)g(0)p Fg(g)g(f)p
Fy(yhgh)g(0)p Fg(g)h(f)p Fy(cdir)f(0)p Fg(gg)443 814
y(\017)49 b Fy(book)24 b(99)g(`my)h(histogram')e(100)i(0.0)f(4096.0)g
(100)g(0.0)h(4096)f Fg(f)p Fy(CC)p Fg(g)443 976 y(\017)49
b Fy(Interacti)n(v)o(e)23 b(book)i(a)g(1D)f(or)h(2D)g(histogram)e(in)i
(the)f(cdir)h(P)-9 b(A)g(W)25 b(directory)-6 b(.)203
1204 y(4.)74 b(bookn)24 b Fg(f)p Fy(id)g(ctit)49 b(ar)n(gs)p
Fg(g)443 1432 y(\017)g Fy(bookn)23 b(199)i('my)f(ntuple')g(CC)p
1620 1432 30 4 v 37 w(ID)h(CC)p 1919 1432 V 37 w(TDC)g(CC)p
2312 1432 V 37 w(ADC)443 1594 y Fg(\017)49 b Fy(Interacti)n(v)o(ely)25
b(book)g(a)i(colum)f(wise)g(ntuple.)35 b(In)27 b(the)f(abo)o(v)o(e)f(e)
o(xample)h(a)h(3-column)e(n-tuple)h(w)o(as)542 1714 y(created.)203
1943 y(5.)74 b(cdir)25 b Fg(ff)p Fy(ctmp)e(\224//P)-9
b(A)g(WC\224)p Fg(gg)443 2171 y(\017)49 b Fy(cdir)24
b Fg(f)p Fy(CC)p Fg(g)443 2333 y(\017)49 b Fy(Change)29
b(the)h(P)-9 b(A)g(WC)30 b(common)e(directory)h(for)h(the)f(interacti)n
(v)o(e)f(interf)o(ace,)j(does)e(not)g(ef)n(fect)g(the)542
2453 y(w)o(orking)23 b(directory)i(within)f(the)g(code.)203
2682 y(6.)74 b(ced)25 b Fg(fg)443 2910 y(\017)49 b Fy(ced)443
3072 y Fg(\017)g Fy(Launches)24 b(ced.)203 3300 y(7.)74
b(close\002le)25 b Fg(ff)p Fy(ctmp)f(CLASINPUT)p Fg(gg)443
3528 y(\017)49 b Fy(close\002le)24 b Fg(f)p Fy(CLASOUTPUT)p
Fg(g)443 3690 y(\017)49 b Fy(Closes)30 b(the)g(\002le,)i(if)e(you)g
(close)g(the)h(input)e(\002le)i(you)f(can)g(continue)g(the)g(job)g(by)g
(entering)g(a)h(ne)n(w)542 3811 y(\002le)25 b(via)f(the)h
Fv(input\002le)h Fy(command.)203 4039 y(8.)74 b(doe)n(v)o(ent)23
b Fg(f)p Fy(ie)n(v)o(ent)p Fg(g)443 4267 y(\017)49 b
Fy(doe)n(v)o(ent)23 b(1967:1975)443 4429 y Fg(\017)49
b Fy(RECSIS)24 b(will)e(process)g(those)g(e)n(v)o(ents)g(listed,)g
(here)h(we)g(ha)n(v)o(e)f(chosen)h(only)f(e)n(v)o(ents)f(1967)p
Fg(!)p Fy(1975)542 4550 y(inclusi)n(v)o(e.)27 b(The)22
b(e)n(v)o(ent)f(numbers)h(are)g(formated)g(as)g(for)h(a)f(FP)-9
b(A)l(CK)23 b(SELECT)g(command.)29 b(In)22 b(f)o(act)542
4670 y(the)i(doe)n(v)o(ent)f(procedure)j(forms)e(and)h(e)o(x)o(ecutes)f
(an)h(FP)-9 b(A)l(CK)26 b(command.)203 4898 y(9.)74 b(dorun)24
b Fg(f)p Fy(ie)n(v)o(ent)p Fg(g)443 5127 y(\017)49 b
Fy(dorun)24 b(`1929,1987,1997:')1983 5504 y(28)p eop
%%Page: 29 29
29 28 bop 443 75 a Fg(\017)49 b Fy(RECSIS)23 b(will)e(process)h(those)f
(runs)g(listed.)29 b(Here)22 b(we)g(ha)n(v)o(e)g(chosen)f(the)h(runs)f
(1929,)h(1987,)g(1997)542 195 y(and)i(runs)h(greater)g(then)g(1997.)154
423 y(10.)73 b(dump)24 b Fg(ff)p Fy(id)g(0)p Fg(g)g(f)p
Fy(cdir)h(0)p Fg(gg)443 652 y(\017)49 b Fy(dump)23 b(99)i
Fg(f)p Fy(CC)p Fg(g)443 814 y(\017)49 b Fy(A)26 b(crude)h(ASCII)h
(histogram)e(dump)g(to)g(your)h(screen.)37 b(Here)27
b(the)g(histogram)e(99)i(in)f(the)h(CC)h(pa)o(w)542 934
y(directory)c(will)g(be)h(dumped.)154 1162 y(11.)73 b(edump)24
b Fg(ff)p Fy(bos)p 893 1162 30 4 v 35 w(array)h(iw)p
Fg(gg)443 1391 y(\017)49 b Fy(edump)24 b Fg(f)p Fy(iw)p
Fg(g)443 1553 y(\017)49 b Fy(A)24 b(formatted)h(dump)e(of)i(e)n(v)o
(ery)g(BOS)g(bank)g(in)f(the)h(e)n(v)o(ent)f(will)f(be)i(dumped)f(on)h
(your)f(screen.)154 1781 y(12.)73 b(e)o(xit)24 b Fg(fg)443
2009 y(\017)49 b Fy(e)o(xit)443 2171 y Fg(\017)g Fy(RECSIS)26
b(will)e(e)o(xit)g(gracefully)h(calling)f(all)g(the)h(e)o(xitting)e
(routines.)154 2399 y(13.)73 b(\002ll)24 b Fg(f)p Fy(id)h(cx)g
Fg(f)p Fy(c)o(y)f(0)p Fg(g)49 b(f)p Fy(cdir)25 b(0)p
Fg(gg)443 2628 y(\017)49 b Fy(\002ll)24 b(99)h(CC.6.ADC)g(CC.6.TDC)h
Fg(f)p Fy(CC)p Fg(g)443 2790 y(\017)49 b Fy(Used)38 b(in)h(conjunction)
e(with)h(the)h(interacti)n(v)o(e)f Fv(book)h Fy(command.)72
b(This)39 b(tells)f(the)g(interacti)n(v)o(e)542 2910
y(HBOOK)23 b(utility)e(ho)n(w)g(to)i(\002ll)g(the)f(histogram.)29
b(In)23 b(this)e(e)o(xample)h(the)h(histogram)e(w)o(as)i(\002lled)g
(with)542 3030 y(the)h(ADC)h(and)g(TDC)g(v)n(alues)f(for)h(the)g
(sector)g(6)g(Cerenk)o(o)o(v)f(detector)-5 b(.)154 3259
y(14.)73 b(\002lln)24 b Fg(f)p Fy(id)h(ar)n(gs)p Fg(g)443
3487 y(\017)49 b Fy(\002lln)24 b(199)g(CC.6.ID)i(CC.6.ADC)g(CC.6.TDC)
443 3649 y Fg(\017)49 b Fy(Used)36 b(in)g(conjunction)f(with)h(the)g
(interacti)n(v)o(e)f Fv(bookn)j Fy(command.)64 b(This)36
b(command)g(tells)f(the)542 3769 y(interacti)n(v)o(e)25
b(HBOOK)i(utility)e(ho)n(w)h(to)h(\002ll)f(the)h(ntuple.)36
b(In)27 b(this)f(e)o(xample)g(the)g(ntuple)g(w)o(as)h(\002lled)542
3890 y(with)d(the)g(sector)h(6)g(Cerenk)o(o)o(v)f(ra)o(w)h(data.)154
4118 y(15.)73 b(fpack)25 b Fg(ff)p Fy(ctmp)p Fg(gg)443
4346 y(\017)49 b Fy(fpack)25 b(`'ANY)g(FP)-9 b(A)l(CK)26
b(COMMAND\224)443 4508 y Fg(\017)49 b Fy(This)28 b(procedure)j(allo)n
(ws)d(the)i(user)g(to)f(enter)h(an)o(y)f(FP)-9 b(A)l(CK)31
b(command)e(the)o(y)g(w)o(ant.)45 b(The)30 b(proce-)542
4628 y(dures,)f Fv(doe)o(v)o(ent,)h(dorun,)h(input\002le,)g
(output\002le)g Fy(and)d Fv(close\002le)h Fy(mak)o(e)g(use)f(of)h(the)g
(procedure.)542 4749 y(There)c(is)f(nothing)f(pre)n(v)o(enting)g(the)i
(user)g(from)g(using)e(this)h(procedure)h(directly)-6
b(.)154 4977 y(16.)73 b(global)p 608 4977 V 35 w(section)24
b Fg(ff)p Fy(onof)n(f)g(of)n(f)p Fg(gg)443 5205 y(\017)49
b Fy(global)p 798 5205 V 34 w(section)25 b(on)1983 5504
y(29)p eop
%%Page: 30 30
30 29 bop 443 75 a Fg(\017)49 b Fy(Used)35 b(during)h(initialization)e
(to)h(turn)h(on)g(or)g(of)n(f)g(the)f(P)-9 b(A)g(WC)37
b(shared)g(memory)e(option.)63 b(This)542 195 y(option)23
b(does)i(not)f(w)o(ork)g(on)h(HP-UX,)g(nor)g(does)f(it)h(w)o(ork)f
(with)g(column)g(wise)h(ntuples.)154 419 y(17.)73 b(go)24
b Fg(ff)p Fy(ntmp)g(0)p Fg(gg)443 643 y(\017)49 b Fy(go)24
b(666)443 802 y Fg(\017)49 b Fy(RECSIS)41 b(will)d(process)h(the)h
(number)f(of)g(e)n(v)o(ents)f(then)h(pause)g(for)h(more)f(commands.)74
b(If)39 b(no)542 923 y(number)24 b(is)g(gi)n(v)o(en)f(RECSIS)k(will)d
(process)h(until)e(the)i(end)g(of)g(\002le.)154 1147
y(18.)73 b(input\002le)24 b Fg(ff)p Fy(ctmp)49 b
(/apps/clas/u2/data/clas000725.a00)p Fg(gg)443 1370 y(\017)g
Fy(input\002le)24 b(/w)o(ork/disk2/sep97/roastbeef.cook)o(ed)443
1530 y Fg(\017)49 b Fy(A)24 b(simple)g(w)o(ay)h(to)f(enter)h(the)g
(input)f(\002le.)31 b(This)24 b(\002le)h(is)f(called)h(CLASINPUT)h(by)f
(FP)-9 b(A)l(CK.)154 1754 y(19.)73 b(ndump)23 b Fg(ff)p
Fy(bos)p 898 1754 30 4 v 35 w(array)j(iw)p Fg(gg)443
1978 y(\017)49 b Fy(ndump)23 b Fg(f)p Fy(iw)p Fg(g)443
2137 y(\017)49 b Fy(This)24 b(will)f(dump)h(a)h(complete)g(list)e(of)i
(BOS)h(bank)e(names)h(to)f(the)h(screen.)154 2361 y(20.)73
b(output\002le)24 b Fg(ff)p Fy(ctmp)48 b(junk.e)n(vt)p
Fg(gg)443 2585 y(\017)h Fy(output\002le)23 b(roastbeefed.bak)o(ed)443
2745 y Fg(\017)49 b Fy(This)30 b(tells)h(FP)-9 b(A)l(CK)32
b(to)g(open)f(an)h(output)e(\002le)i(associated)f(with)g(the)g(FP)-9
b(A)l(CK)32 b(CLASOUTPUT)542 2865 y(name.)154 3089 y(21.)73
b(pause)25 b Fg(fg)443 3313 y(\017)49 b Fy(pause)443
3472 y Fg(\017)g Fy(P)o(auses)24 b(the)h(e)o(x)o(ecution.)k(The)c(job)f
(can)h(be)g(resumed)g(by)f(a)h(subsequent)f Fv(go)g Fy(command.)154
3696 y(22.)73 b(pa)o(w)24 b Fg(fg)443 3920 y(\017)49
b Fy(pa)o(w)443 4080 y Fg(\017)g Fy(Launches)27 b(a)g(pa)o(w)g
(session.)37 b(If)28 b(P)-9 b(A)g(W)27 b(shared)h(memory)e(is)h
(enabled)g(the)g(launched)g(pa)o(w)g(session)542 4200
y(will)c(automatically)h(attach)h(to)f(the)h(correct)g(memory)f
(section.)154 4424 y(23.)73 b(quit)24 b Fg(fg)443 4648
y(\017)49 b Fy(quit)443 4807 y Fg(\017)g Fy(RECSIS)26
b(terminates)e(its)g(job)g(immediately)-6 b(,)23 b(no)h(e)o(xiting)g
(routines)f(are)j(e)o(x)o(ecuted.)154 5031 y(24.)73 b(status)24
b Fg(fg)443 5255 y(\017)49 b Fy(status)1983 5504 y(30)p
eop
%%Page: 31 31
31 30 bop 443 75 a Fg(\017)49 b Fy(This)30 b(will)g(type)h(out)f(a)h
(status)f(of)h(the)g(job,)h(gi)n(ving)d(the)i(current)h(run)e(and)h(e)n
(v)o(ent)f(number)l(,)i(e)n(v)o(ent)542 195 y(types)24
b(processed)g(and)h(cpu)g(requirements.)154 419 y(25.)73
b(term)24 b Fg(f)h(g)443 643 y(\017)49 b Fy(term)443
803 y Fg(\017)g Fy(This)31 b(procedure)j(is)e(used)g(internally)g(with)
g(the)h(formatted)f(bank)g(dumping)g(utilities)e(to)j(deter)n(-)542
924 y(mine)24 b(the)g(screen)i(width)e(before)h(dumping)e(the)i(bank)f
(out)g(on)h(the)g(screen.)154 1148 y(26.)73 b(turnof)n(f)24
b Fg(f)p Fy(ar)n(gs)p Fg(g)443 1372 y(\017)49 b Fy(turnof)n(f)24
b(seb)g(trk)h(cc)g(tof)g(e)o(gn)f(lac)h(trig)f(tagger)h(user)g(start)g
(ALL)443 1532 y Fg(\017)49 b Fy(This)24 b(procedure)h(is)f(used)h(to)f
(turn)g(of)n(f)h(indi)n(vidual)e(or)h(ALL)h(reconstruction)f(packages.)
154 1756 y(27.)73 b(turnon)24 b Fg(f)p Fy(ar)n(gs)p Fg(g)443
1980 y(\017)49 b Fy(turnon)24 b(seb)g(trk)h(cc)g(tof)g(e)o(gn)f(lac)h
(trig)f(tagger)h(user)g(start)g(ALL)443 2140 y Fg(\017)49
b Fy(This)24 b(procedure)h(is)f(used)h(to)f(turn)g(on)h(indi)n(vidual)d
(or)j(ALL)g(reconstruction)f(packages.)83 2479 y Fw(C)143
b(A)-14 b(v)o(ailable)33 b(run)i(contr)m(ol)g(Tcl-FOR)-6
b(TRAN)32 b(v)o(ariables)83 2702 y Fy(The)g(subroutine)f
Fu(r)l(ecsis/rntcl)p 1175 2702 30 4 v 34 w(init.F)g Fy(links)g(all)h
(the)g(FOR)-6 b(TRAN)33 b(run)f(control)g(v)n(ariables)f(to)h(Tcl)g(v)n
(ariables.)83 2822 y(These)j(v)n(ariables)f(are)i(held)e(in)h(the)g
Fu(include/run)p 1848 2822 V 34 w(contr)l(ol.inc)e Fy(common)h(block)g
(and)h(pro)o(vide)f(a)h(means)g(for)83 2943 y(steering)28
b(the)f(e)n(v)o(ent)g(loop.)40 b(The)28 b(user)g(is)g(encouraged)g(to)g
(write)f(their)h(o)n(wn)f(Tcl)h(procedures)h(to)e(mak)o(e)h(use)g(of)83
3063 y(these)23 b(v)n(ariables)g(during)f(e)o(x)o(ecution.)29
b(After)23 b(the)g(v)n(ariable)g(the)g(data)g(type)g(is)g(gi)n(v)o(en:)
28 b(I=32bit)23 b(inte)o(ger)l(,)g(F=32bit)83 3184 y(\003oat)i(and)g
(L=FOR)-6 b(TRAN)26 b(logical.)203 3404 y(1.)49 b(NTCL)p
593 3404 V 38 w Fa(C)t(H)t(E)t(C)t(K)32 b Fy(:)k(I)t(,)29
b(ho)n(w)24 b(often)h(will)f(recsis)g(check)i(the)e(TCL-SCA)-11
b(T)26 b(sock)o(et,)e(def)o(ault)h(is)f(10)203 3605 y(2.)49
b(ITCL)p 554 3605 V 36 w(CA)-11 b(TCH)26 b(:)e(I,)h(is)g(an)g(inte)o
(ger)f(used)g(for)h(TCL)g(to)g(pass)f(error)i(\003ags)f(into)f(FOR)-6
b(TRAN)203 3806 y(3.)49 b(NEVT)p 599 3806 V 35 w(T)n(O)p
765 3806 V 36 w(PR)l(OCESS)26 b(:)e(I,)g(recsis)g(will)f(analyses)h
(NEVT)p 2445 3806 V 35 w(T)n(O)p 2611 3806 V 36 w(PR)l(OCESS)i(e)n(v)o
(ents)d(and)h(then)f(pause,)203 4008 y(4.)49 b(NEVT)p
599 4008 V 35 w(COUNT)25 b(:)g(I,)g(is)f(the)h(number)f(of)h(e)n(v)o
(ents)f(processed)g(since)h(the)g(last)f(LP)-9 b(A)k(USE)203
4209 y(5.)49 b(NEVT)p 599 4209 V 35 w(T)n(O)p 765 4209
V 36 w(SKIP)26 b(:)f(I,)g(recsis)f(will)g(skip)g(NEVT)p
2066 4209 V 36 w(T)n(O)p 2233 4209 V 36 w(SKIP)h(e)n(v)o(ents)f(and)h
(then)f(resume)h(processing.)203 4410 y(6.)49 b(NR)l(UN)p
611 4410 V 36 w(T)n(O)p 778 4410 V 36 w(SKIP)22 b(:)f(I,)g(recsis)h
(will)e(skip)g(NR)l(UN)p 2069 4410 V 36 w(T)n(O)p 2236
4410 V 36 w(SKIP)i(runs)f(and)h(their)e(e)n(v)o(ents)g(and)h(then)g
(resume)327 4531 y(processing.)203 4732 y(7.)49 b(NR)l(UN)p
611 4732 V 36 w(T)n(O)p 778 4732 V 36 w(PR)l(OCESS)27
b(:)d(I,)203 4933 y(8.)49 b(PRESCALE)p 830 4933 V 37
w(F)-7 b(A)l(CT)n(OR)20 b(:)f(I,Prescale)h(f)o(actor)f(is)g(number)f
(of)i(e)n(v)o(ents)d(to)i(skip)f(before)i(calling)e(packages.)203
5135 y(9.)49 b(PRESCALE)p 830 5135 V 37 w(COUNTER)31
b(:)e(I,Prescale)i(counter)f(counts)g(number)f(of)h(e)n(v)o(ents)f
(since)h(last)f(processed)327 5255 y(e)n(v)o(ent.)1983
5504 y(31)p eop
%%Page: 32 32
32 31 bop 154 75 a Fy(10.)48 b(PRESCALE)26 b(:)f(I,)g(Prescale)g(is)g
(a)g(switch)f(to)g(turn)h(prescaling)f(on)h(and)f(of)n(f.)154
278 y(11.)48 b(LST)-9 b(A)e(T)24 b(:)h(L,)g(set)f(to)h(true)g(causes)f
(the)h(recsis)g(status)f(to)g(be)h(dumped)f(to)g(screen)i(and)f(log)f
(\002le.)154 482 y(12.)48 b(LEVENT)p 721 482 30 4 v 35
w(CLASS\(20\))33 b(:)46 b(L,)32 b(logicals)f(control)g(which)h(e)n(v)o
(ent)f(class)h(to)g(process.)85 b(The)32 b(USER)h(can)327
602 y(select)26 b(a)h(speci\002c)g(e)n(v)o(ent)e(class)h(by)g(turning)g
(e)n(v)o(ent)f(class)h(1-15)g(of)n(f)h(and)f(then)g(select)g(the)g
(speci\002c)h(class)327 722 y(desired.)55 b(By)25 b(def)o(ault)g(all)g
(e)n(v)o(ent)e(classes)i(are)g(turned)g(on)154 926 y(13.)48
b(The)25 b(follo)n(wing)e(logicals)g(are)j(used)e(to)h(control)f
(calling)g(v)n(arious)g(packages)382 1154 y(\(a\))50
b(LDC)p 747 1154 V 36 w(DO)99 b(TR)l(UE)25 b(-)p Fb(>)g
Fy(perform)g(tracking)377 1316 y(\(b\))49 b(LEGN)p 814
1316 V 35 w(DO)75 b(TR)l(UE)25 b(-)p Fb(>)g Fy(perform)f(calorimeter)h
(reconstruction)382 1478 y(\(c\))50 b(LCC)p 741 1478
V 36 w(DO)100 b(TR)l(UE)25 b(-)p Fb(>)g Fy(perform)f(cherenk)o(o)o(v)h
(reconstruction)377 1640 y(\(d\))49 b(L)-9 b(T)n(OF)p
786 1640 V 35 w(DO)100 b(TR)l(UE)25 b(-)p Fb(>)g Fy(perform)g(T)n(OF)g
(reconstruction)382 1802 y(\(e\))50 b(LST)p 725 1802
V 36 w(DO)124 b(TR)l(UE)25 b(-)p Fb(>)g Fy(perform)g(start)f(counter)h
(reconstruction)393 1963 y(\(f\))50 b(LUSR0)p 852 1963
V 36 w(DO)74 b(F)-7 b(ALSE)25 b(-)p Fb(>)g Fy(perform)g(USER)h(code)f
(BEFORE)h(e)n(v)o(ent)d(processing)377 2125 y(\(g\))49
b(LUSR1)p 852 2125 V 36 w(DO)74 b(TR)l(UE)25 b(-)p Fb(>)g
Fy(perform)g(USER)h(code)f(after)g(EVENT)g(processing)377
2287 y(\(h\))49 b(LUSR2)p 852 2287 V 36 w(DO)74 b(F)-7
b(ALSE)25 b(-)p Fb(>)g Fy(e)o(xtra)g(\003ag)399 2449
y(\(i\))49 b(L)-9 b(TIME)p 844 2449 V 35 w(DO)74 b(TR)l(UE)25
b(-)p Fb(>)g Fy(perform)g(e)n(v)o(ent)f(time)g(analysis)399
2611 y(\(j\))49 b(L)-9 b(T)g(A)l(GGER)p 991 2611 V 35
w(DO)25 b(TR)l(UE)g(-)p Fb(>)g Fy(perform)f(tagger)h(stuf)n(f)377
2773 y(\(k\))49 b(LEC1)p 786 2773 V 35 w(DO)100 b(TR)l(UE)25
b(-)p Fb(>)g Fy(perform)g(lar)n(ge)g(angle)g(calorimeter)399
2935 y(\(l\))49 b(LSEB)p 791 2935 V 36 w(DO)99 b(TR)l(UE)25
b(-)p Fb(>)g Fy(perform)g(Simple)f(Ev)o(ent)g(Builder)349
3097 y(\(m\))49 b(LCALL)p 869 3097 V 35 w(DO)75 b(TR)l(UE)25
b(-)p Fb(>)g Fy(use)g(Catch-All)f(bank)h(data)154 3325
y(14.)48 b(LDISPLA)-10 b(Y)24 b(:)g(L,)g(set)f(LDISPLA)-10
b(Y)25 b(true)f(to)f(call)h(CED)g(on)g(the)g(end)g(of)g(the)g(e)n(v)o
(ent,)f(LDISPLA)-10 b(Y)24 b(is)g(tog-)327 3445 y(gled)j(OFF)h(after)f
(sending)g(the)f(e)n(v)o(ent)g(and)i(is)e(used)h(for)g(selected)h(e)n
(v)o(ents)d(for)j(the)f(e)n(v)o(ent)f(display)-6 b(.)63
b(LD-)327 3566 y(ISPLA)-10 b(Y)p 671 3566 V 36 w(ALL)25
b(will)e(send)i(EVER)-6 b(Y)24 b(e)n(v)o(ent)g(to)h(the)f(e)n(v)o(ent)g
(DISPLA)-10 b(Y)154 3769 y(15.)48 b(LEVENT)p 721 3769
V 35 w(ALL)154 3973 y(16.)g(the)25 b(follo)n(wing)d(are)k(all)e
(character)i(strings;)382 4201 y(\(a\))50 b(FCK)p 741
4201 V 36 w(FILE)25 b(contains)f(the)h(name)g(of)g(the)f(initial)49
b(FP)-9 b(A)l(CK)25 b(control)g(\002le)377 4363 y(\(b\))49
b(TCL)p 736 4363 V 36 w(INIT)25 b(contains)f(the)g(name)h(of)g(the)f
(initial)g(TCL)h(script)382 4525 y(\(c\))50 b(REC)p 741
4525 V 36 w(INPUT)25 b(contains)f(the)h(name)g(of)g(the)f(input)g
(\002le)377 4687 y(\(d\))49 b(REC)p 741 4687 V 36 w(OUTPUT)25
b(contains)f(the)h(name)f(of)h(the)g(output)e(\002le)382
4848 y(\(e\))50 b(ar)n(g)p 673 4848 V 36 w(rec)p 830
4848 V 36 w(input)24 b(contains)g(the)h(command)e(line)i(input)f
(\002le)h(name)393 5010 y(\(f\))50 b(ar)n(g)p 673 5010
V 36 w(rec)p 830 5010 V 36 w(output)24 b(contains)g(the)g(output)g
(\002le)h(name)g(entered)g(on)g(the)f(command)g(line)377
5172 y(\(g\))49 b(ar)n(g)p 673 5172 V 36 w(fpk)p 842
5172 V 35 w(init)24 b(contains)g(the)h(fpack)g(control)f(\002le)h
(entered)h(on)e(the)h(command)f(line)1983 5504 y(32)p
eop
%%Page: 33 33
33 32 bop 154 75 a Fy(17.)48 b(the)25 b(follo)n(wing)d(logicals)i
(perfrom)h(some)f(run)p 1938 75 30 4 v 36 w(control)g(functions)382
303 y(\(a\))50 b(LP)-9 b(A)k(USE)24 b(:)h(L,)f(if)h(TR)l(UE)g(suspend)f
(e)n(v)o(ent)g(loop)377 465 y(\(b\))49 b(LP)-9 b(A)k(USE)p
910 465 V 35 w(EXIT)27 b(:)f(L,)h(if)f(TR)l(UE)h(pause)g(at)g(END)f(of)
h(D)l(A)-11 b(T)i(A,)26 b(if)h(F)-7 b(ALSE)26 b(e)o(xit)g(RECSIS)j
(without)542 585 y(pausing)382 747 y(\(c\))50 b(LNEVER)p
941 747 V 35 w(P)-9 b(A)k(USE)25 b(:)g(L,)f(if)h(TR)l(UE)g(recsis)g
(will)f(NEVER)h(pause,)f(used)h(for)g(batch)g(processing)377
909 y(\(d\))49 b(LEXIT)24 b(:)h(L,)f(if)h(TR)l(UE)g(calls)g(FSEQE)g
(and)g(e)o(xits)e(program)i(after)g(writing)f(the)h(e)n(v)o(ent)382
1071 y(\(e\))50 b(LQ)o(UIT)24 b(:)h(L,)f(if)h(TR)l(UE)g(immediate)f
(EXIT)393 1233 y(\(f\))50 b(FST)-9 b(A)e(T)25 b(:)f(L,if)h(TR)l(UE)g
(calls)f(FPST)-9 b(A)e(T)26 b(for)f(FP)-9 b(A)l(CK)26
b(info)377 1395 y(\(g\))49 b(LEOF)24 b(:)h(L,)g(set)f(to)h(TR)l(UE)g
(when)g(End)f(Of)h(File)g(is)f(reached)154 1623 y(18.)48
b(The)25 b(follo)n(wing)e(v)n(ariables)h(allo)n(w)f(interacti)n(v)o(e)h
(access)h(to)g(the)f(BOS)i(banks)382 1851 y(\(a\))50
b(LBNKDMP)f(:)25 b(L,)g(if)f(true)h(a)g(BOS)h(B)m(ANK)f(DUMP)f(of)h
(CBN)m(AME)g(is)f(performed)377 2013 y(\(b\))49 b(LN)m(AMDMP)37
b(:L,)19 b(if)g(true)g(the)g(N)m(AMES)g(of)g(the)g(BOS)i(B)m(ANKS)e(in)
g(the)g(current)h(e)n(v)o(ent)e(are)i(printed)542 2134
y(to)k(the)h(screen)g(and)g(log)f(\002le)382 2296 y(\(c\))50
b(LEVTDMP)f(:)24 b(L,)h(if)g(true)g(ALL)f(the)h(BOS)h(banks)e(for)h
(the)g(current)g(e)n(v)o(ent)e(are)j(DUMPED)377 2457
y(\(d\))49 b(LBNKEDT)g(:)25 b(L,)f(if)h(true)g(modify)f(B)m(ANK)g
(cbname)h(\(nro)n(w)-6 b(,ncol\))24 b(=)h(rne)n(w)p 3204
2457 V 35 w(v)n(alue)382 2619 y(\(e\))50 b(CBN)m(AME)74
b(:C*4,)25 b(The)f(indi)n(vidual)f(BOS)j(B)m(ANK)e(name)393
2781 y(\(f\))50 b(NR)l(O)m(W)p 845 2781 V 35 w(TCL)25
b(:)g(I,)g(Pointer)g(into)f(the)g(BOS)i(bank,)e(points)g(to)g(the)h(R)l
(O)m(W)377 2943 y(\(g\))49 b(NCOL)p 819 2943 V 36 w(TCL)25
b(:)f(I)h(,)g(Column)377 3105 y(\(h\))49 b(NREC)p 813
3105 V 36 w(TCL)25 b(:)g(I)g(,)g(Sector)399 3267 y(\(i\))49
b(rne)n(w)p 745 3267 V 35 w(v)n(alue)24 b(:)31 b(F)-8
b(,)25 b(the)g(v)n(alue)f(to)g(be)h(deposited)f(into)g(BOS)i(B)m(ANK)e
(\(nR)l(O)m(W)p 3197 3267 V 36 w(tcl,nCOL)p 3607 3267
V 36 w(tcl\))399 3429 y(\(j\))49 b(ibos)p 715 3429 V
34 w(array:)32 b(I,)25 b(1=IW)g(array)g(2=JW)g(array)377
3591 y(\(k\))49 b(ncol)p 720 3591 V 35 w(screen:I,)25
b(number)f(of)h(columns)f(for)h(formating)f(to)g(the)h(screen)154
3819 y(19.)48 b(mapmanager)24 b(:)31 b(I,)25 b(turn)f(on)h(or)g(of)n(f)
f(the)h(mapmanager)f(1)h(=)g(on)g(0)g(=)g(of)n(f)f(\(def.)31
b(is)25 b(on\))154 4022 y(20.)48 b(read)p 504 4022 V
36 w(dd)p 640 4022 V 36 w(ring:L)28 b(:)h(if)g(true,)h(data)f(will)f
(be)i(read)f(from)g(the)g(dd)g(ring)f(instead)h(of)g(aa)h(data)f
(\002le.)44 b(this)28 b(only)327 4143 y(applies)c(to)g(the)h(online)f
(v)o(ersion)g(of)h(recsis.)30 b(the)25 b(def)o(ault)g(is)f(of)n(f/f)o
(alse.)83 4482 y Fw(Refer)m(ences)133 4706 y Fy([1])49
b(The)87 b(BOS)g(manual)f(is)h(a)n(v)n(ailable)f(from)h(the)f(CLAS)p
2545 4706 V 37 w(DOC)h(area)h(in)e(postscript)f(form.)298
4826 y(/site/ftp/pub/clas/doc/BOS.ps)133 5030 y([2])49
b(The)76 b(FP)-9 b(A)l(CK)78 b(manual)e(is)f(a)n(v)n(ailable)h(from)g
(the)h(CLAS)p 2587 5030 V 36 w(DOC)g(area)g(in)f(postscript)f(form.)298
5150 y(/site/ftp/pub/clas/doc/FP)-9 b(A)l(CK.ps)1983
5504 y(33)p eop
%%Page: 34 34
34 33 bop 133 75 a Fy([3])49 b(Arne)25 b(Fre)o(yber)n(ger)h(and)e(Mark)
h(Ito,)f(CLAS-NO)l(TE)i(97-003,)e Fu(CLAS)h(Of)n(\003ine)g(Code)g(Mana)
o(g)o(ement.)133 278 y Fy([4])49 b(John)24 b(K.)h(Ousterhout,)e
(Addison-W)-8 b(else)o(y)23 b(Publishing)g(Compan)o(y)-6
b(,)24 b Fu(Tcl)h(and)f(the)h(Tk)g(T)-9 b(oolkit.)133
482 y Fy([5])49 b(welshes)24 b(book)g(on)h(tcl/tk)298
643 y Fg(n)p Fy(bibitem)p Fg(f)p Fy(scat)p Fg(g)298 805
y Fy(James)31 b(web)i(pages)f(still)e(e)o(xist)h(and)h(he)h(still)d
(pro)o(vides)h(support)g(for)h(Ev)o(entStore)g(and)g(scat.)g(The)g(web)
298 926 y(pages)25 b(can)g(be)g(found)f(at)h(www)-6 b(.cebaf.go)o
(v/\230muguira.)133 1129 y([6])49 b(The)74 b(RECSIS)h(user)f(might)e(w)
o(ant)i(to)f(start)g(with)g(Alberto)g(Longhi')-5 b(s)73
b(web)g(document)g(at)298 1249 y(www)-6 b(.cebaf.go)o
(v/\230longhi/recsis.html.)30 b(P)o(aul)35 b(Stoler)g(and)g(Bill)g
(Maniaty)f(ha)n(v)o(e)h(written)g(a)g(document)298 1370
y(from)22 b(the)g(of)n(fsite)f(b)n(uilders)h(perspecti)n(v)o(e.)f(It)h
(can)h(be)f(found)g(at)g(xxxxx.)f(Joe)i(Manak)f(k)o(eeps)g(an)g(up)g
(to)g(date)298 1490 y(of)n(\003ine)k(softw)o(are)g(web)g(page)g(where)h
(you)f(will)f(\002nd)h(the)g(latest)g(information,)e(it)i(can)h(be)f
(referenced)h(at:)298 1611 y(www)-6 b(.cebaf.go)o(v/\230manak/of)n
(\003ine.html.)1983 5504 y(34)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
